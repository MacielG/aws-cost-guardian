(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[791],{2601:function(e,t,r){"use strict";var n,o;e.exports=(null==(n=r.g.process)?void 0:n.env)&&"object"==typeof(null==(o=r.g.process)?void 0:o.env)?r.g.process:r(8960)},619:function(){},1371:function(e){e.exports={style:{fontFamily:"'__Inter_f367f3', '__Inter_Fallback_f367f3'",fontStyle:"normal"},className:"__className_f367f3"}},8960:function(e){!function(){var t={229:function(e){var t,r,n,o=e.exports={};function defaultSetTimout(){throw Error("setTimeout has not been defined")}function defaultClearTimeout(){throw Error("clearTimeout has not been defined")}function runTimeout(e){if(t===setTimeout)return setTimeout(e,0);if((t===defaultSetTimout||!t)&&setTimeout)return t=setTimeout,setTimeout(e,0);try{return t(e,0)}catch(r){try{return t.call(null,e,0)}catch(r){return t.call(this,e,0)}}}function runClearTimeout(e){if(r===clearTimeout)return clearTimeout(e);if((r===defaultClearTimeout||!r)&&clearTimeout)return r=clearTimeout,clearTimeout(e);try{return r(e)}catch(t){try{return r.call(null,e)}catch(t){return r.call(this,e)}}}!function(){try{t="function"==typeof setTimeout?setTimeout:defaultSetTimout}catch(e){t=defaultSetTimout}try{r="function"==typeof clearTimeout?clearTimeout:defaultClearTimeout}catch(e){r=defaultClearTimeout}}();var i=[],s=!1,a=-1;function cleanUpNextTick(){s&&n&&(s=!1,n.length?i=n.concat(i):a=-1,i.length&&drainQueue())}function drainQueue(){if(!s){var e=runTimeout(cleanUpNextTick);s=!0;for(var t=i.length;t;){for(n=i,i=[];++a<t;)n&&n[a].run();a=-1,t=i.length}n=null,s=!1,runClearTimeout(e)}}function Item(e,t){this.fun=e,this.array=t}function noop(){}o.nextTick=function(e){var t=Array(arguments.length-1);if(arguments.length>1)for(var r=1;r<arguments.length;r++)t[r-1]=arguments[r];i.push(new Item(e,t)),1!==i.length||s||runTimeout(drainQueue)},Item.prototype.run=function(){this.fun.apply(null,this.array)},o.title="browser",o.browser=!0,o.env={},o.argv=[],o.version="",o.versions={},o.on=noop,o.addListener=noop,o.once=noop,o.off=noop,o.removeListener=noop,o.removeAllListeners=noop,o.emit=noop,o.prependListener=noop,o.prependOnceListener=noop,o.listeners=function(e){return[]},o.binding=function(e){throw Error("process.binding is not supported")},o.cwd=function(){return"/"},o.chdir=function(e){throw Error("process.chdir is not supported")},o.umask=function(){return 0}}},r={};function __nccwpck_require__(e){var n=r[e];if(void 0!==n)return n.exports;var o=r[e]={exports:{}},i=!0;try{t[e](o,o.exports,__nccwpck_require__),i=!1}finally{i&&delete r[e]}return o.exports}__nccwpck_require__.ab="//";var n=__nccwpck_require__(229);e.exports=n}()},6261:function(e,t){"use strict";t.byteLength=byteLength,t.toByteArray=toByteArray,t.fromByteArray=fromByteArray;for(var r=[],n=[],o="undefined"!=typeof Uint8Array?Uint8Array:Array,i="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",s=0,a=i.length;s<a;++s)r[s]=i[s],n[i.charCodeAt(s)]=s;function getLens(e){var t=e.length;if(t%4>0)throw Error("Invalid string. Length must be a multiple of 4");var r=e.indexOf("=");-1===r&&(r=t);var n=r===t?0:4-r%4;return[r,n]}function byteLength(e){var t=getLens(e),r=t[0],n=t[1];return(r+n)*3/4-n}function _byteLength(e,t,r){return(t+r)*3/4-r}function toByteArray(e){var t,r,i=getLens(e),s=i[0],a=i[1],u=new o(_byteLength(e,s,a)),c=0,f=a>0?s-4:s;for(r=0;r<f;r+=4)t=n[e.charCodeAt(r)]<<18|n[e.charCodeAt(r+1)]<<12|n[e.charCodeAt(r+2)]<<6|n[e.charCodeAt(r+3)],u[c++]=t>>16&255,u[c++]=t>>8&255,u[c++]=255&t;return 2===a&&(t=n[e.charCodeAt(r)]<<2|n[e.charCodeAt(r+1)]>>4,u[c++]=255&t),1===a&&(t=n[e.charCodeAt(r)]<<10|n[e.charCodeAt(r+1)]<<4|n[e.charCodeAt(r+2)]>>2,u[c++]=t>>8&255,u[c++]=255&t),u}function tripletToBase64(e){return r[e>>18&63]+r[e>>12&63]+r[e>>6&63]+r[63&e]}function encodeChunk(e,t,r){for(var n=[],o=t;o<r;o+=3)n.push(tripletToBase64((e[o]<<16&16711680)+(e[o+1]<<8&65280)+(255&e[o+2])));return n.join("")}function fromByteArray(e){for(var t,n=e.length,o=n%3,i=[],s=0,a=n-o;s<a;s+=16383)i.push(encodeChunk(e,s,s+16383>a?a:s+16383));return 1===o?i.push(r[(t=e[n-1])>>2]+r[t<<4&63]+"=="):2===o&&i.push(r[(t=(e[n-2]<<8)+e[n-1])>>10]+r[t>>4&63]+r[t<<2&63]+"="),i.join("")}n["-".charCodeAt(0)]=62,n["_".charCodeAt(0)]=63},6593:function(e,t,r){"use strict";/*!
 * The buffer module from node.js, for the browser.
 *
 * @author   Feross Aboukhadijeh <http://feross.org>
 * @license  MIT
 */var n=r(6261),o=r(6506),i=r(4376);function typedArraySupport(){try{var e=new Uint8Array(1);return e.__proto__={__proto__:Uint8Array.prototype,foo:function(){return 42}},42===e.foo()&&"function"==typeof e.subarray&&0===e.subarray(1,1).byteLength}catch(e){return!1}}function kMaxLength(){return Buffer.TYPED_ARRAY_SUPPORT?2147483647:1073741823}function createBuffer(e,t){if(kMaxLength()<t)throw RangeError("Invalid typed array length");return Buffer.TYPED_ARRAY_SUPPORT?(e=new Uint8Array(t)).__proto__=Buffer.prototype:(null===e&&(e=new Buffer(t)),e.length=t),e}function Buffer(e,t,r){if(!Buffer.TYPED_ARRAY_SUPPORT&&!(this instanceof Buffer))return new Buffer(e,t,r);if("number"==typeof e){if("string"==typeof t)throw Error("If encoding is specified then the first argument must be a string");return allocUnsafe(this,e)}return from(this,e,t,r)}function from(e,t,r,n){if("number"==typeof t)throw TypeError('"value" argument must not be a number');return"undefined"!=typeof ArrayBuffer&&t instanceof ArrayBuffer?fromArrayBuffer(e,t,r,n):"string"==typeof t?fromString(e,t,r):fromObject(e,t)}function assertSize(e){if("number"!=typeof e)throw TypeError('"size" argument must be a number');if(e<0)throw RangeError('"size" argument must not be negative')}function alloc(e,t,r,n){return(assertSize(t),t<=0)?createBuffer(e,t):void 0!==r?"string"==typeof n?createBuffer(e,t).fill(r,n):createBuffer(e,t).fill(r):createBuffer(e,t)}function allocUnsafe(e,t){if(assertSize(t),e=createBuffer(e,t<0?0:0|checked(t)),!Buffer.TYPED_ARRAY_SUPPORT)for(var r=0;r<t;++r)e[r]=0;return e}function fromString(e,t,r){if(("string"!=typeof r||""===r)&&(r="utf8"),!Buffer.isEncoding(r))throw TypeError('"encoding" must be a valid string encoding');var n=0|byteLength(t,r),o=(e=createBuffer(e,n)).write(t,r);return o!==n&&(e=e.slice(0,o)),e}function fromArrayLike(e,t){var r=t.length<0?0:0|checked(t.length);e=createBuffer(e,r);for(var n=0;n<r;n+=1)e[n]=255&t[n];return e}function fromArrayBuffer(e,t,r,n){if(t.byteLength,r<0||t.byteLength<r)throw RangeError("'offset' is out of bounds");if(t.byteLength<r+(n||0))throw RangeError("'length' is out of bounds");return t=void 0===r&&void 0===n?new Uint8Array(t):void 0===n?new Uint8Array(t,r):new Uint8Array(t,r,n),Buffer.TYPED_ARRAY_SUPPORT?(e=t).__proto__=Buffer.prototype:e=fromArrayLike(e,t),e}function fromObject(e,t){if(Buffer.isBuffer(t)){var r=0|checked(t.length);return 0===(e=createBuffer(e,r)).length||t.copy(e,0,0,r),e}if(t){if("undefined"!=typeof ArrayBuffer&&t.buffer instanceof ArrayBuffer||"length"in t)return"number"!=typeof t.length||isnan(t.length)?createBuffer(e,0):fromArrayLike(e,t);if("Buffer"===t.type&&i(t.data))return fromArrayLike(e,t.data)}throw TypeError("First argument must be a string, Buffer, ArrayBuffer, Array, or array-like object.")}function checked(e){if(e>=kMaxLength())throw RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+kMaxLength().toString(16)+" bytes");return 0|e}function byteLength(e,t){if(Buffer.isBuffer(e))return e.length;if("undefined"!=typeof ArrayBuffer&&"function"==typeof ArrayBuffer.isView&&(ArrayBuffer.isView(e)||e instanceof ArrayBuffer))return e.byteLength;"string"!=typeof e&&(e=""+e);var r=e.length;if(0===r)return 0;for(var n=!1;;)switch(t){case"ascii":case"latin1":case"binary":return r;case"utf8":case"utf-8":case void 0:return utf8ToBytes(e).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*r;case"hex":return r>>>1;case"base64":return base64ToBytes(e).length;default:if(n)return utf8ToBytes(e).length;t=(""+t).toLowerCase(),n=!0}}function slowToString(e,t,r){var n=!1;if((void 0===t||t<0)&&(t=0),t>this.length||((void 0===r||r>this.length)&&(r=this.length),r<=0||(r>>>=0)<=(t>>>=0)))return"";for(e||(e="utf8");;)switch(e){case"hex":return hexSlice(this,t,r);case"utf8":case"utf-8":return utf8Slice(this,t,r);case"ascii":return asciiSlice(this,t,r);case"latin1":case"binary":return latin1Slice(this,t,r);case"base64":return base64Slice(this,t,r);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return utf16leSlice(this,t,r);default:if(n)throw TypeError("Unknown encoding: "+e);e=(e+"").toLowerCase(),n=!0}}function swap(e,t,r){var n=e[t];e[t]=e[r],e[r]=n}function bidirectionalIndexOf(e,t,r,n,o){if(0===e.length)return -1;if("string"==typeof r?(n=r,r=0):r>2147483647?r=2147483647:r<-2147483648&&(r=-2147483648),isNaN(r=+r)&&(r=o?0:e.length-1),r<0&&(r=e.length+r),r>=e.length){if(o)return -1;r=e.length-1}else if(r<0){if(!o)return -1;r=0}if("string"==typeof t&&(t=Buffer.from(t,n)),Buffer.isBuffer(t))return 0===t.length?-1:arrayIndexOf(e,t,r,n,o);if("number"==typeof t)return(t&=255,Buffer.TYPED_ARRAY_SUPPORT&&"function"==typeof Uint8Array.prototype.indexOf)?o?Uint8Array.prototype.indexOf.call(e,t,r):Uint8Array.prototype.lastIndexOf.call(e,t,r):arrayIndexOf(e,[t],r,n,o);throw TypeError("val must be string, number or Buffer")}function arrayIndexOf(e,t,r,n,o){var i,s=1,a=e.length,u=t.length;if(void 0!==n&&("ucs2"===(n=String(n).toLowerCase())||"ucs-2"===n||"utf16le"===n||"utf-16le"===n)){if(e.length<2||t.length<2)return -1;s=2,a/=2,u/=2,r/=2}function read(e,t){return 1===s?e[t]:e.readUInt16BE(t*s)}if(o){var c=-1;for(i=r;i<a;i++)if(read(e,i)===read(t,-1===c?0:i-c)){if(-1===c&&(c=i),i-c+1===u)return c*s}else -1!==c&&(i-=i-c),c=-1}else for(r+u>a&&(r=a-u),i=r;i>=0;i--){for(var f=!0,h=0;h<u;h++)if(read(e,i+h)!==read(t,h)){f=!1;break}if(f)return i}return -1}function hexWrite(e,t,r,n){r=Number(r)||0;var o=e.length-r;n?(n=Number(n))>o&&(n=o):n=o;var i=t.length;if(i%2!=0)throw TypeError("Invalid hex string");n>i/2&&(n=i/2);for(var s=0;s<n;++s){var a=parseInt(t.substr(2*s,2),16);if(isNaN(a))break;e[r+s]=a}return s}function utf8Write(e,t,r,n){return blitBuffer(utf8ToBytes(t,e.length-r),e,r,n)}function latin1Write(e,t,r,n){return blitBuffer(asciiToBytes(t),e,r,n)}function base64Write(e,t,r,n){return blitBuffer(base64ToBytes(t),e,r,n)}function ucs2Write(e,t,r,n){return blitBuffer(utf16leToBytes(t,e.length-r),e,r,n)}function base64Slice(e,t,r){return 0===t&&r===e.length?n.fromByteArray(e):n.fromByteArray(e.slice(t,r))}function utf8Slice(e,t,r){r=Math.min(e.length,r);for(var n=[],o=t;o<r;){var i,s,a,u,c=e[o],f=null,h=c>239?4:c>223?3:c>191?2:1;if(o+h<=r)switch(h){case 1:c<128&&(f=c);break;case 2:(192&(i=e[o+1]))==128&&(u=(31&c)<<6|63&i)>127&&(f=u);break;case 3:i=e[o+1],s=e[o+2],(192&i)==128&&(192&s)==128&&(u=(15&c)<<12|(63&i)<<6|63&s)>2047&&(u<55296||u>57343)&&(f=u);break;case 4:i=e[o+1],s=e[o+2],a=e[o+3],(192&i)==128&&(192&s)==128&&(192&a)==128&&(u=(15&c)<<18|(63&i)<<12|(63&s)<<6|63&a)>65535&&u<1114112&&(f=u)}null===f?(f=65533,h=1):f>65535&&(f-=65536,n.push(f>>>10&1023|55296),f=56320|1023&f),n.push(f),o+=h}return decodeCodePointsArray(n)}function decodeCodePointsArray(e){var t=e.length;if(t<=4096)return String.fromCharCode.apply(String,e);for(var r="",n=0;n<t;)r+=String.fromCharCode.apply(String,e.slice(n,n+=4096));return r}function asciiSlice(e,t,r){var n="";r=Math.min(e.length,r);for(var o=t;o<r;++o)n+=String.fromCharCode(127&e[o]);return n}function latin1Slice(e,t,r){var n="";r=Math.min(e.length,r);for(var o=t;o<r;++o)n+=String.fromCharCode(e[o]);return n}function hexSlice(e,t,r){var n=e.length;(!t||t<0)&&(t=0),(!r||r<0||r>n)&&(r=n);for(var o="",i=t;i<r;++i)o+=toHex(e[i]);return o}function utf16leSlice(e,t,r){for(var n=e.slice(t,r),o="",i=0;i<n.length;i+=2)o+=String.fromCharCode(n[i]+256*n[i+1]);return o}function checkOffset(e,t,r){if(e%1!=0||e<0)throw RangeError("offset is not uint");if(e+t>r)throw RangeError("Trying to access beyond buffer length")}function checkInt(e,t,r,n,o,i){if(!Buffer.isBuffer(e))throw TypeError('"buffer" argument must be a Buffer instance');if(t>o||t<i)throw RangeError('"value" argument is out of bounds');if(r+n>e.length)throw RangeError("Index out of range")}function objectWriteUInt16(e,t,r,n){t<0&&(t=65535+t+1);for(var o=0,i=Math.min(e.length-r,2);o<i;++o)e[r+o]=(t&255<<8*(n?o:1-o))>>>(n?o:1-o)*8}function objectWriteUInt32(e,t,r,n){t<0&&(t=4294967295+t+1);for(var o=0,i=Math.min(e.length-r,4);o<i;++o)e[r+o]=t>>>(n?o:3-o)*8&255}function checkIEEE754(e,t,r,n,o,i){if(r+n>e.length||r<0)throw RangeError("Index out of range")}function writeFloat(e,t,r,n,i){return i||checkIEEE754(e,t,r,4,34028234663852886e22,-34028234663852886e22),o.write(e,t,r,n,23,4),r+4}function writeDouble(e,t,r,n,i){return i||checkIEEE754(e,t,r,8,17976931348623157e292,-17976931348623157e292),o.write(e,t,r,n,52,8),r+8}t.lW=Buffer,t.h2=50,Buffer.TYPED_ARRAY_SUPPORT=void 0!==r.g.TYPED_ARRAY_SUPPORT?r.g.TYPED_ARRAY_SUPPORT:typedArraySupport(),kMaxLength(),Buffer.poolSize=8192,Buffer._augment=function(e){return e.__proto__=Buffer.prototype,e},Buffer.from=function(e,t,r){return from(null,e,t,r)},Buffer.TYPED_ARRAY_SUPPORT&&(Buffer.prototype.__proto__=Uint8Array.prototype,Buffer.__proto__=Uint8Array,"undefined"!=typeof Symbol&&Symbol.species&&Buffer[Symbol.species]===Buffer&&Object.defineProperty(Buffer,Symbol.species,{value:null,configurable:!0})),Buffer.alloc=function(e,t,r){return alloc(null,e,t,r)},Buffer.allocUnsafe=function(e){return allocUnsafe(null,e)},Buffer.allocUnsafeSlow=function(e){return allocUnsafe(null,e)},Buffer.isBuffer=function(e){return!!(null!=e&&e._isBuffer)},Buffer.compare=function(e,t){if(!Buffer.isBuffer(e)||!Buffer.isBuffer(t))throw TypeError("Arguments must be Buffers");if(e===t)return 0;for(var r=e.length,n=t.length,o=0,i=Math.min(r,n);o<i;++o)if(e[o]!==t[o]){r=e[o],n=t[o];break}return r<n?-1:n<r?1:0},Buffer.isEncoding=function(e){switch(String(e).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},Buffer.concat=function(e,t){if(!i(e))throw TypeError('"list" argument must be an Array of Buffers');if(0===e.length)return Buffer.alloc(0);if(void 0===t)for(r=0,t=0;r<e.length;++r)t+=e[r].length;var r,n=Buffer.allocUnsafe(t),o=0;for(r=0;r<e.length;++r){var s=e[r];if(!Buffer.isBuffer(s))throw TypeError('"list" argument must be an Array of Buffers');s.copy(n,o),o+=s.length}return n},Buffer.byteLength=byteLength,Buffer.prototype._isBuffer=!0,Buffer.prototype.swap16=function(){var e=this.length;if(e%2!=0)throw RangeError("Buffer size must be a multiple of 16-bits");for(var t=0;t<e;t+=2)swap(this,t,t+1);return this},Buffer.prototype.swap32=function(){var e=this.length;if(e%4!=0)throw RangeError("Buffer size must be a multiple of 32-bits");for(var t=0;t<e;t+=4)swap(this,t,t+3),swap(this,t+1,t+2);return this},Buffer.prototype.swap64=function(){var e=this.length;if(e%8!=0)throw RangeError("Buffer size must be a multiple of 64-bits");for(var t=0;t<e;t+=8)swap(this,t,t+7),swap(this,t+1,t+6),swap(this,t+2,t+5),swap(this,t+3,t+4);return this},Buffer.prototype.toString=function(){var e=0|this.length;return 0===e?"":0==arguments.length?utf8Slice(this,0,e):slowToString.apply(this,arguments)},Buffer.prototype.equals=function(e){if(!Buffer.isBuffer(e))throw TypeError("Argument must be a Buffer");return this===e||0===Buffer.compare(this,e)},Buffer.prototype.inspect=function(){var e="",r=t.h2;return this.length>0&&(e=this.toString("hex",0,r).match(/.{2}/g).join(" "),this.length>r&&(e+=" ... ")),"<Buffer "+e+">"},Buffer.prototype.compare=function(e,t,r,n,o){if(!Buffer.isBuffer(e))throw TypeError("Argument must be a Buffer");if(void 0===t&&(t=0),void 0===r&&(r=e?e.length:0),void 0===n&&(n=0),void 0===o&&(o=this.length),t<0||r>e.length||n<0||o>this.length)throw RangeError("out of range index");if(n>=o&&t>=r)return 0;if(n>=o)return -1;if(t>=r)return 1;if(t>>>=0,r>>>=0,n>>>=0,o>>>=0,this===e)return 0;for(var i=o-n,s=r-t,a=Math.min(i,s),u=this.slice(n,o),c=e.slice(t,r),f=0;f<a;++f)if(u[f]!==c[f]){i=u[f],s=c[f];break}return i<s?-1:s<i?1:0},Buffer.prototype.includes=function(e,t,r){return -1!==this.indexOf(e,t,r)},Buffer.prototype.indexOf=function(e,t,r){return bidirectionalIndexOf(this,e,t,r,!0)},Buffer.prototype.lastIndexOf=function(e,t,r){return bidirectionalIndexOf(this,e,t,r,!1)},Buffer.prototype.write=function(e,t,r,n){if(void 0===t)n="utf8",r=this.length,t=0;else if(void 0===r&&"string"==typeof t)n=t,r=this.length,t=0;else if(isFinite(t))t|=0,isFinite(r)?(r|=0,void 0===n&&(n="utf8")):(n=r,r=void 0);else throw Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");var o,i,s=this.length-t;if((void 0===r||r>s)&&(r=s),e.length>0&&(r<0||t<0)||t>this.length)throw RangeError("Attempt to write outside buffer bounds");n||(n="utf8");for(var a=!1;;)switch(n){case"hex":return hexWrite(this,e,t,r);case"utf8":case"utf-8":return utf8Write(this,e,t,r);case"ascii":return o=t,i=r,blitBuffer(asciiToBytes(e),this,o,i);case"latin1":case"binary":return latin1Write(this,e,t,r);case"base64":return base64Write(this,e,t,r);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return ucs2Write(this,e,t,r);default:if(a)throw TypeError("Unknown encoding: "+n);n=(""+n).toLowerCase(),a=!0}},Buffer.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}},Buffer.prototype.slice=function(e,t){var r,n=this.length;if(e=~~e,t=void 0===t?n:~~t,e<0?(e+=n)<0&&(e=0):e>n&&(e=n),t<0?(t+=n)<0&&(t=0):t>n&&(t=n),t<e&&(t=e),Buffer.TYPED_ARRAY_SUPPORT)(r=this.subarray(e,t)).__proto__=Buffer.prototype;else{var o=t-e;r=new Buffer(o,void 0);for(var i=0;i<o;++i)r[i]=this[i+e]}return r},Buffer.prototype.readUIntLE=function(e,t,r){e|=0,t|=0,r||checkOffset(e,t,this.length);for(var n=this[e],o=1,i=0;++i<t&&(o*=256);)n+=this[e+i]*o;return n},Buffer.prototype.readUIntBE=function(e,t,r){e|=0,t|=0,r||checkOffset(e,t,this.length);for(var n=this[e+--t],o=1;t>0&&(o*=256);)n+=this[e+--t]*o;return n},Buffer.prototype.readUInt8=function(e,t){return t||checkOffset(e,1,this.length),this[e]},Buffer.prototype.readUInt16LE=function(e,t){return t||checkOffset(e,2,this.length),this[e]|this[e+1]<<8},Buffer.prototype.readUInt16BE=function(e,t){return t||checkOffset(e,2,this.length),this[e]<<8|this[e+1]},Buffer.prototype.readUInt32LE=function(e,t){return t||checkOffset(e,4,this.length),(this[e]|this[e+1]<<8|this[e+2]<<16)+16777216*this[e+3]},Buffer.prototype.readUInt32BE=function(e,t){return t||checkOffset(e,4,this.length),16777216*this[e]+(this[e+1]<<16|this[e+2]<<8|this[e+3])},Buffer.prototype.readIntLE=function(e,t,r){e|=0,t|=0,r||checkOffset(e,t,this.length);for(var n=this[e],o=1,i=0;++i<t&&(o*=256);)n+=this[e+i]*o;return n>=(o*=128)&&(n-=Math.pow(2,8*t)),n},Buffer.prototype.readIntBE=function(e,t,r){e|=0,t|=0,r||checkOffset(e,t,this.length);for(var n=t,o=1,i=this[e+--n];n>0&&(o*=256);)i+=this[e+--n]*o;return i>=(o*=128)&&(i-=Math.pow(2,8*t)),i},Buffer.prototype.readInt8=function(e,t){return(t||checkOffset(e,1,this.length),128&this[e])?-((255-this[e]+1)*1):this[e]},Buffer.prototype.readInt16LE=function(e,t){t||checkOffset(e,2,this.length);var r=this[e]|this[e+1]<<8;return 32768&r?4294901760|r:r},Buffer.prototype.readInt16BE=function(e,t){t||checkOffset(e,2,this.length);var r=this[e+1]|this[e]<<8;return 32768&r?4294901760|r:r},Buffer.prototype.readInt32LE=function(e,t){return t||checkOffset(e,4,this.length),this[e]|this[e+1]<<8|this[e+2]<<16|this[e+3]<<24},Buffer.prototype.readInt32BE=function(e,t){return t||checkOffset(e,4,this.length),this[e]<<24|this[e+1]<<16|this[e+2]<<8|this[e+3]},Buffer.prototype.readFloatLE=function(e,t){return t||checkOffset(e,4,this.length),o.read(this,e,!0,23,4)},Buffer.prototype.readFloatBE=function(e,t){return t||checkOffset(e,4,this.length),o.read(this,e,!1,23,4)},Buffer.prototype.readDoubleLE=function(e,t){return t||checkOffset(e,8,this.length),o.read(this,e,!0,52,8)},Buffer.prototype.readDoubleBE=function(e,t){return t||checkOffset(e,8,this.length),o.read(this,e,!1,52,8)},Buffer.prototype.writeUIntLE=function(e,t,r,n){if(e=+e,t|=0,r|=0,!n){var o=Math.pow(2,8*r)-1;checkInt(this,e,t,r,o,0)}var i=1,s=0;for(this[t]=255&e;++s<r&&(i*=256);)this[t+s]=e/i&255;return t+r},Buffer.prototype.writeUIntBE=function(e,t,r,n){if(e=+e,t|=0,r|=0,!n){var o=Math.pow(2,8*r)-1;checkInt(this,e,t,r,o,0)}var i=r-1,s=1;for(this[t+i]=255&e;--i>=0&&(s*=256);)this[t+i]=e/s&255;return t+r},Buffer.prototype.writeUInt8=function(e,t,r){return e=+e,t|=0,r||checkInt(this,e,t,1,255,0),Buffer.TYPED_ARRAY_SUPPORT||(e=Math.floor(e)),this[t]=255&e,t+1},Buffer.prototype.writeUInt16LE=function(e,t,r){return e=+e,t|=0,r||checkInt(this,e,t,2,65535,0),Buffer.TYPED_ARRAY_SUPPORT?(this[t]=255&e,this[t+1]=e>>>8):objectWriteUInt16(this,e,t,!0),t+2},Buffer.prototype.writeUInt16BE=function(e,t,r){return e=+e,t|=0,r||checkInt(this,e,t,2,65535,0),Buffer.TYPED_ARRAY_SUPPORT?(this[t]=e>>>8,this[t+1]=255&e):objectWriteUInt16(this,e,t,!1),t+2},Buffer.prototype.writeUInt32LE=function(e,t,r){return e=+e,t|=0,r||checkInt(this,e,t,4,4294967295,0),Buffer.TYPED_ARRAY_SUPPORT?(this[t+3]=e>>>24,this[t+2]=e>>>16,this[t+1]=e>>>8,this[t]=255&e):objectWriteUInt32(this,e,t,!0),t+4},Buffer.prototype.writeUInt32BE=function(e,t,r){return e=+e,t|=0,r||checkInt(this,e,t,4,4294967295,0),Buffer.TYPED_ARRAY_SUPPORT?(this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e):objectWriteUInt32(this,e,t,!1),t+4},Buffer.prototype.writeIntLE=function(e,t,r,n){if(e=+e,t|=0,!n){var o=Math.pow(2,8*r-1);checkInt(this,e,t,r,o-1,-o)}var i=0,s=1,a=0;for(this[t]=255&e;++i<r&&(s*=256);)e<0&&0===a&&0!==this[t+i-1]&&(a=1),this[t+i]=(e/s>>0)-a&255;return t+r},Buffer.prototype.writeIntBE=function(e,t,r,n){if(e=+e,t|=0,!n){var o=Math.pow(2,8*r-1);checkInt(this,e,t,r,o-1,-o)}var i=r-1,s=1,a=0;for(this[t+i]=255&e;--i>=0&&(s*=256);)e<0&&0===a&&0!==this[t+i+1]&&(a=1),this[t+i]=(e/s>>0)-a&255;return t+r},Buffer.prototype.writeInt8=function(e,t,r){return e=+e,t|=0,r||checkInt(this,e,t,1,127,-128),Buffer.TYPED_ARRAY_SUPPORT||(e=Math.floor(e)),e<0&&(e=255+e+1),this[t]=255&e,t+1},Buffer.prototype.writeInt16LE=function(e,t,r){return e=+e,t|=0,r||checkInt(this,e,t,2,32767,-32768),Buffer.TYPED_ARRAY_SUPPORT?(this[t]=255&e,this[t+1]=e>>>8):objectWriteUInt16(this,e,t,!0),t+2},Buffer.prototype.writeInt16BE=function(e,t,r){return e=+e,t|=0,r||checkInt(this,e,t,2,32767,-32768),Buffer.TYPED_ARRAY_SUPPORT?(this[t]=e>>>8,this[t+1]=255&e):objectWriteUInt16(this,e,t,!1),t+2},Buffer.prototype.writeInt32LE=function(e,t,r){return e=+e,t|=0,r||checkInt(this,e,t,4,2147483647,-2147483648),Buffer.TYPED_ARRAY_SUPPORT?(this[t]=255&e,this[t+1]=e>>>8,this[t+2]=e>>>16,this[t+3]=e>>>24):objectWriteUInt32(this,e,t,!0),t+4},Buffer.prototype.writeInt32BE=function(e,t,r){return e=+e,t|=0,r||checkInt(this,e,t,4,2147483647,-2147483648),e<0&&(e=4294967295+e+1),Buffer.TYPED_ARRAY_SUPPORT?(this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e):objectWriteUInt32(this,e,t,!1),t+4},Buffer.prototype.writeFloatLE=function(e,t,r){return writeFloat(this,e,t,!0,r)},Buffer.prototype.writeFloatBE=function(e,t,r){return writeFloat(this,e,t,!1,r)},Buffer.prototype.writeDoubleLE=function(e,t,r){return writeDouble(this,e,t,!0,r)},Buffer.prototype.writeDoubleBE=function(e,t,r){return writeDouble(this,e,t,!1,r)},Buffer.prototype.copy=function(e,t,r,n){if(r||(r=0),n||0===n||(n=this.length),t>=e.length&&(t=e.length),t||(t=0),n>0&&n<r&&(n=r),n===r||0===e.length||0===this.length)return 0;if(t<0)throw RangeError("targetStart out of bounds");if(r<0||r>=this.length)throw RangeError("sourceStart out of bounds");if(n<0)throw RangeError("sourceEnd out of bounds");n>this.length&&(n=this.length),e.length-t<n-r&&(n=e.length-t+r);var o,i=n-r;if(this===e&&r<t&&t<n)for(o=i-1;o>=0;--o)e[o+t]=this[o+r];else if(i<1e3||!Buffer.TYPED_ARRAY_SUPPORT)for(o=0;o<i;++o)e[o+t]=this[o+r];else Uint8Array.prototype.set.call(e,this.subarray(r,r+i),t);return i},Buffer.prototype.fill=function(e,t,r,n){if("string"==typeof e){if("string"==typeof t?(n=t,t=0,r=this.length):"string"==typeof r&&(n=r,r=this.length),1===e.length){var o,i=e.charCodeAt(0);i<256&&(e=i)}if(void 0!==n&&"string"!=typeof n)throw TypeError("encoding must be a string");if("string"==typeof n&&!Buffer.isEncoding(n))throw TypeError("Unknown encoding: "+n)}else"number"==typeof e&&(e&=255);if(t<0||this.length<t||this.length<r)throw RangeError("Out of range index");if(r<=t)return this;if(t>>>=0,r=void 0===r?this.length:r>>>0,e||(e=0),"number"==typeof e)for(o=t;o<r;++o)this[o]=e;else{var s=Buffer.isBuffer(e)?e:utf8ToBytes(new Buffer(e,n).toString()),a=s.length;for(o=0;o<r-t;++o)this[o+t]=s[o%a]}return this};var s=/[^+\/0-9A-Za-z-_]/g;function base64clean(e){if((e=stringtrim(e).replace(s,"")).length<2)return"";for(;e.length%4!=0;)e+="=";return e}function stringtrim(e){return e.trim?e.trim():e.replace(/^\s+|\s+$/g,"")}function toHex(e){return e<16?"0"+e.toString(16):e.toString(16)}function utf8ToBytes(e,t){t=t||1/0;for(var r,n=e.length,o=null,i=[],s=0;s<n;++s){if((r=e.charCodeAt(s))>55295&&r<57344){if(!o){if(r>56319||s+1===n){(t-=3)>-1&&i.push(239,191,189);continue}o=r;continue}if(r<56320){(t-=3)>-1&&i.push(239,191,189),o=r;continue}r=(o-55296<<10|r-56320)+65536}else o&&(t-=3)>-1&&i.push(239,191,189);if(o=null,r<128){if((t-=1)<0)break;i.push(r)}else if(r<2048){if((t-=2)<0)break;i.push(r>>6|192,63&r|128)}else if(r<65536){if((t-=3)<0)break;i.push(r>>12|224,r>>6&63|128,63&r|128)}else if(r<1114112){if((t-=4)<0)break;i.push(r>>18|240,r>>12&63|128,r>>6&63|128,63&r|128)}else throw Error("Invalid code point")}return i}function asciiToBytes(e){for(var t=[],r=0;r<e.length;++r)t.push(255&e.charCodeAt(r));return t}function utf16leToBytes(e,t){for(var r,n,o=[],i=0;i<e.length&&!((t-=2)<0);++i)n=(r=e.charCodeAt(i))>>8,o.push(r%256),o.push(n);return o}function base64ToBytes(e){return n.toByteArray(base64clean(e))}function blitBuffer(e,t,r,n){for(var o=0;o<n&&!(o+r>=t.length)&&!(o>=e.length);++o)t[o+r]=e[o];return o}function isnan(e){return e!=e}},6506:function(e,t){/*! ieee754. BSD-3-Clause License. Feross Aboukhadijeh <https://feross.org/opensource> */t.read=function(e,t,r,n,o){var i,s,a=8*o-n-1,u=(1<<a)-1,c=u>>1,f=-7,h=r?o-1:0,l=r?-1:1,d=e[t+h];for(h+=l,i=d&(1<<-f)-1,d>>=-f,f+=a;f>0;i=256*i+e[t+h],h+=l,f-=8);for(s=i&(1<<-f)-1,i>>=-f,f+=n;f>0;s=256*s+e[t+h],h+=l,f-=8);if(0===i)i=1-c;else{if(i===u)return s?NaN:(d?-1:1)*(1/0);s+=Math.pow(2,n),i-=c}return(d?-1:1)*s*Math.pow(2,i-n)},t.write=function(e,t,r,n,o,i){var s,a,u,c=8*i-o-1,f=(1<<c)-1,h=f>>1,l=23===o?5960464477539062e-23:0,d=n?0:i-1,g=n?1:-1,p=t<0||0===t&&1/t<0?1:0;for(isNaN(t=Math.abs(t))||t===1/0?(a=isNaN(t)?1:0,s=f):(s=Math.floor(Math.log(t)/Math.LN2),t*(u=Math.pow(2,-s))<1&&(s--,u*=2),s+h>=1?t+=l/u:t+=l*Math.pow(2,1-h),t*u>=2&&(s++,u/=2),s+h>=f?(a=0,s=f):s+h>=1?(a=(t*u-1)*Math.pow(2,o),s+=h):(a=t*Math.pow(2,h-1)*Math.pow(2,o),s=0));o>=8;e[r+d]=255&a,d+=g,a/=256,o-=8);for(s=s<<o|a,c+=o;c>0;e[r+d]=255&s,d+=g,s/=256,c-=8);e[r+d-g]|=128*p}},4376:function(e){var t={}.toString;e.exports=Array.isArray||function(e){return"[object Array]"==t.call(e)}},5093:function(e,t,r){"use strict";let n,o,i;/*! js-cookie v3.0.5 | MIT */function js_cookie_assign(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)e[n]=r[n]}return e}function init(e,t){function set(r,n,o){if("undefined"!=typeof document){"number"==typeof(o=js_cookie_assign({},t,o)).expires&&(o.expires=new Date(Date.now()+864e5*o.expires)),o.expires&&(o.expires=o.expires.toUTCString()),r=encodeURIComponent(r).replace(/%(2[346B]|5E|60|7C)/g,decodeURIComponent).replace(/[()]/g,escape);var i="";for(var s in o)o[s]&&(i+="; "+s,!0!==o[s]&&(i+="="+o[s].split(";")[0]));return document.cookie=r+"="+e.write(n,r)+i}}return Object.create({set,get:function(t){if("undefined"!=typeof document&&(!arguments.length||t)){for(var r=document.cookie?document.cookie.split("; "):[],n={},o=0;o<r.length;o++){var i=r[o].split("="),s=i.slice(1).join("=");try{var a=decodeURIComponent(i[0]);if(n[a]=e.read(s,a),t===a)break}catch(e){}}return t?n[t]:n}},remove:function(e,t){set(e,"",js_cookie_assign({},t,{expires:-1}))},withAttributes:function(e){return init(this.converter,js_cookie_assign({},this.attributes,e))},withConverter:function(e){return init(js_cookie_assign({},this.converter,e),this.attributes)}},{attributes:{value:Object.freeze(t)},converter:{value:Object.freeze(e)}})}r.d(t,{V:function(){return e2}});var s,a,u,c,f,h,l,d,g,p,y,m,I,w,S,A,v,E,C,b,k,T,_,P,R,B,O,x,U,L,D,M,K,N=init({read:function(e){return'"'===e[0]&&(e=e.slice(1,-1)),e.replace(/(%[\dA-F]{2})+/gi,decodeURIComponent)},write:function(e){return encodeURIComponent(e).replace(/%(2[346BF]|3[AC-F]|40|5[BDE]|60|7[BCD])/g,decodeURIComponent)}},{path:"/"});let CookieStorage=class CookieStorage{constructor(e={}){let{path:t,domain:r,expires:n,sameSite:o,secure:i}=e;if(this.domain=r,this.path=t||"/",this.expires=Object.prototype.hasOwnProperty.call(e,"expires")?n:365,this.secure=!Object.prototype.hasOwnProperty.call(e,"secure")||i,Object.prototype.hasOwnProperty.call(e,"sameSite")){if(!o||!["strict","lax","none"].includes(o))throw Error('The sameSite value of cookieStorage must be "lax", "strict" or "none".');if("none"===o&&!this.secure)throw Error("sameSite = None requires the Secure attribute in latest browser versions.");this.sameSite=o}}async setItem(e,t){N.set(e,t,this.getData())}async getItem(e){let t=N.get(e);return t??null}async removeItem(e){N.remove(e,this.getData())}async clear(){let e=N.get(),t=Object.keys(e).map(e=>this.removeItem(e));await Promise.all(t)}getData(){return{path:this.path,expires:this.expires,domain:this.domain,secure:this.secure,...this.sameSite&&{sameSite:this.sameSite}}}};(C=s||(s={})).NoEndpointId="NoEndpointId",C.PlatformNotSupported="PlatformNotSupported",C.Unknown="Unknown",C.NetworkError="NetworkError";let AmplifyError_AmplifyError=class AmplifyError_AmplifyError extends Error{constructor({message:e,name:t,recoverySuggestion:r,underlyingError:n,metadata:o}){if(super(e),this.name=t,this.underlyingError=n,this.recoverySuggestion=r,o){let{extendedRequestId:e,httpStatusCode:t,requestId:r}=o;this.metadata={extendedRequestId:e,httpStatusCode:t,requestId:r}}this.constructor=AmplifyError_AmplifyError,Object.setPrototypeOf(this,AmplifyError_AmplifyError.prototype)}};let PlatformNotSupportedError=class PlatformNotSupportedError extends AmplifyError_AmplifyError{constructor(){super({name:s.PlatformNotSupported,message:"Function not supported on current platform"})}};let KeyValueStorage=class KeyValueStorage{constructor(e){this.storage=e}async setItem(e,t){if(!this.storage)throw new PlatformNotSupportedError;this.storage.setItem(e,t)}async getItem(e){if(!this.storage)throw new PlatformNotSupportedError;return this.storage.getItem(e)}async removeItem(e){if(!this.storage)throw new PlatformNotSupportedError;this.storage.removeItem(e)}async clear(){if(!this.storage)throw new PlatformNotSupportedError;this.storage.clear()}};(b=a||(a={})).DEBUG="DEBUG",b.ERROR="ERROR",b.INFO="INFO",b.WARN="WARN",b.VERBOSE="VERBOSE",b.NONE="NONE";let W={VERBOSE:1,DEBUG:2,INFO:3,WARN:4,ERROR:5,NONE:6};let ConsoleLogger=class ConsoleLogger{constructor(e,t=a.WARN){this.name=e,this.level=t,this._pluggables=[]}_padding(e){return e<10?"0"+e:""+e}_ts(){let e=new Date;return[this._padding(e.getMinutes()),this._padding(e.getSeconds())].join(":")+"."+e.getMilliseconds()}configure(e){return e&&(this._config=e),this._config}_log(e,...t){let r=this.level;ConsoleLogger.LOG_LEVEL&&(r=ConsoleLogger.LOG_LEVEL),"undefined"!=typeof window&&window.LOG_LEVEL&&(r=window.LOG_LEVEL);let n=W[r],o=W[e];if(!(o>=n))return;let i=console.log.bind(console);e===a.ERROR&&console.error&&(i=console.error.bind(console)),e===a.WARN&&console.warn&&(i=console.warn.bind(console)),ConsoleLogger.BIND_ALL_LOG_LEVELS&&(e===a.INFO&&console.info&&(i=console.info.bind(console)),e===a.DEBUG&&console.debug&&(i=console.debug.bind(console)));let s=`[${e}] ${this._ts()} ${this.name}`,u="";if(1===t.length&&"string"==typeof t[0])i(u=`${s} - ${t[0]}`);else if(1===t.length)u=`${s} ${t[0]}`,i(s,t[0]);else if("string"==typeof t[0]){let e=t.slice(1);1===e.length&&(e=e[0]),u=`${s} - ${t[0]} ${e}`,i(`${s} - ${t[0]}`,e)}else u=`${s} ${t}`,i(s,t);for(let e of this._pluggables){let t={message:u,timestamp:Date.now()};e.pushLogs([t])}}log(...e){this._log(a.INFO,...e)}info(...e){this._log(a.INFO,...e)}warn(...e){this._log(a.WARN,...e)}error(...e){this._log(a.ERROR,...e)}debug(...e){this._log(a.DEBUG,...e)}verbose(...e){this._log(a.VERBOSE,...e)}addPluggable(e){e&&"Logging"===e.getCategoryName()&&(this._pluggables.push(e),e.configure(this._config))}listPluggables(){return this._pluggables}};ConsoleLogger.LOG_LEVEL=null,ConsoleLogger.BIND_ALL_LOG_LEVELS=!1;let InMemoryStorage=class InMemoryStorage{constructor(){this.storage=new Map}get length(){return this.storage.size}key(e){return e>this.length-1?null:Array.from(this.storage.keys())[e]}setItem(e,t){this.storage.set(e,t)}getItem(e){return this.storage.get(e)??null}removeItem(e){this.storage.delete(e)}clear(){this.storage.clear()}};let V=new ConsoleLogger("CoreStorageUtils"),getLocalStorageWithFallback=()=>{try{if("undefined"!=typeof window&&window.localStorage)return window.localStorage}catch(e){V.info("localStorage not found. InMemoryStorage is used as a fallback.")}return new InMemoryStorage},getSessionStorageWithFallback=()=>{try{if("undefined"!=typeof window&&window.sessionStorage)return window.sessionStorage.getItem("test"),window.sessionStorage;throw Error("sessionStorage is not defined")}catch(e){return V.info("sessionStorage not found. InMemoryStorage is used as a fallback."),new InMemoryStorage}};let DefaultStorage=class DefaultStorage extends KeyValueStorage{constructor(){super(getLocalStorageWithFallback())}};let SessionStorage=class SessionStorage extends KeyValueStorage{constructor(){super(getSessionStorageWithFallback())}};let SyncKeyValueStorage=class SyncKeyValueStorage{constructor(e){this._storage=e}get storage(){if(!this._storage)throw new PlatformNotSupportedError;return this._storage}setItem(e,t){this.storage.setItem(e,t)}getItem(e){return this.storage.getItem(e)}removeItem(e){this.storage.removeItem(e)}clear(){this.storage.clear()}};let SyncSessionStorage=class SyncSessionStorage extends SyncKeyValueStorage{constructor(){super(getSessionStorageWithFallback())}};let F=new DefaultStorage;new SessionStorage,new SyncSessionStorage,new KeyValueStorage(new InMemoryStorage);let j="undefined"!=typeof Symbol?Symbol("amplify_default"):"@@amplify_default",G=new ConsoleLogger("Hub");let HubClass=class HubClass{constructor(e){this.listeners=new Map,this.protectedChannels=["core","auth","api","analytics","interactions","pubsub","storage","ui","xr"],this.name=e}_remove(e,t){let r=this.listeners.get(e);if(!r){G.warn(`No listeners for ${e}`);return}this.listeners.set(e,[...r.filter(({callback:e})=>e!==t)])}dispatch(e,t,r,n){if("string"==typeof e&&this.protectedChannels.indexOf(e)>-1){let t=n===j;t||G.warn(`WARNING: ${e} is protected and dispatching on it can have unintended consequences`)}let o={channel:e,payload:{...t},source:r,patternInfo:[]};try{this._toListeners(o)}catch(e){G.error(e)}}listen(e,t,r="noname"){if("function"!=typeof t)throw new AmplifyError_AmplifyError({name:"NoHubcallbackProvidedException",message:"No callback supplied to Hub"});let n=this.listeners.get(e);return n||(n=[],this.listeners.set(e,n)),n.push({name:r,callback:t}),()=>{this._remove(e,t)}}_toListeners(e){let{channel:t,payload:r}=e,n=this.listeners.get(t);n&&n.forEach(n=>{G.debug(`Dispatching to ${t} with `,r);try{n.callback(e)}catch(e){G.error(e)}})}};let $=new HubClass("__default__");new HubClass("internal-hub");let deepFreeze=e=>{let t=Reflect.ownKeys(e);for(let r of t){let t=e[r];(t&&"object"==typeof t||"function"==typeof t)&&deepFreeze(t)}return Object.freeze(e)},z=Symbol("oauth-listener"),Y=new ConsoleLogger("parseAWSExports"),q={API_KEY:"apiKey",AWS_IAM:"iam",AMAZON_COGNITO_USER_POOLS:"userPool",OPENID_CONNECT:"oidc",NONE:"none",AWS_LAMBDA:"lambda",LAMBDA:"lambda"},parseAWSExports=(e={})=>{if(!Object.prototype.hasOwnProperty.call(e,"aws_project_region"))throw new AmplifyError_AmplifyError({name:"InvalidParameterException",message:"Invalid config parameter.",recoverySuggestion:"Ensure passing the config object imported from  `amplifyconfiguration.json`."});let{aws_appsync_apiKey:t,aws_appsync_authenticationType:r,aws_appsync_graphqlEndpoint:n,aws_appsync_region:o,aws_bots_config:i,aws_cognito_identity_pool_id:s,aws_cognito_sign_up_verification_method:a,aws_cognito_mfa_configuration:u,aws_cognito_mfa_types:c,aws_cognito_password_protection_settings:f,aws_cognito_verification_mechanisms:h,aws_cognito_signup_attributes:l,aws_cognito_social_providers:d,aws_cognito_username_attributes:g,aws_mandatory_sign_in:p,aws_mobile_analytics_app_id:y,aws_mobile_analytics_app_region:m,aws_user_files_s3_bucket:I,aws_user_files_s3_bucket_region:w,aws_user_files_s3_dangerously_connect_to_http_endpoint_for_testing:S,aws_user_pools_id:A,aws_user_pools_web_client_id:v,geo:E,oauth:C,predictions:b,aws_cloud_logic_custom:k,Notifications:T,modelIntrospection:_}=e,P={};y&&(P.Analytics={Pinpoint:{appId:y,region:m}});let{InAppMessaging:R,Push:B}=T??{};if(R?.AWSPinpoint||B?.AWSPinpoint){if(R?.AWSPinpoint){let{appId:e,region:t}=R.AWSPinpoint;P.Notifications={InAppMessaging:{Pinpoint:{appId:e,region:t}}}}if(B?.AWSPinpoint){let{appId:e,region:t}=B.AWSPinpoint;P.Notifications={...P.Notifications,PushNotification:{Pinpoint:{appId:e,region:t}}}}}if(Array.isArray(i)&&(P.Interactions={LexV1:Object.fromEntries(i.map(e=>[e.name,e]))}),n){let e=q[r];e||Y.debug(`Invalid authentication type ${r}. Falling back to IAM.`),P.API={GraphQL:{endpoint:n,apiKey:t,region:o,defaultAuthMode:e??"iam"}},_&&(P.API.GraphQL.modelIntrospection=_)}let O=u?{status:u&&u.toLowerCase(),totpEnabled:c?.includes("TOTP")??!1,smsEnabled:c?.includes("SMS")??!1}:void 0,x=f?{minLength:f.passwordPolicyMinLength,requireLowercase:f.passwordPolicyCharacters?.includes("REQUIRES_LOWERCASE")??!1,requireUppercase:f.passwordPolicyCharacters?.includes("REQUIRES_UPPERCASE")??!1,requireNumbers:f.passwordPolicyCharacters?.includes("REQUIRES_NUMBERS")??!1,requireSpecialCharacters:f.passwordPolicyCharacters?.includes("REQUIRES_SYMBOLS")??!1}:void 0,U=Array.from(new Set([...h??[],...l??[]])),L=U.reduce((e,t)=>({...e,[t.toLowerCase()]:{required:!0}}),{}),D=g?.includes("EMAIL")??!1,M=g?.includes("PHONE_NUMBER")??!1;(s||A)&&(P.Auth={Cognito:{identityPoolId:s,allowGuestAccess:"enable"!==p,signUpVerificationMethod:a,userAttributes:L,userPoolClientId:v,userPoolId:A,mfa:O,passwordFormat:x,loginWith:{username:!(D||M),email:D,phone:M}}});let K=!!C&&Object.keys(C).length>0,N=!!d&&d.length>0;if(P.Auth&&K&&(P.Auth.Cognito.loginWith={...P.Auth.Cognito.loginWith,oauth:{...getOAuthConfig(C),...N&&{providers:parseSocialProviders(d)}}}),I&&(P.Storage={S3:{bucket:I,region:w,dangerouslyConnectToHttpEndpointForTesting:S}}),E){let{amazon_location_service:e}=E;P.Geo={LocationService:{maps:e.maps,geofenceCollections:e.geofenceCollections,searchIndices:e.search_indices,region:e.region}}}if(k&&(P.API={...P.API,REST:k.reduce((e,t)=>{let{name:r,endpoint:n,region:o,service:i}=t;return{...e,[r]:{endpoint:n,...i?{service:i}:void 0,...o?{region:o}:void 0}}},{})}),b){let{VoiceId:e}=b?.convert?.speechGenerator?.defaults??{};P.Predictions=e?{...b,convert:{...b.convert,speechGenerator:{...b.convert.speechGenerator,defaults:{voiceId:e}}}}:b}return P},getRedirectUrl=e=>e?.split(",")??[],getOAuthConfig=({domain:e,scope:t,redirectSignIn:r,redirectSignOut:n,responseType:o})=>({domain:e,scopes:t,redirectSignIn:getRedirectUrl(r),redirectSignOut:getRedirectUrl(n),responseType:o}),parseSocialProviders=e=>e.map(e=>{let t=e.toLowerCase();return t.charAt(0).toUpperCase()+t.slice(1)});function isAmplifyOutputs(e){let{version:t}=e;return!!t&&t.startsWith("1")}function parseStorage(e){if(!e)return;let{bucket_name:t,aws_region:r,buckets:n}=e;return{S3:{bucket:t,region:r,buckets:n&&createBucketInfoMap(n)}}}function parseAuth(e){if(!e)return;let{user_pool_id:t,user_pool_client_id:r,identity_pool_id:n,password_policy:o,mfa_configuration:i,mfa_methods:s,unauthenticated_identities_enabled:a,oauth:u,username_attributes:c,standard_required_attributes:f,groups:h}=e,l={Cognito:{userPoolId:t,userPoolClientId:r,groups:h}};return n&&(l.Cognito={...l.Cognito,identityPoolId:n}),o&&(l.Cognito.passwordFormat={requireLowercase:o.require_lowercase,requireNumbers:o.require_numbers,requireUppercase:o.require_uppercase,requireSpecialCharacters:o.require_symbols,minLength:o.min_length??6}),i&&(l.Cognito.mfa={status:getMfaStatus(i),smsEnabled:s?.includes("SMS"),totpEnabled:s?.includes("TOTP")}),a&&(l.Cognito.allowGuestAccess=a),u&&(l.Cognito.loginWith={oauth:{domain:u.domain,redirectSignIn:u.redirect_sign_in_uri,redirectSignOut:u.redirect_sign_out_uri,responseType:"token"===u.response_type?"token":"code",scopes:u.scopes,providers:getOAuthProviders(u.identity_providers)}}),c&&(l.Cognito.loginWith={...l.Cognito.loginWith,email:c.includes("email"),phone:c.includes("phone_number"),username:c.includes("username")}),f&&(l.Cognito.userAttributes=f.reduce((e,t)=>({...e,[t]:{required:!0}}),{})),l}function parseAnalytics(e){if(!e?.amazon_pinpoint)return;let{amazon_pinpoint:t}=e;return{Pinpoint:{appId:t.app_id,region:t.aws_region}}}function parseGeo(e){if(!e)return;let{aws_region:t,geofence_collections:r,maps:n,search_indices:o}=e;return{LocationService:{region:t,searchIndices:o,geofenceCollections:r,maps:n}}}function parseData(e){if(!e)return;let{aws_region:t,default_authorization_type:r,url:n,api_key:o,model_introspection:i}=e,s={endpoint:n,defaultAuthMode:H[r],region:t,apiKey:o,modelIntrospection:i};return{GraphQL:s}}function parseCustom(e){if(!e?.events)return;let{url:t,aws_region:r,api_key:n,default_authorization_type:o}=e.events,i={endpoint:t,defaultAuthMode:H[o],region:r,apiKey:n};return{Events:i}}function parseNotifications(e){if(!e)return;let{aws_region:t,channels:r,amazon_pinpoint_app_id:n}=e,o=r.includes("IN_APP_MESSAGING"),i=r.includes("APNS")||r.includes("FCM");if(!(o||i))return;let s={};return o&&(s.InAppMessaging={Pinpoint:{appId:n,region:t}}),i&&(s.PushNotification={Pinpoint:{appId:n,region:t}}),s}function parseAmplifyOutputs(e){let t={};if(e.storage&&(t.Storage=parseStorage(e.storage)),e.auth&&(t.Auth=parseAuth(e.auth)),e.analytics&&(t.Analytics=parseAnalytics(e.analytics)),e.geo&&(t.Geo=parseGeo(e.geo)),e.data&&(t.API=parseData(e.data)),e.custom){let r=parseCustom(e.custom);r&&"Events"in r&&(t.API={...t.API,...r})}return e.notifications&&(t.Notifications=parseNotifications(e.notifications)),t}let H={AMAZON_COGNITO_USER_POOLS:"userPool",API_KEY:"apiKey",AWS_IAM:"iam",AWS_LAMBDA:"lambda",OPENID_CONNECT:"oidc"},J={GOOGLE:"Google",LOGIN_WITH_AMAZON:"Amazon",FACEBOOK:"Facebook",SIGN_IN_WITH_APPLE:"Apple"};function getOAuthProviders(e=[]){return e.reduce((e,t)=>(void 0!==J[t]&&e.push(J[t]),e),[])}function getMfaStatus(e){return"OPTIONAL"===e?"optional":"REQUIRED"===e?"on":"off"}function createBucketInfoMap(e){let t={};return e.forEach(({name:e,bucket_name:r,aws_region:n,paths:o})=>{if(e in t)throw Error(`Duplicate friendly name found: ${e}. Name must be unique.`);let i=o?Object.entries(o).reduce((e,[t,r])=>(void 0!==r&&(e[t]=r),e),{}):void 0;t[e]={bucketName:r,region:n,paths:i}}),t}let parseAmplifyConfig=e=>Object.keys(e).some(e=>e.startsWith("aws_"))?parseAWSExports(e):isAmplifyOutputs(e)?parseAmplifyOutputs(e):e;function __awaiter(e,t,r,n){function adopt(e){return e instanceof r?e:new r(function(t){t(e)})}return new(r||(r=Promise))(function(r,o){function fulfilled(e){try{step(n.next(e))}catch(e){o(e)}}function rejected(e){try{step(n.throw(e))}catch(e){o(e)}}function step(e){e.done?r(e.value):adopt(e.value).then(fulfilled,rejected)}step((n=n.apply(e,t||[])).next())})}function __generator(e,t){var r,n,o,i={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]},s=Object.create(("function"==typeof Iterator?Iterator:Object).prototype);return s.next=verb(0),s.throw=verb(1),s.return=verb(2),"function"==typeof Symbol&&(s[Symbol.iterator]=function(){return this}),s;function verb(e){return function(t){return step([e,t])}}function step(a){if(r)throw TypeError("Generator is already executing.");for(;s&&(s=0,a[0]&&(i=0)),i;)try{if(r=1,n&&(o=2&a[0]?n.return:a[0]?n.throw||((o=n.return)&&o.call(n),0):n.next)&&!(o=o.call(n,a[1])).done)return o;switch(n=0,o&&(a=[2&a[0],o.value]),a[0]){case 0:case 1:o=a;break;case 4:return i.label++,{value:a[1],done:!1};case 5:i.label++,n=a[1],a=[0];continue;case 7:a=i.ops.pop(),i.trys.pop();continue;default:if(!(o=(o=i.trys).length>0&&o[o.length-1])&&(6===a[0]||2===a[0])){i=0;continue}if(3===a[0]&&(!o||a[1]>o[0]&&a[1]<o[3])){i.label=a[1];break}if(6===a[0]&&i.label<o[1]){i.label=o[1],o=a;break}if(o&&i.label<o[2]){i.label=o[2],i.ops.push(a);break}o[2]&&i.ops.pop(),i.trys.pop();continue}a=t.call(e,i)}catch(e){a=[6,e],n=0}finally{r=o=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}}"function"==typeof SuppressedError&&SuppressedError;var Q=new Uint32Array([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]),Z=[1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225],X=function(){function RawSha256(){this.state=Int32Array.from(Z),this.temp=new Int32Array(64),this.buffer=new Uint8Array(64),this.bufferLength=0,this.bytesHashed=0,this.finished=!1}return RawSha256.prototype.update=function(e){if(this.finished)throw Error("Attempted to update an already finished hash.");var t=0,r=e.byteLength;if(this.bytesHashed+=r,8*this.bytesHashed>9007199254740991)throw Error("Cannot hash more than 2^53 - 1 bits");for(;r>0;)this.buffer[this.bufferLength++]=e[t++],r--,64===this.bufferLength&&(this.hashBuffer(),this.bufferLength=0)},RawSha256.prototype.digest=function(){if(!this.finished){var e=8*this.bytesHashed,t=new DataView(this.buffer.buffer,this.buffer.byteOffset,this.buffer.byteLength),r=this.bufferLength;if(t.setUint8(this.bufferLength++,128),r%64>=56){for(var n=this.bufferLength;n<64;n++)t.setUint8(n,0);this.hashBuffer(),this.bufferLength=0}for(var n=this.bufferLength;n<56;n++)t.setUint8(n,0);t.setUint32(56,Math.floor(e/4294967296),!0),t.setUint32(60,e),this.hashBuffer(),this.finished=!0}for(var o=new Uint8Array(32),n=0;n<8;n++)o[4*n]=this.state[n]>>>24&255,o[4*n+1]=this.state[n]>>>16&255,o[4*n+2]=this.state[n]>>>8&255,o[4*n+3]=this.state[n]>>>0&255;return o},RawSha256.prototype.hashBuffer=function(){for(var e=this.buffer,t=this.state,r=t[0],n=t[1],o=t[2],i=t[3],s=t[4],a=t[5],u=t[6],c=t[7],f=0;f<64;f++){if(f<16)this.temp[f]=(255&e[4*f])<<24|(255&e[4*f+1])<<16|(255&e[4*f+2])<<8|255&e[4*f+3];else{var h=this.temp[f-2],l=(h>>>17|h<<15)^(h>>>19|h<<13)^h>>>10,d=((h=this.temp[f-15])>>>7|h<<25)^(h>>>18|h<<14)^h>>>3;this.temp[f]=(l+this.temp[f-7]|0)+(d+this.temp[f-16]|0)}var g=(((s>>>6|s<<26)^(s>>>11|s<<21)^(s>>>25|s<<7))+(s&a^~s&u)|0)+(c+(Q[f]+this.temp[f]|0)|0)|0,p=((r>>>2|r<<30)^(r>>>13|r<<19)^(r>>>22|r<<10))+(r&n^r&o^n&o)|0;c=u,u=a,a=s,s=i+g|0,i=o,o=n,n=r,r=g+p|0}t[0]+=r,t[1]+=n,t[2]+=o,t[3]+=i,t[4]+=s,t[5]+=a,t[6]+=u,t[7]+=c},RawSha256}(),ee=r(6593).lW,et=void 0!==ee&&ee.from?function(e){return ee.from(e,"utf8")}:e=>new TextEncoder().encode(e);function convertToBuffer(e){return e instanceof Uint8Array?e:"string"==typeof e?et(e):ArrayBuffer.isView(e)?new Uint8Array(e.buffer,e.byteOffset,e.byteLength/Uint8Array.BYTES_PER_ELEMENT):new Uint8Array(e)}function isEmptyData(e){return"string"==typeof e?0===e.length:0===e.byteLength}function bufferFromSecret(e){var t=convertToBuffer(e);if(t.byteLength>64){var r=new X;r.update(t),t=r.digest()}var n=new Uint8Array(64);return n.set(t),n}!function(){function Sha256(e){this.secret=e,this.hash=new X,this.reset()}Sha256.prototype.update=function(e){if(!isEmptyData(e)&&!this.error)try{this.hash.update(convertToBuffer(e))}catch(e){this.error=e}},Sha256.prototype.digestSync=function(){if(this.error)throw this.error;return this.outer?(this.outer.finished||this.outer.update(this.hash.digest()),this.outer.digest()):this.hash.digest()},Sha256.prototype.digest=function(){return __awaiter(this,void 0,void 0,function(){return __generator(this,function(e){return[2,this.digestSync()]})})},Sha256.prototype.reset=function(){if(this.hash=new X,this.secret){this.outer=new X;var e=bufferFromSecret(this.secret),t=new Uint8Array(64);t.set(e);for(var r=0;r<64;r++)e[r]^=54,t[r]^=92;this.hash.update(e),this.outer.update(t);for(var r=0;r<e.byteLength;r++)e[r]=0}}}();let er={},en={};for(let e=0;e<256;e++){let t=e.toString(16).toLowerCase();1===t.length&&(t=`0${t}`),er[e]=t,en[t]=e}let eo=new ConsoleLogger("Auth");let AuthClass=class AuthClass{configure(e,t){this.authConfig=e,this.authOptions=t,e&&e.Cognito?.userPoolEndpoint&&eo.warn(getCustomEndpointWarningMessage("Amazon Cognito User Pool")),e&&e.Cognito?.identityPoolEndpoint&&eo.warn(getCustomEndpointWarningMessage("Amazon Cognito Identity Pool"))}async fetchAuthSession(e={}){let t,r;let n=await this.getTokens(e);return n?(r=n.accessToken?.payload?.sub,t=await this.authOptions?.credentialsProvider?.getCredentialsAndIdentityId({authConfig:this.authConfig,tokens:n,authenticated:!0,forceRefresh:e.forceRefresh})):t=await this.authOptions?.credentialsProvider?.getCredentialsAndIdentityId({authConfig:this.authConfig,authenticated:!1,forceRefresh:e.forceRefresh}),{tokens:n,credentials:t?.credentials,identityId:t?.identityId,userSub:r}}async clearCredentials(){await this.authOptions?.credentialsProvider?.clearCredentialsAndIdentityId()}async getTokens(e){return await this.authOptions?.tokenProvider?.getTokens(e)??void 0}};let getCustomEndpointWarningMessage=e=>`You are using a custom Amazon ${e} endpoint, ensure the endpoint is correct.`;let AmplifyClass=class AmplifyClass{constructor(){this.oAuthListener=void 0,this.isConfigured=!1,this.resourcesConfig={},this.libraryOptions={},this.Auth=new AuthClass}configure(e,t){let r=parseAmplifyConfig(e);this.resourcesConfig=r,t&&(this.libraryOptions=t),this.resourcesConfig=deepFreeze(this.resourcesConfig),this.Auth.configure(this.resourcesConfig.Auth,this.libraryOptions.Auth),$.dispatch("core",{event:"configure",data:this.resourcesConfig},"Configure",j),this.notifyOAuthListener(),this.isConfigured=!0}getConfig(){return this.isConfigured||console.warn("Amplify has not been configured. Please call Amplify.configure() before using this service."),this.resourcesConfig}[z](e){this.resourcesConfig.Auth?.Cognito.loginWith?.oauth?e(this.resourcesConfig.Auth?.Cognito):this.oAuthListener=e}notifyOAuthListener(){this.resourcesConfig.Auth?.Cognito.loginWith?.oauth&&this.oAuthListener&&(this.oAuthListener(this.resourcesConfig.Auth?.Cognito),this.oAuthListener=void 0)}};let ei=new AmplifyClass;(k=u||(u={})).WebUnknown="0",k.React="1",k.NextJs="2",k.Angular="3",k.VueJs="4",k.Nuxt="5",k.Svelte="6",k.ServerSideUnknown="100",k.ReactSSR="101",k.NextJsSSR="102",k.AngularSSR="103",k.VueJsSSR="104",k.NuxtSSR="105",k.SvelteSSR="106",k.ReactNative="201",k.Expo="202",(T=c||(c={})).AI="ai",T.API="api",T.Auth="auth",T.Analytics="analytics",T.DataStore="datastore",T.Geo="geo",T.InAppMessaging="inappmessaging",T.Interactions="interactions",T.Predictions="predictions",T.PubSub="pubsub",T.PushNotification="pushnotification",T.Storage="storage",(_=f||(f={})).CreateConversation="1",_.GetConversation="2",_.ListConversations="3",_.DeleteConversation="4",_.SendMessage="5",_.ListMessages="6",_.OnMessage="7",_.Generation="8",_.UpdateConversation="9",(P=h||(h={})).Record="1",P.IdentifyUser="2",(R=l||(l={})).GraphQl="1",R.Get="2",R.Post="3",R.Put="4",R.Patch="5",R.Del="6",R.Head="7",(B=d||(d={})).SignUp="1",B.ConfirmSignUp="2",B.ResendSignUpCode="3",B.SignIn="4",B.FetchMFAPreference="6",B.UpdateMFAPreference="7",B.SetUpTOTP="10",B.VerifyTOTPSetup="11",B.ConfirmSignIn="12",B.DeleteUserAttributes="15",B.DeleteUser="16",B.UpdateUserAttributes="17",B.FetchUserAttributes="18",B.ConfirmUserAttribute="22",B.SignOut="26",B.UpdatePassword="27",B.ResetPassword="28",B.ConfirmResetPassword="29",B.FederatedSignIn="30",B.RememberDevice="32",B.ForgetDevice="33",B.FetchDevices="34",B.SendUserAttributeVerificationCode="35",B.SignInWithRedirect="36",B.StartWebAuthnRegistration="37",B.CompleteWebAuthnRegistration="38",B.ListWebAuthnCredentials="39",B.DeleteWebAuthnCredential="40",(O=g||(g={})).Subscribe="1",O.GraphQl="2",(x=p||(p={})).SearchByText="0",x.SearchByCoordinates="1",x.SearchForSuggestions="2",x.SearchByPlaceId="3",x.SaveGeofences="4",x.GetGeofence="5",x.ListGeofences="6",x.DeleteGeofences="7",(U=y||(y={})).SyncMessages="1",U.IdentifyUser="2",U.NotifyMessageInteraction="3",(m||(m={})).None="0",(L=I||(I={})).Convert="1",L.Identify="2",L.Interpret="3",(w||(w={})).Subscribe="1",(D=S||(S={})).InitializePushNotifications="1",D.IdentifyUser="2",(M=A||(A={})).UploadData="1",M.DownloadData="2",M.List="3",M.Copy="4",M.Remove="5",M.GetProperties="6",M.GetUrl="7",M.GetDataAccess="8",M.ListCallerAccessGrants="9";let es="6.15.7";var ea=r(2601);let globalExists=()=>"undefined"!=typeof global,windowExists=()=>"undefined"!=typeof window,documentExists=()=>"undefined"!=typeof document,processExists=()=>void 0!==ea,keyPrefixMatch=(e,t)=>!!Object.keys(e).find(e=>e.startsWith(t));var eu=r(2601);function reactWebDetect(){let elementKeyPrefixedWithReact=e=>e.startsWith("_react")||e.startsWith("__react");return documentExists()&&Array.from(document.querySelectorAll("[id]")).some(e=>Object.keys(e).find(elementKeyPrefixedWithReact))}function reactSSRDetect(){return processExists()&&void 0!==eu.env&&!!Object.keys(eu.env).find(e=>e.includes("react"))}function vueWebDetect(){return windowExists()&&keyPrefixMatch(window,"__VUE")}function vueSSRDetect(){return globalExists()&&keyPrefixMatch(global,"__VUE")}var ec=r(2601);function svelteWebDetect(){return windowExists()&&keyPrefixMatch(window,"__SVELTE")}function svelteSSRDetect(){return processExists()&&void 0!==ec.env&&!!Object.keys(ec.env).find(e=>e.includes("svelte"))}function nextWebDetect(){return windowExists()&&window.next&&"object"==typeof window.next}function nextSSRDetect(){return globalExists()&&(keyPrefixMatch(global,"__next")||keyPrefixMatch(global,"__NEXT"))}function nuxtWebDetect(){return windowExists()&&(void 0!==window.__NUXT__||void 0!==window.$nuxt)}function nuxtSSRDetect(){return globalExists()&&void 0!==global.__NUXT_PATHS__}var ef=r(2601);function angularWebDetect(){let e=!!(documentExists()&&document.querySelector("[ng-version]")),t=!!(windowExists()&&void 0!==window.ng);return e||t}function angularSSRDetect(){return processExists()&&"object"==typeof ef.env&&ef.env.npm_lifecycle_script?.startsWith("ng ")||!1}function reactNativeDetect(){return"undefined"!=typeof navigator&&void 0!==navigator.product&&"ReactNative"===navigator.product}function expoDetect(){return globalExists()&&void 0!==global.expo}function webDetect(){return windowExists()}let eh=[{platform:u.Expo,detectionMethod:expoDetect},{platform:u.ReactNative,detectionMethod:reactNativeDetect},{platform:u.NextJs,detectionMethod:nextWebDetect},{platform:u.Nuxt,detectionMethod:nuxtWebDetect},{platform:u.Angular,detectionMethod:angularWebDetect},{platform:u.React,detectionMethod:reactWebDetect},{platform:u.VueJs,detectionMethod:vueWebDetect},{platform:u.Svelte,detectionMethod:svelteWebDetect},{platform:u.WebUnknown,detectionMethod:webDetect},{platform:u.NextJsSSR,detectionMethod:nextSSRDetect},{platform:u.NuxtSSR,detectionMethod:nuxtSSRDetect},{platform:u.ReactSSR,detectionMethod:reactSSRDetect},{platform:u.VueJsSSR,detectionMethod:vueSSRDetect},{platform:u.AngularSSR,detectionMethod:angularSSRDetect},{platform:u.SvelteSSR,detectionMethod:svelteSSRDetect}];function detect(){return eh.find(e=>e.detectionMethod())?.platform||u.ServerSideUnknown}let el=[],ed=!1,detectFramework=()=>{if(!n){if(n=detect(),ed)for(;el.length;)el.pop()?.();else el.forEach(e=>{e()});resetTimeout(u.ServerSideUnknown,10),resetTimeout(u.WebUnknown,10)}return n},observeFrameworkChanges=e=>{ed||el.push(e)};function clearCache(){n=void 0}function resetTimeout(e,t){n!==e||ed||setTimeout(()=>{clearCache(),ed=!0,setTimeout(detectFramework,1e3)},t)}let eg={},getCustomUserAgent=(e,t)=>eg[e]?.[t]?.additionalDetails,ep="aws-amplify",sanitizeAmplifyVersion=e=>e.replace(/\+.*/,"");let PlatformBuilder=class PlatformBuilder{constructor(){this.userAgent=`${ep}/${sanitizeAmplifyVersion(es)}`}get framework(){return detectFramework()}get isReactNative(){return this.framework===u.ReactNative||this.framework===u.Expo}observeFrameworkChanges(e){observeFrameworkChanges(e)}};new PlatformBuilder;let getAmplifyUserAgentObject=({category:e,action:t}={})=>{let r=[[ep,sanitizeAmplifyVersion(es)]];if(e&&r.push([e,t]),r.push(["framework",detectFramework()]),e&&t){let n=getCustomUserAgent(e,t);n&&n.forEach(e=>{r.push(e)})}return r},getAmplifyUserAgent=e=>{let t=getAmplifyUserAgentObject(e),r=t.map(([e,t])=>e&&t?`${e}/${t}`:e).join(" ");return r},parseMetadata=e=>{let{headers:t,statusCode:r}=e;return{...isMetadataBearer(e)?e.$metadata:{},httpStatusCode:r,requestId:t["x-amzn-requestid"]??t["x-amzn-request-id"]??t["x-amz-request-id"],extendedRequestId:t["x-amz-id-2"],cfId:t["x-amz-cf-id"]}},isMetadataBearer=e=>"object"==typeof e?.$metadata,parseJsonError=async e=>{if(!e||e.statusCode<300)return;let t=await parseJsonBody(e),r=(e=>{let[t]=e.toString().split(/[,:]+/);return t.includes("#")?t.split("#")[1]:t})(e.headers["x-amzn-errortype"]??t.code??t.__type??"UnknownError"),n=t.message??t.Message??"Unknown error",o=Error(n);return Object.assign(o,{name:r,$metadata:parseMetadata(e)})},parseJsonBody=async e=>{if(!e.body)throw Error("Missing response payload");let t=await e.body.json();return Object.assign(t,{$metadata:parseMetadata(e)})},composeServiceApi=(e,t,r,n)=>async(o,i)=>{let s={...n,...o},a=await s.endpointResolver(s,i),u=await t(i,a),c=await e(u,{...s});return r(c)};function jitteredBackoff(e=3e5){return t=>{let r=2**t*100+100*Math.random();return!(r>e)&&r}}let ey=3,em="amz-sdk-invocation-id",jitteredBackoff_jitteredBackoff=e=>{let t=jitteredBackoff(3e5),r=t(e);return!1===r?3e5:r},eI=["AuthFailure","InvalidSignatureException","RequestExpired","RequestInTheFuture","RequestTimeTooSkewed","SignatureDoesNotMatch","BadRequestException"],isClockSkewError=e=>!!e&&eI.includes(e),getRetryDecider=e=>async(t,r)=>{let n=r??await e(t)??void 0,o=n?.code||n?.name,i=t?.statusCode,s=isConnectionError(r)||isThrottlingError(i,o)||isClockSkewError(o)||isServerSideError(i,o);return{retryable:s}},ew=["BandwidthLimitExceeded","EC2ThrottledException","LimitExceededException","PriorRequestNotComplete","ProvisionedThroughputExceededException","RequestLimitExceeded","RequestThrottled","RequestThrottledException","SlowDown","ThrottledException","Throttling","ThrottlingException","TooManyRequestsException"],eS=["TimeoutError","RequestTimeout","RequestTimeoutException"],isThrottlingError=(e,t)=>429===e||!!t&&ew.includes(t),isConnectionError=e=>[s.NetworkError,"ERR_NETWORK"].includes(e?.name),isServerSideError=(e,t)=>!!e&&[500,502,503,504].includes(e)||!!t&&eS.includes(t),eA="cognito-identity",ev={service:eA,retryDecider:getRetryDecider(parseJsonError),computeDelay:jitteredBackoff_jitteredBackoff,cache:"no-store"},cancellableSleep=(e,t)=>{let r,n;if(t?.aborted)return Promise.resolve();let o=new Promise(t=>{n=t,r=setTimeout(t,e)});return t?.addEventListener("abort",function cancelSleep(e){clearTimeout(r),t?.removeEventListener("abort",cancelSleep),n()}),o},addOrIncrementMetadataAttempts=(e,t)=>{"[object Object]"===Object.prototype.toString.call(e)&&(e.$metadata={...e.$metadata??{},attempts:t})},eE="undefined"!=typeof crypto&&crypto.randomUUID&&crypto.randomUUID.bind(crypto);var eC={randomUUID:eE};let eb=new Uint8Array(16);function rng(){if(!o){if("undefined"==typeof crypto||!crypto.getRandomValues)throw Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");o=crypto.getRandomValues.bind(crypto)}return o(eb)}let ek=[];for(let e=0;e<256;++e)ek.push((e+256).toString(16).slice(1));function unsafeStringify(e,t=0){return(ek[e[t+0]]+ek[e[t+1]]+ek[e[t+2]]+ek[e[t+3]]+"-"+ek[e[t+4]]+ek[e[t+5]]+"-"+ek[e[t+6]]+ek[e[t+7]]+"-"+ek[e[t+8]]+ek[e[t+9]]+"-"+ek[e[t+10]]+ek[e[t+11]]+ek[e[t+12]]+ek[e[t+13]]+ek[e[t+14]]+ek[e[t+15]]).toLowerCase()}var esm_browser_v4=function(e,t,r){if(eC.randomUUID&&!t&&!e)return eC.randomUUID();e=e||{};let n=e.random??e.rng?.()??rng();if(n.length<16)throw Error("Random bytes length must be >= 16");if(n[6]=15&n[6]|64,n[8]=63&n[8]|128,t){if((r=r||0)<0||r+16>t.length)throw RangeError(`UUID byte range ${r}:${r+15} is out of buffer bounds`);for(let e=0;e<16;++e)t[r+e]=n[e];return t}return unsafeStringify(n)};let composeTransferHandler=(e,t)=>(r,n)=>{let o={},composedHandler=t=>e(t,n);for(let e=t.length-1;e>=0;e--){let r=t[e],i=r(n);composedHandler=i(composedHandler,o)}return composedHandler(r)},withMemoization=e=>{let t;return()=>(t||(t=e()),t)},shouldSendBody=e=>!["HEAD","GET"].includes(e.toUpperCase()),fetchTransferHandler=async({url:e,method:t,headers:r,body:n},{abortSignal:o,cache:i,withCrossDomainCredentials:a})=>{let u;try{u=await fetch(e,{method:t,headers:r,body:shouldSendBody(t)?n:void 0,signal:o,cache:i,credentials:a?"include":"same-origin"})}catch(e){if(e instanceof TypeError)throw new AmplifyError_AmplifyError({name:s.NetworkError,message:"A network error has occurred.",underlyingError:e});throw e}let c={};u.headers?.forEach((e,t)=>{c[t.toLowerCase()]=e});let f={statusCode:u.status,headers:c,body:null},h=Object.assign(u.body??{},{text:withMemoization(()=>u.text()),blob:withMemoization(()=>u.blob()),json:withMemoization(()=>u.json())});return{...f,body:h}},eT=composeTransferHandler(fetchTransferHandler,[({userAgentHeader:e="x-amz-user-agent",userAgentValue:t=""})=>r=>async function(n){if(0===t.trim().length){let e=await r(n);return e}{let o=e.toLowerCase();n.headers[o]=n.headers[o]?`${n.headers[o]} ${t}`:t;let i=await r(n);return i}},()=>e=>async function(t){return t.headers[em]||(t.headers[em]=esm_browser_v4()),e(t)},({maxAttempts:e=ey,retryDecider:t,computeDelay:r,abortSignal:n})=>{if(e<1)throw Error("maxAttempts must be greater than 0");return(o,i)=>async function(s){let a,u;let c=i.attemptsCount??0,handleTerminalErrorOrResponse=()=>{if(u)return addOrIncrementMetadataAttempts(u,c),u;throw addOrIncrementMetadataAttempts(a,c),a};for(;!n?.aborted&&c<e;){try{u=await o(s),a=void 0}catch(e){a=e,u=void 0}c=(i.attemptsCount??0)>c?i.attemptsCount??0:c+1,i.attemptsCount=c;let{isCredentialsExpiredError:f,retryable:h}=await t(u,a,i);if(!h)return handleTerminalErrorOrResponse();if(i.isCredentialsExpired=!!f,!n?.aborted&&c<e){let e=r(c);await cancellableSleep(e,n)}}if(!n?.aborted)return handleTerminalErrorOrResponse();throw Error("Request aborted.")}},({maxAttempts:e=ey})=>(t,r)=>async function(n){let o=r.attemptsCount??0;return n.headers["amz-sdk-request"]=`attempt=${o+1}; max=${e}`,t(n)}]),e_=composeTransferHandler(eT,[()=>e=>async function(t){return t.headers["cache-control"]="no-store",e(t)}]),createClientSerializer=e=>(t,r)=>{let n=getSharedHeaders(e),o=JSON.stringify(t);return buildHttpRpcRequest(r,n,o)},getSharedHeaders=e=>({"content-type":"application/x-amz-json-1.1","x-amz-target":`AWSCognitoIdentityService.${e}`}),buildHttpRpcRequest=({url:e},t,r)=>({headers:t,url:e,body:r,method:"POST"}),createGetCredentialsForIdentityClient=e=>composeServiceApi(e_,createClientSerializer("GetCredentialsForIdentity"),getCredentialsForIdentityDeserializer,{...ev,...e,userAgentValue:getAmplifyUserAgent()}),getCredentialsForIdentityDeserializer=async e=>{if(e.statusCode>=300){let t=await parseJsonError(e);throw t}let t=await parseJsonBody(e);return{IdentityId:t.IdentityId,Credentials:deserializeCredentials(t.Credentials),$metadata:parseMetadata(e)}},deserializeCredentials=({Expiration:e,...t}={})=>({...t,Expiration:e&&new Date(1e3*e)}),getAtob=()=>{if("undefined"!=typeof window&&"function"==typeof window.atob)return window.atob;if("function"==typeof atob)return atob;throw new AmplifyError_AmplifyError({name:"Base64EncoderError",message:"Cannot resolve the `atob` function from the environment."})},eP={convert(e,t){let r=e;return t?.urlSafe&&(r=r.replace(/-/g,"+").replace(/_/g,"/")),getAtob()(r)}},createAssertionFunction=(e,t=AmplifyError_AmplifyError)=>(r,n,o)=>{let{message:i,recoverySuggestion:s}=e[n];if(!r)throw new t({name:n,message:o?`${i} ${o}`:i,recoverySuggestion:s})};(K=v||(v={})).AuthTokenConfigException="AuthTokenConfigException",K.AuthUserPoolAndIdentityPoolException="AuthUserPoolAndIdentityPoolException",K.AuthUserPoolException="AuthUserPoolException",K.InvalidIdentityPoolIdException="InvalidIdentityPoolIdException",K.OAuthNotConfigureException="OAuthNotConfigureException";let eR={[v.AuthTokenConfigException]:{message:"Auth Token Provider not configured.",recoverySuggestion:"Make sure to call Amplify.configure in your app."},[v.AuthUserPoolAndIdentityPoolException]:{message:"Auth UserPool or IdentityPool not configured.",recoverySuggestion:"Make sure to call Amplify.configure in your app with UserPoolId and IdentityPoolId."},[v.AuthUserPoolException]:{message:"Auth UserPool not configured.",recoverySuggestion:"Make sure to call Amplify.configure in your app with userPoolId and userPoolClientId."},[v.InvalidIdentityPoolIdException]:{message:"Invalid identity pool id provided.",recoverySuggestion:"Make sure a valid identityPoolId is given in the config."},[v.OAuthNotConfigureException]:{message:"oauth param not configured.",recoverySuggestion:"Make sure to call Amplify.configure with oauth parameter in your app."}},eB=createAssertionFunction(eR);function assertTokenProviderConfig(e){eB(!!e&&!!e.userPoolId&&!!e.userPoolClientId,v.AuthUserPoolException)}function assertIdentityPoolIdConfig(e){let t=!!e?.identityPoolId;eB(t,v.InvalidIdentityPoolIdException)}function decodeJWT(e){let t=e.split(".");if(3!==t.length)throw Error("Invalid token");try{let r=t[1],n=r.replace(/-/g,"+").replace(/_/g,"/"),o=decodeURIComponent(eP.convert(n).split("").map(e=>`%${`00${e.charCodeAt(0).toString(16)}`.slice(-2)}`).join("")),i=JSON.parse(o);return{toString:()=>e,payload:i}}catch(e){throw Error("Invalid token payload")}}let AuthError_AuthError=class AuthError_AuthError extends AmplifyError_AmplifyError{constructor(e){super(e),this.constructor=AuthError_AuthError,Object.setPrototypeOf(this,AuthError_AuthError.prototype)}};function assertServiceError(e){if(!e||"Error"===e.name||e instanceof TypeError)throw new AuthError_AuthError({name:s.Unknown,message:"An unknown error has occurred.",underlyingError:e})}function getRegionFromUserPoolId(e){let t=e?.split("_")[0];if(!e||0>e.indexOf("_")||!t||"string"!=typeof t)throw new AuthError_AuthError({name:"InvalidUserPoolId",message:"Invalid user pool id provided."});return t}function getRegionFromIdentityPoolId(e){if(!e||!e.includes(":"))throw new AuthError_AuthError({name:"InvalidIdentityPoolIdException",message:"Invalid identity pool id provided.",recoverySuggestion:"Make sure a valid identityPoolId is given in the config."});return e.split(":")[0]}let eO="UserUnAuthenticatedException";function assertIdTokenInAuthTokens(e){if(!e||!e.idToken)throw new AuthError_AuthError({name:eO,message:"User needs to be authenticated to call this API.",recoverySuggestion:"Sign in before calling this API again."})}new AuthError_AuthError({name:"InvalidRedirectException",message:"signInRedirect or signOutRedirect had an invalid format or was not found.",recoverySuggestion:"Please make sure the signIn/Out redirect in your oauth config is valid."}),new AuthError_AuthError({name:"InvalidAppSchemeException",message:"A valid non-http app scheme was not found in the config.",recoverySuggestion:"Please make sure a valid custom app scheme is present in the config."}),new AuthError_AuthError({name:"InvalidPreferredRedirectUrlException",message:"The given preferredRedirectUrl does not match any items in the redirectSignOutUrls array from the config.",recoverySuggestion:"Please make sure a matching preferredRedirectUrl is provided."}),new AuthError_AuthError({name:"InvalidOriginException",message:"redirect is coming from a different origin. The oauth flow needs to be initiated from the same origin",recoverySuggestion:"Please call signInWithRedirect from the same origin."});let ex=new AuthError_AuthError({name:"TokenRefreshException",message:`Token refresh is not supported when authenticated with the 'implicit grant' (token) oauth flow. 
	Please change your oauth configuration to use 'code grant' flow.`,recoverySuggestion:`Please logout and change your Amplify configuration to use "code grant" flow. 
	E.g { responseType: 'code' }`}),eU=new AuthError_AuthError({name:eO,message:"User needs to be authenticated to call this API.",recoverySuggestion:"Sign in before calling this API again."});function assertAuthTokensWithRefreshToken(e){if(isAuthenticatedWithImplicitOauthFlow(e))throw ex;if(!isAuthenticatedWithRefreshToken(e))throw eU}let eL={inflightOAuth:"inflightOAuth",oauthSignIn:"oauthSignIn",oauthPKCE:"oauthPKCE",oauthState:"oauthState"};function isAuthenticated(e){return e?.accessToken||e?.idToken}function isAuthenticatedWithRefreshToken(e){return isAuthenticated(e)&&e?.refreshToken}function isAuthenticatedWithImplicitOauthFlow(e){return isAuthenticated(e)&&!e?.refreshToken}let eD={id:"aws",outputs:{dnsSuffix:"amazonaws.com"},regionRegex:"^(us|eu|ap|sa|ca|me|af)\\-\\w+\\-\\d+$",regions:["aws-global"]},eM={partitions:[eD,{id:"aws-cn",outputs:{dnsSuffix:"amazonaws.com.cn"},regionRegex:"^cn\\-\\w+\\-\\d+$",regions:["aws-cn-global"]}]},getDnsSuffix=e=>{let{partitions:t}=eM;for(let{regions:r,outputs:n,regionRegex:o}of t){let t=new RegExp(o);if(r.includes(e)||t.test(e))return n.dnsSuffix}return eD.outputs.dnsSuffix},eK=URL,cognitoIdentityPoolEndpointResolver=({region:e})=>({url:new eK(`https://${eA}.${e}.${getDnsSuffix(e)}`)}),createCognitoIdentityPoolEndpointResolver=({endpointOverride:e})=>t=>e?{url:new eK(e)}:cognitoIdentityPoolEndpointResolver(t),createGetIdClient=e=>composeServiceApi(e_,createClientSerializer("GetId"),getIdDeserializer,{...ev,...e,userAgentValue:getAmplifyUserAgent()}),getIdDeserializer=async e=>{if(e.statusCode>=300){let t=await parseJsonError(e);throw t}let t=await parseJsonBody(e);return{IdentityId:t.IdentityId,$metadata:parseMetadata(e)}};function formLoginsMap(e){let t=decodeJWT(e).payload.iss,r={};if(!t)throw new AuthError_AuthError({name:"InvalidIdTokenException",message:"Invalid Idtoken."});let n=t.replace(/(^\w+:|^)\/\//,"");return r[n]=e,r}async function cognitoIdentityIdProvider({tokens:e,authConfig:t,identityIdStore:r}){r.setAuthConfig({Cognito:t});let n=await r.loadIdentityId();if(n)return n.id;let o=e?.idToken?formLoginsMap(e.idToken.toString()):{},i=await generateIdentityId(o,t);return r.storeIdentityId({id:i,type:e?"primary":"guest"}),i}async function generateIdentityId(e,t){let r;let n=t?.identityPoolId,o=getRegionFromIdentityPoolId(n),i=createGetIdClient({endpointResolver:createCognitoIdentityPoolEndpointResolver({endpointOverride:t.identityPoolEndpoint})});try{r=(await i({region:o},{IdentityPoolId:n,Logins:e})).IdentityId}catch(e){throw assertServiceError(e),new AuthError_AuthError(e)}if(!r)throw new AuthError_AuthError({name:"GetIdResponseException",message:"Received undefined response from getId operation",recoverySuggestion:"Make sure to pass a valid identityPoolId in the configuration."});return r}let eN=new ConsoleLogger("CognitoCredentialsProvider");let CognitoAWSCredentialsAndIdentityIdProvider=class CognitoAWSCredentialsAndIdentityIdProvider{constructor(e){this._nextCredentialsRefresh=0,this._identityIdStore=e}async clearCredentialsAndIdentityId(){eN.debug("Clearing out credentials and identityId"),this._credentialsAndIdentityId=void 0,await this._identityIdStore.clearIdentityId()}async clearCredentials(){eN.debug("Clearing out in-memory credentials"),this._credentialsAndIdentityId=void 0}async getCredentialsAndIdentityId(e){let t=e.authenticated,{tokens:r}=e,{authConfig:n}=e;try{assertIdentityPoolIdConfig(n?.Cognito)}catch{return}if(!t&&!n.Cognito.allowGuestAccess)return;let{forceRefresh:o}=e,i=this.hasTokenChanged(r),s=await cognitoIdentityIdProvider({tokens:r,authConfig:n.Cognito,identityIdStore:this._identityIdStore});return((o||i)&&this.clearCredentials(),t)?(assertIdTokenInAuthTokens(r),this.credsForOIDCTokens(n.Cognito,r,s)):this.getGuestCredentials(s,n.Cognito)}async getGuestCredentials(e,t){let r;if(this._credentialsAndIdentityId&&!this.isPastTTL()&&!1===this._credentialsAndIdentityId.isAuthenticatedCreds)return eN.info("returning stored credentials as they neither past TTL nor expired."),this._credentialsAndIdentityId;this.clearCredentials();let n=getRegionFromIdentityPoolId(t.identityPoolId),o=createGetCredentialsForIdentityClient({endpointResolver:createCognitoIdentityPoolEndpointResolver({endpointOverride:t.identityPoolEndpoint})});try{r=await o({region:n},{IdentityId:e})}catch(e){throw assertServiceError(e),new AuthError_AuthError(e)}if(r?.Credentials?.AccessKeyId&&r?.Credentials?.SecretKey){this._nextCredentialsRefresh=new Date().getTime()+3e6;let t={credentials:{accessKeyId:r.Credentials.AccessKeyId,secretAccessKey:r.Credentials.SecretKey,sessionToken:r.Credentials.SessionToken,expiration:r.Credentials.Expiration},identityId:e};return r.IdentityId&&(t.identityId=r.IdentityId,this._identityIdStore.storeIdentityId({id:r.IdentityId,type:"guest"})),this._credentialsAndIdentityId={...t,isAuthenticatedCreds:!1},t}throw new AuthError_AuthError({name:"CredentialsNotFoundException",message:"Cognito did not respond with either Credentials, AccessKeyId or SecretKey."})}async credsForOIDCTokens(e,t,r){let n;if(this._credentialsAndIdentityId&&!this.isPastTTL()&&!0===this._credentialsAndIdentityId.isAuthenticatedCreds)return eN.debug("returning stored credentials as they neither past TTL nor expired."),this._credentialsAndIdentityId;this.clearCredentials();let o=t.idToken?formLoginsMap(t.idToken.toString()):{},i=getRegionFromIdentityPoolId(e.identityPoolId),s=createGetCredentialsForIdentityClient({endpointResolver:createCognitoIdentityPoolEndpointResolver({endpointOverride:e.identityPoolEndpoint})});try{n=await s({region:i},{IdentityId:r,Logins:o})}catch(e){throw assertServiceError(e),new AuthError_AuthError(e)}if(n?.Credentials?.AccessKeyId&&n?.Credentials?.SecretKey){this._nextCredentialsRefresh=new Date().getTime()+3e6;let e={credentials:{accessKeyId:n.Credentials.AccessKeyId,secretAccessKey:n.Credentials.SecretKey,sessionToken:n.Credentials.SessionToken,expiration:n.Credentials.Expiration},identityId:r};return n.IdentityId&&(e.identityId=n.IdentityId,this._identityIdStore.storeIdentityId({id:n.IdentityId,type:"primary"})),this._credentialsAndIdentityId={...e,isAuthenticatedCreds:!0,associatedIdToken:t.idToken?.toString()},e}throw new AuthError_AuthError({name:"CredentialsException",message:"Cognito did not respond with either Credentials, AccessKeyId or SecretKey."})}isPastTTL(){return void 0===this._nextCredentialsRefresh||this._nextCredentialsRefresh<=Date.now()}hasTokenChanged(e){return!!e&&!!this._credentialsAndIdentityId?.associatedIdToken&&e.idToken?.toString()!==this._credentialsAndIdentityId.associatedIdToken}};let eW={accessToken:"accessToken",idToken:"idToken",oidcProvider:"oidcProvider",clockDrift:"clockDrift",refreshToken:"refreshToken",deviceKey:"deviceKey",randomPasswordKey:"randomPasswordKey",deviceGroupKey:"deviceGroupKey",signInDetails:"signInDetails",oauthMetadata:"oauthMetadata"};(E||(E={})).InvalidAuthTokens="InvalidAuthTokens";let eV={[E.InvalidAuthTokens]:{message:"Invalid tokens.",recoverySuggestion:"Make sure the tokens are valid."}},eF=createAssertionFunction(eV),ej="CognitoIdentityServiceProvider";let DefaultTokenStore=class DefaultTokenStore{getKeyValueStorage(){if(!this.keyValueStorage)throw new AuthError_AuthError({name:"KeyValueStorageNotFoundException",message:"KeyValueStorage was not found in TokenStore"});return this.keyValueStorage}setKeyValueStorage(e){this.keyValueStorage=e}setAuthConfig(e){this.authConfig=e}async loadTokens(){try{let e=await this.getAuthKeys(),t=await this.getKeyValueStorage().getItem(e.accessToken);if(!t)throw new AuthError_AuthError({name:"NoSessionFoundException",message:"Auth session was not found. Make sure to call signIn."});let r=decodeJWT(t),n=await this.getKeyValueStorage().getItem(e.idToken),o=n?decodeJWT(n):void 0,i=await this.getKeyValueStorage().getItem(e.refreshToken)??void 0,s=await this.getKeyValueStorage().getItem(e.clockDrift)??"0",a=Number.parseInt(s),u=await this.getKeyValueStorage().getItem(e.signInDetails),c={accessToken:r,idToken:o,refreshToken:i,deviceMetadata:await this.getDeviceMetadata()??void 0,clockDrift:a,username:await this.getLastAuthUser()};return u&&(c.signInDetails=JSON.parse(u)),c}catch(e){return null}}async storeTokens(e){eF(void 0!==e,E.InvalidAuthTokens);let t=e.username;await this.getKeyValueStorage().setItem(this.getLastAuthUserKey(),t);let r=await this.getAuthKeys();await this.getKeyValueStorage().setItem(r.accessToken,e.accessToken.toString()),e.idToken?await this.getKeyValueStorage().setItem(r.idToken,e.idToken.toString()):await this.getKeyValueStorage().removeItem(r.idToken),e.refreshToken?await this.getKeyValueStorage().setItem(r.refreshToken,e.refreshToken):await this.getKeyValueStorage().removeItem(r.refreshToken),e.deviceMetadata&&(e.deviceMetadata.deviceKey&&await this.getKeyValueStorage().setItem(r.deviceKey,e.deviceMetadata.deviceKey),e.deviceMetadata.deviceGroupKey&&await this.getKeyValueStorage().setItem(r.deviceGroupKey,e.deviceMetadata.deviceGroupKey),await this.getKeyValueStorage().setItem(r.randomPasswordKey,e.deviceMetadata.randomPassword)),e.signInDetails?await this.getKeyValueStorage().setItem(r.signInDetails,JSON.stringify(e.signInDetails)):await this.getKeyValueStorage().removeItem(r.signInDetails),await this.getKeyValueStorage().setItem(r.clockDrift,`${e.clockDrift}`)}async clearTokens(){let e=await this.getAuthKeys();await Promise.all([this.getKeyValueStorage().removeItem(e.accessToken),this.getKeyValueStorage().removeItem(e.idToken),this.getKeyValueStorage().removeItem(e.clockDrift),this.getKeyValueStorage().removeItem(e.refreshToken),this.getKeyValueStorage().removeItem(e.signInDetails),this.getKeyValueStorage().removeItem(this.getLastAuthUserKey()),this.getKeyValueStorage().removeItem(e.oauthMetadata)])}async getDeviceMetadata(e){let t=await this.getAuthKeys(e),r=await this.getKeyValueStorage().getItem(t.deviceKey),n=await this.getKeyValueStorage().getItem(t.deviceGroupKey),o=await this.getKeyValueStorage().getItem(t.randomPasswordKey);return o&&n&&r?{deviceKey:r,deviceGroupKey:n,randomPassword:o}:null}async clearDeviceMetadata(e){let t=await this.getAuthKeys(e);await Promise.all([this.getKeyValueStorage().removeItem(t.deviceKey),this.getKeyValueStorage().removeItem(t.deviceGroupKey),this.getKeyValueStorage().removeItem(t.randomPasswordKey)])}async getAuthKeys(e){assertTokenProviderConfig(this.authConfig?.Cognito);let t=e??await this.getLastAuthUser();return createKeysForAuthStorage(ej,`${this.authConfig.Cognito.userPoolClientId}.${t}`)}getLastAuthUserKey(){assertTokenProviderConfig(this.authConfig?.Cognito);let e=this.authConfig.Cognito.userPoolClientId;return`${ej}.${e}.LastAuthUser`}async getLastAuthUser(){let e=await this.getKeyValueStorage().getItem(this.getLastAuthUserKey())??"username";return e}async setOAuthMetadata(e){let{oauthMetadata:t}=await this.getAuthKeys();await this.getKeyValueStorage().setItem(t,JSON.stringify(e))}async getOAuthMetadata(){let{oauthMetadata:e}=await this.getAuthKeys(),t=await this.getKeyValueStorage().getItem(e);return t&&JSON.parse(t)}};let createKeysForAuthStorage=(e,t)=>getAuthStorageKeys(eW)(`${e}`,t);function getAuthStorageKeys(e){let t=Object.values({...e});return(e,r)=>t.reduce((t,n)=>({...t,[n]:`${e}.${r}.${n}`}),{})}let eG={identityId:"identityId"},e$=new ConsoleLogger("DefaultIdentityIdStore");let DefaultIdentityIdStore=class DefaultIdentityIdStore{setAuthConfig(e){assertIdentityPoolIdConfig(e.Cognito),this.authConfig=e,this._authKeys=IdentityIdStore_createKeysForAuthStorage("Cognito",e.Cognito.identityPoolId)}constructor(e){this._authKeys={},this._hasGuestIdentityId=!1,this.keyValueStorage=e}async loadIdentityId(){assertIdentityPoolIdConfig(this.authConfig?.Cognito);try{if(this._primaryIdentityId)return{id:this._primaryIdentityId,type:"primary"};{let e=await this.keyValueStorage.getItem(this._authKeys.identityId);if(e)return this._hasGuestIdentityId=!0,{id:e,type:"guest"};return null}}catch(e){return e$.log("Error getting stored IdentityId.",e),null}}async storeIdentityId(e){assertIdentityPoolIdConfig(this.authConfig?.Cognito),"guest"===e.type?(this.keyValueStorage.setItem(this._authKeys.identityId,e.id),this._primaryIdentityId=void 0,this._hasGuestIdentityId=!0):(this._primaryIdentityId=e.id,this._hasGuestIdentityId&&(this.keyValueStorage.removeItem(this._authKeys.identityId),this._hasGuestIdentityId=!1))}async clearIdentityId(){this._primaryIdentityId=void 0,await this.keyValueStorage.removeItem(this._authKeys.identityId)}};let IdentityIdStore_createKeysForAuthStorage=(e,t)=>getAuthStorageKeys(eG)(`com.amplify.${e}`,t),ez=new CognitoAWSCredentialsAndIdentityIdProvider(new DefaultIdentityIdStore(F)),eY="cognito-idp",cognitoUserPoolEndpointResolver=({region:e})=>({url:new eK(`https://${eY}.${e}.${getDnsSuffix(e)}`)}),createCognitoUserPoolEndpointResolver=({endpointOverride:e})=>t=>e?{url:new eK(e)}:cognitoUserPoolEndpointResolver(t),createUserPoolSerializer=e=>(t,r)=>{let n=createUserPoolSerializer_getSharedHeaders(e),o=JSON.stringify(t);return createUserPoolSerializer_buildHttpRpcRequest(r,n,o)},createUserPoolSerializer_getSharedHeaders=e=>({"content-type":"application/x-amz-json-1.1","x-amz-target":`AWSCognitoIdentityProviderService.${e}`}),createUserPoolSerializer_buildHttpRpcRequest=({url:e},t,r)=>({headers:t,url:e,body:r,method:"POST"}),createUserPoolDeserializer=()=>async e=>{if(e.statusCode>=300){let t=await parseJsonError(e);throw assertServiceError(t),new AuthError_AuthError({name:t.name,message:t.message,metadata:t.$metadata})}return parseJsonBody(e)},eq=composeTransferHandler(eT,[()=>(e,t)=>async function(t){return t.headers["cache-control"]="no-store",e(t)}]),eH={service:eY,retryDecider:getRetryDecider(parseJsonError),computeDelay:jitteredBackoff_jitteredBackoff,get userAgentValue(){return getAmplifyUserAgent()},cache:"no-store"},createGetTokensFromRefreshTokenClient=e=>composeServiceApi(eq,createUserPoolSerializer("GetTokensFromRefreshToken"),createUserPoolDeserializer(),{...eH,...e}),refreshAuthTokensFunction=async({tokens:e,authConfig:t,username:r})=>{assertTokenProviderConfig(t?.Cognito);let{userPoolId:n,userPoolClientId:o,userPoolEndpoint:i}=t.Cognito,s=getRegionFromUserPoolId(n);assertAuthTokensWithRefreshToken(e);let a=createGetTokensFromRefreshTokenClient({endpointResolver:createCognitoUserPoolEndpointResolver({endpointOverride:i})}),{AuthenticationResult:u}=await a({region:s},{ClientId:o,RefreshToken:e.refreshToken,DeviceKey:e.deviceMetadata?.deviceKey}),c=decodeJWT(u?.AccessToken??""),f=u?.IdToken?decodeJWT(u.IdToken):void 0,{iat:h}=c.payload;if(!h)throw new AuthError_AuthError({name:"iatNotFoundException",message:"iat not found in access token"});let l=1e3*h-new Date().getTime();return{accessToken:c,idToken:f,clockDrift:l,refreshToken:u?.RefreshToken??e.refreshToken,username:r}},refreshAuthTokens=async(...e)=>i||(i=new Promise((t,r)=>{refreshAuthTokensFunction(...e).then(e=>{t(e)}).catch(e=>{r(e)}).finally(()=>{i=void 0})})),isBrowser=()=>"undefined"!=typeof window&&void 0!==window.document;function isTokenExpired({expiresAt:e,clockDrift:t,tolerance:r=5e3}){let n=Date.now();return n+t+r>e}let eJ="amplify-signin-with-hostedUI",eQ="CognitoIdentityServiceProvider";let DefaultOAuthStore=class DefaultOAuthStore{constructor(e){this.keyValueStorage=e}async clearOAuthInflightData(){assertTokenProviderConfig(this.cognitoConfig);let e=signInWithRedirectStore_createKeysForAuthStorage(eQ,this.cognitoConfig.userPoolClientId);await Promise.all([this.keyValueStorage.removeItem(e.inflightOAuth),this.keyValueStorage.removeItem(e.oauthPKCE),this.keyValueStorage.removeItem(e.oauthState)])}async clearOAuthData(){assertTokenProviderConfig(this.cognitoConfig);let e=signInWithRedirectStore_createKeysForAuthStorage(eQ,this.cognitoConfig.userPoolClientId);return await this.clearOAuthInflightData(),await this.keyValueStorage.removeItem(eJ),this.keyValueStorage.removeItem(e.oauthSignIn)}loadOAuthState(){assertTokenProviderConfig(this.cognitoConfig);let e=signInWithRedirectStore_createKeysForAuthStorage(eQ,this.cognitoConfig.userPoolClientId);return this.keyValueStorage.getItem(e.oauthState)}storeOAuthState(e){assertTokenProviderConfig(this.cognitoConfig);let t=signInWithRedirectStore_createKeysForAuthStorage(eQ,this.cognitoConfig.userPoolClientId);return this.keyValueStorage.setItem(t.oauthState,e)}loadPKCE(){assertTokenProviderConfig(this.cognitoConfig);let e=signInWithRedirectStore_createKeysForAuthStorage(eQ,this.cognitoConfig.userPoolClientId);return this.keyValueStorage.getItem(e.oauthPKCE)}storePKCE(e){assertTokenProviderConfig(this.cognitoConfig);let t=signInWithRedirectStore_createKeysForAuthStorage(eQ,this.cognitoConfig.userPoolClientId);return this.keyValueStorage.setItem(t.oauthPKCE,e)}setAuthConfig(e){this.cognitoConfig=e}async loadOAuthInFlight(){assertTokenProviderConfig(this.cognitoConfig);let e=signInWithRedirectStore_createKeysForAuthStorage(eQ,this.cognitoConfig.userPoolClientId);return await this.keyValueStorage.getItem(e.inflightOAuth)==="true"}async storeOAuthInFlight(e){assertTokenProviderConfig(this.cognitoConfig);let t=signInWithRedirectStore_createKeysForAuthStorage(eQ,this.cognitoConfig.userPoolClientId);await this.keyValueStorage.setItem(t.inflightOAuth,`${e}`)}async loadOAuthSignIn(){assertTokenProviderConfig(this.cognitoConfig);let e=signInWithRedirectStore_createKeysForAuthStorage(eQ,this.cognitoConfig.userPoolClientId),t=await this.keyValueStorage.getItem(eJ),[r,n]=(await this.keyValueStorage.getItem(e.oauthSignIn))?.split(",")??[];return{isOAuthSignIn:"true"===r||"true"===t,preferPrivateSession:"true"===n}}async storeOAuthSignIn(e,t=!1){assertTokenProviderConfig(this.cognitoConfig);let r=signInWithRedirectStore_createKeysForAuthStorage(eQ,this.cognitoConfig.userPoolClientId);await this.keyValueStorage.setItem(r.oauthSignIn,`${e},${t}`)}};let signInWithRedirectStore_createKeysForAuthStorage=(e,t)=>getAuthStorageKeys(eL)(e,t),eZ=new DefaultOAuthStore(F),eX=[],addInflightPromise=e=>{eX.push(e)};let TokenOrchestrator=class TokenOrchestrator{constructor(){this.waitForInflightOAuth=isBrowser()?async()=>await eZ.loadOAuthInFlight()?(this.inflightPromise||(this.inflightPromise=new Promise((e,t)=>{addInflightPromise(e)})),this.inflightPromise):void 0:async()=>{}}setAuthConfig(e){eZ.setAuthConfig(e.Cognito),this.authConfig=e}setTokenRefresher(e){this.tokenRefresher=e}setAuthTokenStore(e){this.tokenStore=e}getTokenStore(){if(!this.tokenStore)throw new AuthError_AuthError({name:"EmptyTokenStoreException",message:"TokenStore not set"});return this.tokenStore}getTokenRefresher(){if(!this.tokenRefresher)throw new AuthError_AuthError({name:"EmptyTokenRefresherException",message:"TokenRefresher not set"});return this.tokenRefresher}async getTokens(e){let t;try{assertTokenProviderConfig(this.authConfig?.Cognito)}catch(e){return null}await this.waitForInflightOAuth(),this.inflightPromise=void 0,t=await this.getTokenStore().loadTokens();let r=await this.getTokenStore().getLastAuthUser();if(null===t)return null;let n=!!t?.idToken&&isTokenExpired({expiresAt:(t.idToken?.payload?.exp??0)*1e3,clockDrift:t.clockDrift??0}),o=isTokenExpired({expiresAt:(t.accessToken?.payload?.exp??0)*1e3,clockDrift:t.clockDrift??0});return(e?.forceRefresh||n||o)&&null===(t=await this.refreshTokens({tokens:t,username:r}))?null:{accessToken:t?.accessToken,idToken:t?.idToken,signInDetails:t?.signInDetails}}async refreshTokens({tokens:e,username:t}){try{let{signInDetails:r}=e,n=await this.getTokenRefresher()({tokens:e,authConfig:this.authConfig,username:t});return n.signInDetails=r,await this.setTokens({tokens:n}),$.dispatch("auth",{event:"tokenRefresh"},"Auth",j),n}catch(e){return this.handleErrors(e)}}handleErrors(e){if(assertServiceError(e),e.name!==s.NetworkError&&this.clearTokens(),$.dispatch("auth",{event:"tokenRefresh_failure",data:{error:e}},"Auth",j),e.name.startsWith("NotAuthorizedException"))return null;throw e}async setTokens({tokens:e}){return this.getTokenStore().storeTokens(e)}async clearTokens(){return this.getTokenStore().clearTokens()}getDeviceMetadata(e){return this.getTokenStore().getDeviceMetadata(e)}clearDeviceMetadata(e){return this.getTokenStore().clearDeviceMetadata(e)}setOAuthMetadata(e){return this.getTokenStore().setOAuthMetadata(e)}getOAuthMetadata(){return this.getTokenStore().getOAuthMetadata()}};let CognitoUserPoolsTokenProvider=class CognitoUserPoolsTokenProvider{constructor(){this.authTokenStore=new DefaultTokenStore,this.authTokenStore.setKeyValueStorage(F),this.tokenOrchestrator=new TokenOrchestrator,this.tokenOrchestrator.setAuthTokenStore(this.authTokenStore),this.tokenOrchestrator.setTokenRefresher(refreshAuthTokens)}getTokens({forceRefresh:e}={forceRefresh:!1}){return this.tokenOrchestrator.getTokens({forceRefresh:e})}setKeyValueStorage(e){this.authTokenStore.setKeyValueStorage(e)}setAuthConfig(e){this.authTokenStore.setAuthConfig(e),this.tokenOrchestrator.setAuthConfig(e)}};let e0=new CognitoUserPoolsTokenProvider,{tokenOrchestrator:e1}=e0,e2={configure(e,t){let r=parseAmplifyConfig(e),n=new CookieStorage({sameSite:"lax"}),o=t?.ssr?n:F,i=t?.ssr?new CognitoAWSCredentialsAndIdentityIdProvider(new DefaultIdentityIdStore(n)):ez;if(!r.Auth||t?.Auth){ei.configure(r,t);return}if(!ei.libraryOptions.Auth){e0.setAuthConfig(r.Auth),e0.setKeyValueStorage(o),ei.configure(r,{...t,Auth:{tokenProvider:e0,credentialsProvider:i}});return}if(t){let e=ei.libraryOptions.Auth;void 0!==t.ssr&&(e0.setKeyValueStorage(o),e.credentialsProvider=i),ei.configure(r,{Auth:e,...t});return}ei.configure(r)},getConfig:()=>ei.getConfig()}}}]);