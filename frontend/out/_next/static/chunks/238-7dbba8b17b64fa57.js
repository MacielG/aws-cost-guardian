"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[238],{66975:function(e,t,n){n.d(t,{D:function(){return i},o:function(){return r}});let o={},r=e=>{o[e.category]=e.apis.reduce((t,n)=>({...t,[n]:{refCount:t[n]?.refCount?t[n].refCount+1:1,additionalDetails:e.additionalDetails}}),o[e.category]??{});let t=!1;return()=>{t||(t=!0,e.apis.forEach(t=>{let n=o[e.category][t].refCount;n>1?o[e.category][t].refCount=n-1:(delete o[e.category][t],Object.keys(o[e.category]).length||delete o[e.category])}))}},i=(e,t)=>o[e]?.[t]?.additionalDetails},91010:function(e,t,n){let o;n.d(t,{Zm:function(){return x}});var r=n(93426);let i="6.15.7";var a=n(59792);let s=()=>"undefined"!=typeof global,u=()=>"undefined"!=typeof window,c=()=>"undefined"!=typeof document,l=()=>void 0!==a,d=(e,t)=>!!Object.keys(e).find(e=>e.startsWith(t));var g=n(59792),h=n(59792),f=n(59792);let m=[{platform:r.gQ.Expo,detectionMethod:function(){return s()&&void 0!==global.expo}},{platform:r.gQ.ReactNative,detectionMethod:function(){return"undefined"!=typeof navigator&&void 0!==navigator.product&&"ReactNative"===navigator.product}},{platform:r.gQ.NextJs,detectionMethod:function(){return u()&&window.next&&"object"==typeof window.next}},{platform:r.gQ.Nuxt,detectionMethod:function(){return u()&&(void 0!==window.__NUXT__||void 0!==window.$nuxt)}},{platform:r.gQ.Angular,detectionMethod:function(){let e=!!(c()&&document.querySelector("[ng-version]")),t=!!(u()&&void 0!==window.ng);return e||t}},{platform:r.gQ.React,detectionMethod:function(){let e=e=>e.startsWith("_react")||e.startsWith("__react");return c()&&Array.from(document.querySelectorAll("[id]")).some(t=>Object.keys(t).find(e))}},{platform:r.gQ.VueJs,detectionMethod:function(){return u()&&d(window,"__VUE")}},{platform:r.gQ.Svelte,detectionMethod:function(){return u()&&d(window,"__SVELTE")}},{platform:r.gQ.WebUnknown,detectionMethod:function(){return u()}},{platform:r.gQ.NextJsSSR,detectionMethod:function(){return s()&&(d(global,"__next")||d(global,"__NEXT"))}},{platform:r.gQ.NuxtSSR,detectionMethod:function(){return s()&&void 0!==global.__NUXT_PATHS__}},{platform:r.gQ.ReactSSR,detectionMethod:function(){return l()&&void 0!==g.env&&!!Object.keys(g.env).find(e=>e.includes("react"))}},{platform:r.gQ.VueJsSSR,detectionMethod:function(){return s()&&d(global,"__VUE")}},{platform:r.gQ.AngularSSR,detectionMethod:function(){return l()&&"object"==typeof f.env&&f.env.npm_lifecycle_script?.startsWith("ng ")||!1}},{platform:r.gQ.SvelteSSR,detectionMethod:function(){return l()&&void 0!==h.env&&!!Object.keys(h.env).find(e=>e.includes("svelte"))}}],y=[],p=!1,w=()=>{if(!o){if(o=m.find(e=>e.detectionMethod())?.platform||r.gQ.ServerSideUnknown,p)for(;y.length;)y.pop()?.();else y.forEach(e=>{e()});S(r.gQ.ServerSideUnknown,10),S(r.gQ.WebUnknown,10)}return o},v=e=>{p||y.push(e)};function S(e,t){o!==e||p||setTimeout(()=>{o=void 0,p=!0,setTimeout(w,1e3)},t)}var k=n(66975);let I="aws-amplify",A=e=>e.replace(/\+.*/,"");class C{constructor(){this.userAgent=`${I}/${A(i)}`}get framework(){return w()}get isReactNative(){return this.framework===r.gQ.ReactNative||this.framework===r.gQ.Expo}observeFrameworkChanges(e){v(e)}}new C;let T=({category:e,action:t}={})=>{let n=[[I,A(i)]];if(e&&n.push([e,t]),n.push(["framework",w()]),e&&t){let o=(0,k.D)(e,t);o&&o.forEach(e=>{n.push(e)})}return n},x=e=>T(e).map(([e,t])=>e&&t?`${e}/${t}`:e).join(" ")},93426:function(e,t,n){var o,r,i,a,s,u,c,l,d,g,h,f,m,y,p,w,v,S,k,I,A,C,T,x,E,P;n.d(t,{PL:function(){return l},WD:function(){return r},g4:function(){return u},gQ:function(){return o},np:function(){return i},r7:function(){return y},xf:function(){return d}}),(p=o||(o={})).WebUnknown="0",p.React="1",p.NextJs="2",p.Angular="3",p.VueJs="4",p.Nuxt="5",p.Svelte="6",p.ServerSideUnknown="100",p.ReactSSR="101",p.NextJsSSR="102",p.AngularSSR="103",p.VueJsSSR="104",p.NuxtSSR="105",p.SvelteSSR="106",p.ReactNative="201",p.Expo="202",(w=r||(r={})).AI="ai",w.API="api",w.Auth="auth",w.Analytics="analytics",w.DataStore="datastore",w.Geo="geo",w.InAppMessaging="inappmessaging",w.Interactions="interactions",w.Predictions="predictions",w.PubSub="pubsub",w.PushNotification="pushnotification",w.Storage="storage",(v=i||(i={})).CreateConversation="1",v.GetConversation="2",v.ListConversations="3",v.DeleteConversation="4",v.SendMessage="5",v.ListMessages="6",v.OnMessage="7",v.Generation="8",v.UpdateConversation="9",(S=a||(a={})).Record="1",S.IdentifyUser="2",(k=s||(s={})).GraphQl="1",k.Get="2",k.Post="3",k.Put="4",k.Patch="5",k.Del="6",k.Head="7",(I=u||(u={})).SignUp="1",I.ConfirmSignUp="2",I.ResendSignUpCode="3",I.SignIn="4",I.FetchMFAPreference="6",I.UpdateMFAPreference="7",I.SetUpTOTP="10",I.VerifyTOTPSetup="11",I.ConfirmSignIn="12",I.DeleteUserAttributes="15",I.DeleteUser="16",I.UpdateUserAttributes="17",I.FetchUserAttributes="18",I.ConfirmUserAttribute="22",I.SignOut="26",I.UpdatePassword="27",I.ResetPassword="28",I.ConfirmResetPassword="29",I.FederatedSignIn="30",I.RememberDevice="32",I.ForgetDevice="33",I.FetchDevices="34",I.SendUserAttributeVerificationCode="35",I.SignInWithRedirect="36",I.StartWebAuthnRegistration="37",I.CompleteWebAuthnRegistration="38",I.ListWebAuthnCredentials="39",I.DeleteWebAuthnCredential="40",(A=c||(c={})).Subscribe="1",A.GraphQl="2",(C=l||(l={})).SearchByText="0",C.SearchByCoordinates="1",C.SearchForSuggestions="2",C.SearchByPlaceId="3",C.SaveGeofences="4",C.GetGeofence="5",C.ListGeofences="6",C.DeleteGeofences="7",(T=d||(d={})).SyncMessages="1",T.IdentifyUser="2",T.NotifyMessageInteraction="3",(g||(g={})).None="0",(x=h||(h={})).Convert="1",x.Identify="2",x.Interpret="3",(f||(f={})).Subscribe="1",(E=m||(m={})).InitializePushNotifications="1",E.IdentifyUser="2",(P=y||(y={})).UploadData="1",P.DownloadData="2",P.List="3",P.Copy="4",P.Remove="5",P.GetProperties="6",P.GetUrl="7",P.GetDataAccess="8",P.ListCallerAccessGrants="9"},73054:function(e,t,n){n.d(t,{b:function(){return i}});let o={id:"aws",outputs:{dnsSuffix:"amazonaws.com"},regionRegex:"^(us|eu|ap|sa|ca|me|af)\\-\\w+\\-\\d+$",regions:["aws-global"]},r={partitions:[o,{id:"aws-cn",outputs:{dnsSuffix:"amazonaws.com.cn"},regionRegex:"^cn\\-\\w+\\-\\d+$",regions:["aws-cn-global"]}]},i=e=>{let{partitions:t}=r;for(let{regions:n,outputs:o,regionRegex:r}of t){let t=new RegExp(r);if(n.includes(e)||t.test(e))return o.dnsSuffix}return o.outputs.dnsSuffix}},45606:function(e,t,n){let o;n.d(t,{y:function(){return p}});var r=n(26527);let i=(e,t)=>{let n,o;if(t?.aborted)return Promise.resolve();let r=new Promise(t=>{o=t,n=setTimeout(t,e)});return t?.addEventListener("abort",function e(r){clearTimeout(n),t?.removeEventListener("abort",e),o()}),r},a=(e,t)=>{"[object Object]"===Object.prototype.toString.call(e)&&(e.$metadata={...e.$metadata??{},attempts:t})};var s={randomUUID:"undefined"!=typeof crypto&&crypto.randomUUID&&crypto.randomUUID.bind(crypto)};let u=new Uint8Array(16),c=[];for(let e=0;e<256;++e)c.push((e+256).toString(16).slice(1));let l=function(e,t,n){if(s.randomUUID&&!t&&!e)return s.randomUUID();let r=(e=e||{}).random??e.rng?.()??function(){if(!o){if("undefined"==typeof crypto||!crypto.getRandomValues)throw Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");o=crypto.getRandomValues.bind(crypto)}return o(u)}();if(r.length<16)throw Error("Random bytes length must be >= 16");if(r[6]=15&r[6]|64,r[8]=63&r[8]|128,t){if((n=n||0)<0||n+16>t.length)throw RangeError(`UUID byte range ${n}:${n+15} is out of buffer bounds`);for(let e=0;e<16;++e)t[n+e]=r[e];return t}return function(e,t=0){return(c[e[t+0]]+c[e[t+1]]+c[e[t+2]]+c[e[t+3]]+"-"+c[e[t+4]]+c[e[t+5]]+"-"+c[e[t+6]]+c[e[t+7]]+"-"+c[e[t+8]]+c[e[t+9]]+"-"+c[e[t+10]]+c[e[t+11]]+c[e[t+12]]+c[e[t+13]]+c[e[t+14]]+c[e[t+15]]).toLowerCase()}(r)};n(93201),n(4397);var d=n(5571),g=n(57935),h=n(77720);let f=e=>{let t;return()=>(t||(t=e()),t)},m=e=>!["HEAD","GET"].includes(e.toUpperCase()),y=async({url:e,method:t,headers:n,body:o},{abortSignal:r,cache:i,withCrossDomainCredentials:a})=>{let s;try{s=await fetch(e,{method:t,headers:n,body:m(t)?o:void 0,signal:r,cache:i,credentials:a?"include":"same-origin"})}catch(e){if(e instanceof TypeError)throw new g._({name:h.Z.NetworkError,message:"A network error has occurred.",underlyingError:e});throw e}let u={};s.headers?.forEach((e,t)=>{u[t.toLowerCase()]=e});let c={statusCode:s.status,headers:u,body:null},l=Object.assign(s.body??{},{text:f(()=>s.text()),blob:f(()=>s.blob()),json:f(()=>s.json())});return{...c,body:l}},p=(0,d.V)(y,[({userAgentHeader:e="x-amz-user-agent",userAgentValue:t=""})=>n=>async function(o){if(0===t.trim().length)return await n(o);{let r=e.toLowerCase();return o.headers[r]=o.headers[r]?`${o.headers[r]} ${t}`:t,await n(o)}},()=>e=>async function(t){return t.headers[r.vt]||(t.headers[r.vt]=l()),e(t)},({maxAttempts:e=r.tZ,retryDecider:t,computeDelay:n,abortSignal:o})=>{if(e<1)throw Error("maxAttempts must be greater than 0");return(r,s)=>async function(u){let c,l;let d=s.attemptsCount??0,g=()=>{if(l)return a(l,d),l;throw a(c,d),c};for(;!o?.aborted&&d<e;){try{l=await r(u),c=void 0}catch(e){c=e,l=void 0}d=(s.attemptsCount??0)>d?s.attemptsCount??0:d+1,s.attemptsCount=d;let{isCredentialsExpiredError:a,retryable:h}=await t(l,c,s);if(!h)return g();if(s.isCredentialsExpired=!!a,!o?.aborted&&d<e){let e=n(d);await i(e,o)}}if(!o?.aborted)return g();throw Error("Request aborted.")}},({maxAttempts:e=r.tZ})=>(t,n)=>async function(o){let i=n.attemptsCount??0;return o.headers[r.zG]=`attempt=${i+1}; max=${e}`,t(o)}])},64804:function(e,t,n){n.d(t,{z:function(){return o}});let o=(e,t,n,o)=>async(r,i)=>{let a={...o,...r},s=await a.endpointResolver(a,i),u=await t(i,s);return n(await e(u,{...a}))}},5571:function(e,t,n){n.d(t,{V:function(){return o}});let o=(e,t)=>(n,o)=>{let r={},i=t=>e(t,o);for(let e=t.length-1;e>=0;e--)i=(0,t[e])(o)(i,r);return i(n)}},26527:function(e,t,n){n.d(t,{tZ:function(){return o},vt:function(){return r},yx:function(){return a},zG:function(){return i}});let o=3,r="amz-sdk-invocation-id",i="amz-sdk-request",a=3e5},10597:function(e,t,n){n.d(t,{j:function(){return a}});var o=n(77720);let r=["AuthFailure","InvalidSignatureException","RequestExpired","RequestInTheFuture","RequestTimeTooSkewed","SignatureDoesNotMatch","BadRequestException"],i=e=>!!e&&r.includes(e),a=e=>async(t,n)=>{let o=n??await e(t)??void 0,r=o?.code||o?.name,a=t?.statusCode;return{retryable:l(n)||c(a,r)||i(r)||d(a,r)}},s=["BandwidthLimitExceeded","EC2ThrottledException","LimitExceededException","PriorRequestNotComplete","ProvisionedThroughputExceededException","RequestLimitExceeded","RequestThrottled","RequestThrottledException","SlowDown","ThrottledException","Throttling","ThrottlingException","TooManyRequestsException"],u=["TimeoutError","RequestTimeout","RequestTimeoutException"],c=(e,t)=>429===e||!!t&&s.includes(t),l=e=>[o.Z.NetworkError,"ERR_NETWORK"].includes(e?.name),d=(e,t)=>!!e&&[500,502,503,504].includes(e)||!!t&&u.includes(t)},26392:function(e,t,n){n.d(t,{k:function(){return r}});var o=n(26527);let r=e=>{let t=(function(e=3e5){return t=>{let n=2**t*100+100*Math.random();return!(n>e)&&n}})(o.yx)(e);return!1===t?o.yx:t}},5051:function(e,t,n){n.d(t,{e:function(){return i},f:function(){return r}});var o=n(58812);let r=async e=>{if(!e||e.statusCode<300)return;let t=await i(e),n=(e=>{let[t]=e.toString().split(/[,:]+/);return t.includes("#")?t.split("#")[1]:t})(e.headers["x-amzn-errortype"]??t.code??t.__type??"UnknownError");return Object.assign(Error(t.message??t.Message??"Unknown error"),{name:n,$metadata:(0,o.B)(e)})},i=async e=>{if(!e.body)throw Error("Missing response payload");return Object.assign(await e.body.json(),{$metadata:(0,o.B)(e)})}},58812:function(e,t,n){n.d(t,{B:function(){return o}});let o=e=>{let{headers:t,statusCode:n}=e;return{...r(e)?e.$metadata:{},httpStatusCode:n,requestId:t["x-amzn-requestid"]??t["x-amzn-request-id"]??t["x-amz-request-id"],extendedRequestId:t["x-amz-id-2"],cfId:t["x-amz-cf-id"]}},r=e=>"object"==typeof e?.$metadata},542:function(e,t,n){n.d(t,{$:function(){return r}});var o=n(57935);let r=(e,t=o._)=>(n,o,r)=>{let{message:i,recoverySuggestion:a}=e[o];if(!n)throw new t({name:o,message:r?`${i} ${r}`:i,recoverySuggestion:a})}},30209:function(e,t,n){n.d(t,{YE:function(){return d},V0:function(){return l},FG:function(){return c},xp:function(){return g}});var o,r,i=n(14557),a=n(542);(o=r||(r={})).AuthTokenConfigException="AuthTokenConfigException",o.AuthUserPoolAndIdentityPoolException="AuthUserPoolAndIdentityPoolException",o.AuthUserPoolException="AuthUserPoolException",o.InvalidIdentityPoolIdException="InvalidIdentityPoolIdException",o.OAuthNotConfigureException="OAuthNotConfigureException";let s={[r.AuthTokenConfigException]:{message:"Auth Token Provider not configured.",recoverySuggestion:"Make sure to call Amplify.configure in your app."},[r.AuthUserPoolAndIdentityPoolException]:{message:"Auth UserPool or IdentityPool not configured.",recoverySuggestion:"Make sure to call Amplify.configure in your app with UserPoolId and IdentityPoolId."},[r.AuthUserPoolException]:{message:"Auth UserPool not configured.",recoverySuggestion:"Make sure to call Amplify.configure in your app with userPoolId and userPoolClientId."},[r.InvalidIdentityPoolIdException]:{message:"Invalid identity pool id provided.",recoverySuggestion:"Make sure a valid identityPoolId is given in the config."},[r.OAuthNotConfigureException]:{message:"oauth param not configured.",recoverySuggestion:"Make sure to call Amplify.configure with oauth parameter in your app."}},u=(0,a.$)(s);function c(e){u(!!e&&!!e.userPoolId&&!!e.userPoolClientId,r.AuthUserPoolException)}function l(e){u(!!e?.loginWith?.oauth?.domain&&!!e?.loginWith?.oauth?.redirectSignOut&&!!e?.loginWith?.oauth?.redirectSignIn&&!!e?.loginWith?.oauth?.responseType,r.OAuthNotConfigureException)}function d(e){u(!!e?.identityPoolId,r.InvalidIdentityPoolIdException)}function g(e){let t=e.split(".");if(3!==t.length)throw Error("Invalid token");try{let n=t[1].replace(/-/g,"+").replace(/_/g,"/"),o=decodeURIComponent(i.$.convert(n).split("").map(e=>`%${`00${e.charCodeAt(0).toString(16)}`.slice(-2)}`).join("")),r=JSON.parse(o);return{toString:()=>e,payload:r}}catch(e){throw Error("Invalid token payload")}}},80535:function(e,t,n){n.d(t,{Fm:function(){return y},$2:function(){return p}});var o=n(77720),r=n(57935);class i extends r._{constructor(){super({name:o.Z.PlatformNotSupported,message:"Function not supported on current platform"})}}class a{constructor(e){this.storage=e}async setItem(e,t){if(!this.storage)throw new i;this.storage.setItem(e,t)}async getItem(e){if(!this.storage)throw new i;return this.storage.getItem(e)}async removeItem(e){if(!this.storage)throw new i;this.storage.removeItem(e)}async clear(){if(!this.storage)throw new i;this.storage.clear()}}var s=n(71609);class u{constructor(){this.storage=new Map}get length(){return this.storage.size}key(e){return e>this.length-1?null:Array.from(this.storage.keys())[e]}setItem(e,t){this.storage.set(e,t)}getItem(e){return this.storage.get(e)??null}removeItem(e){this.storage.delete(e)}clear(){this.storage.clear()}}let c=new s.k("CoreStorageUtils"),l=()=>{try{if("undefined"!=typeof window&&window.localStorage)return window.localStorage}catch(e){c.info("localStorage not found. InMemoryStorage is used as a fallback.")}return new u},d=()=>{try{if("undefined"!=typeof window&&window.sessionStorage)return window.sessionStorage.getItem("test"),window.sessionStorage;throw Error("sessionStorage is not defined")}catch(e){return c.info("sessionStorage not found. InMemoryStorage is used as a fallback."),new u}};class g extends a{constructor(){super(l())}}class h extends a{constructor(){super(d())}}class f{constructor(e){this._storage=e}get storage(){if(!this._storage)throw new i;return this._storage}setItem(e,t){this.storage.setItem(e,t)}getItem(e){return this.storage.getItem(e)}removeItem(e){this.storage.removeItem(e)}clear(){this.storage.clear()}}class m extends f{constructor(){super(d())}}let y=new g;new h;let p=new m;new a(new u)},77720:function(e,t,n){var o,r;n.d(t,{Z:function(){return o}}),(r=o||(o={})).NoEndpointId="NoEndpointId",r.PlatformNotSupported="PlatformNotSupported",r.Unknown="Unknown",r.NetworkError="NetworkError"},49543:function(e,t,n){n.d(t,{a:function(){return o}});let o=URL},14557:function(e,t,n){n.d(t,{$:function(){return r}});var o=n(87898);let r={convert(e,t){let n=e;return t?.urlSafe&&(n=n.replace(/-/g,"+").replace(/_/g,"/")),(0,o.tl)()(n)}}},87898:function(e,t,n){n.d(t,{Ds:function(){return i},MX:function(){return r},tl:function(){return a}});var o=n(57935);let r=()=>{if("object"==typeof window&&"object"==typeof window.crypto)return window.crypto;if("object"==typeof crypto)return crypto;throw new o._({name:"MissingPolyfill",message:"Cannot resolve the `crypto` function from the environment."})},i=()=>{if("undefined"!=typeof window&&"function"==typeof window.btoa)return window.btoa;if("function"==typeof btoa)return btoa;throw new o._({name:"Base64EncoderError",message:"Cannot resolve the `btoa` function from the environment."})},a=()=>{if("undefined"!=typeof window&&"function"==typeof window.atob)return window.atob;if("function"==typeof atob)return atob;throw new o._({name:"Base64EncoderError",message:"Cannot resolve the `atob` function from the environment."})}},16991:function(e,t,n){n.d(t,{j:function(){return o}});let o=()=>"undefined"!=typeof window&&void 0!==window.document},39674:function(e,t,n){n.d(t,{l:function(){return r}});var o=n(57935);class r extends o._{constructor(e){super(e),this.constructor=r,Object.setPrototypeOf(this,r.prototype)}}},66405:function(e,t,n){n.d(t,{EU:function(){return i},Jg:function(){return r},MA:function(){return s},VL:function(){return l},hj:function(){return g},mP:function(){return a},sX:function(){return h},vC:function(){return u},wW:function(){return d},x9:function(){return c}});var o=n(39674);let r="UserUnAuthenticatedException",i="UserAlreadyAuthenticatedException",a="DeviceMetadataNotFoundException",s="AutoSignInException",u=new o.l({name:"InvalidRedirectException",message:"signInRedirect or signOutRedirect had an invalid format or was not found.",recoverySuggestion:"Please make sure the signIn/Out redirect in your oauth config is valid."});new o.l({name:"InvalidAppSchemeException",message:"A valid non-http app scheme was not found in the config.",recoverySuggestion:"Please make sure a valid custom app scheme is present in the config."});let c=new o.l({name:"InvalidPreferredRedirectUrlException",message:"The given preferredRedirectUrl does not match any items in the redirectSignOutUrls array from the config.",recoverySuggestion:"Please make sure a matching preferredRedirectUrl is provided."}),l=new o.l({name:"InvalidOriginException",message:"redirect is coming from a different origin. The oauth flow needs to be initiated from the same origin",recoverySuggestion:"Please call signInWithRedirect from the same origin."}),d="OAuthSignOutException",g="TokenRefreshException",h="UnexpectedSignInInterruptionException"},17335:function(e,t,n){n.d(t,{R:function(){return i}});var o=n(77720),r=n(39674);function i(e){if(!e||"Error"===e.name||e instanceof TypeError)throw new r.l({name:o.Z.Unknown,message:"An unknown error has occurred.",underlyingError:e})}},79825:function(e,t,n){n.d(t,{t:function(){return o}});let o="cognito-idp"},84817:function(e,t,n){n.d(t,{n:function(){return s}});var o=n(10597),r=n(5051),i=n(26392),a=n(91010);let s={service:n(79825).t,retryDecider:(0,o.j)(r.f),computeDelay:i.k,get userAgentValue(){return(0,a.Zm)()},cache:"no-store"}},23389:function(e,t,n){n.d(t,{x:function(){return i}});var o=n(5571),r=n(45606);let i=(0,o.V)(r.y,[()=>(e,t)=>async function(t){return t.headers["cache-control"]="no-store",e(t)}])},68067:function(e,t,n){n.d(t,{o:function(){return a}});var o=n(5051),r=n(17335),i=n(39674);let a=()=>async e=>{if(e.statusCode>=300){let t=await (0,o.f)(e);throw(0,r.R)(t),new i.l({name:t.name,message:t.message,metadata:t.$metadata})}return(0,o.e)(e)}},67542:function(e,t,n){n.d(t,{u:function(){return o}});let o=e=>(t,n)=>i(n,r(e),JSON.stringify(t)),r=e=>({"content-type":"application/x-amz-json-1.1","x-amz-target":`AWSCognitoIdentityProviderService.${e}`}),i=({url:e},t,n)=>({headers:t,url:e,body:n,method:"POST"})},61124:function(e,t,n){n.d(t,{N:function(){return i},y:function(){return r}});var o=n(39674);function r(e){let t=e?.split("_")[0];if(!e||0>e.indexOf("_")||!t||"string"!=typeof t)throw new o.l({name:"InvalidUserPoolId",message:"Invalid user pool id provided."});return t}function i(e){if(!e||!e.includes(":"))throw new o.l({name:"InvalidIdentityPoolIdException",message:"Invalid identity pool id provided.",recoverySuggestion:"Make sure a valid identityPoolId is given in the config."});return e.split(":")[0]}},15740:function(e,t,n){n.d(t,{t:function(){return s}});var o=n(98504),r=n(30209),i=n(50273);let a=async e=>{let t=e.getConfig().Auth?.Cognito;(0,r.FG)(t);let n=await e.Auth.getTokens({forceRefresh:!1});(0,i.CA)(n);let{"cognito:username":o,sub:a}=n.idToken?.payload??{},s={username:o,userId:a},u=n?.signInDetails;return u&&(s.signInDetails=u),s},s=async()=>a(o.d)},83403:function(e,t,n){n.d(t,{w:function(){return U}});var o=n(71609),r=n(98504),i=n(80535);function a(){return r.d.Auth.clearCredentials()}var s=n(75622),u=n(30209),c=n(93426),l=n(81567),d=n(39674),g=n(64821),h=n(19634),f=n(61124),m=n(50273);n(93201);let y=async e=>{await e.clearOAuthData(),h.C.clearTokens(),await a(),s.Xb.dispatch("auth",{event:"signedOut"},"Auth",s.SQ)};var p=n(69647),w=n(49913);let v=async(e,t=!1,n)=>{(0,u.V0)(e);let{loginWith:o,userPoolClientId:r}=e,{domain:i,redirectSignOut:a}=o.oauth,s=(0,w.B)(a,n),c=`https://${i}/logout?${Object.entries({client_id:r,logout_uri:encodeURIComponent(s)}).map(([e,t])=>`${e}=${t}`).join("&")}`;return(0,p.A)(c)},S=async(e,t,n,o)=>{let{isOAuthSignIn:r}=await t.loadOAuthSignIn(),i=await n.getOAuthMetadata();if(await y(t),r||i?.oauthSignIn)return v(e,!1,o)};var k=n(66405),I=n(64804),A=n(23389),C=n(67542),T=n(68067),x=n(84817);let E=e=>(0,I.z)(A.x,(0,C.u)("RevokeToken"),(0,T.o)(),{...x.n,...e}),P=e=>(0,I.z)(A.x,(0,C.u)("GlobalSignOut"),(0,T.o)(),{...x.n,...e});var b=n(3743);let R=new o.k("Auth");async function U(e){let t;let n=r.d.getConfig().Auth?.Cognito;(0,u.FG)(n),e?.global?await V(n):await K(n);try{(0,u.V0)(n),t=!0}catch(e){t=!1}if(t){let t=new g.R(i.Fm);t.setAuthConfig(n);let{type:o}=await S(n,t,h.C,e?.oauth?.redirectUrl)??{};if("error"===o)throw new d.l({name:k.wW,message:"An error occurred when attempting to log out from OAuth provider."})}else h.C.clearTokens(),await a(),s.Xb.dispatch("auth",{event:"signedOut"},"Auth",s.SQ)}async function K(e){try{let{userPoolEndpoint:t,userPoolId:n,userPoolClientId:o}=e,r=await h.C.getTokenStore().loadTokens();if((0,m.XD)(r),O(r.accessToken)){let e=E({endpointResolver:(0,b.e)({endpointOverride:t})});await e({region:(0,f.y)(n),userAgentValue:(0,l.W)(c.g4.SignOut)},{ClientId:o,Token:r.refreshToken})}}catch(e){R.debug("Client signOut error caught but will proceed with token removal")}}async function V(e){try{let{userPoolEndpoint:t,userPoolId:n}=e,o=await h.C.getTokenStore().loadTokens();(0,m.CA)(o);let r=P({endpointResolver:(0,b.e)({endpointOverride:t})});await r({region:(0,f.y)(n),userAgentValue:(0,l.W)(c.g4.SignOut)},{AccessToken:o.accessToken.toString()})}catch(e){R.debug("Global signOut error caught but will proceed with token removal")}}let O=e=>!!e?.payload?.origin_jti},3743:function(e,t,n){n.d(t,{e:function(){return s}});var o=n(49543),r=n(73054),i=n(79825);let a=({region:e})=>({url:new o.a(`https://${i.t}.${e}.${(0,r.b)(e)}`)}),s=({endpointOverride:e})=>t=>e?{url:new o.a(e)}:a(t)},78262:function(e,t,n){n.d(t,{sI:function(){return d},_X:function(){return h}});var o,r=n(30209),i=n(39674);let a={accessToken:"accessToken",idToken:"idToken",oidcProvider:"oidcProvider",clockDrift:"clockDrift",refreshToken:"refreshToken",deviceKey:"deviceKey",randomPasswordKey:"randomPasswordKey",deviceGroupKey:"deviceGroupKey",signInDetails:"signInDetails",oauthMetadata:"oauthMetadata"};var s=n(542);(o||(o={})).InvalidAuthTokens="InvalidAuthTokens";let u={[o.InvalidAuthTokens]:{message:"Invalid tokens.",recoverySuggestion:"Make sure the tokens are valid."}},c=(0,s.$)(u),l="CognitoIdentityServiceProvider";class d{getKeyValueStorage(){if(!this.keyValueStorage)throw new i.l({name:"KeyValueStorageNotFoundException",message:"KeyValueStorage was not found in TokenStore"});return this.keyValueStorage}setKeyValueStorage(e){this.keyValueStorage=e}setAuthConfig(e){this.authConfig=e}async loadTokens(){try{let e=await this.getAuthKeys(),t=await this.getKeyValueStorage().getItem(e.accessToken);if(!t)throw new i.l({name:"NoSessionFoundException",message:"Auth session was not found. Make sure to call signIn."});let n=(0,r.xp)(t),o=await this.getKeyValueStorage().getItem(e.idToken),a=o?(0,r.xp)(o):void 0,s=await this.getKeyValueStorage().getItem(e.refreshToken)??void 0,u=await this.getKeyValueStorage().getItem(e.clockDrift)??"0",c=Number.parseInt(u),l=await this.getKeyValueStorage().getItem(e.signInDetails),d={accessToken:n,idToken:a,refreshToken:s,deviceMetadata:await this.getDeviceMetadata()??void 0,clockDrift:c,username:await this.getLastAuthUser()};return l&&(d.signInDetails=JSON.parse(l)),d}catch(e){return null}}async storeTokens(e){c(void 0!==e,o.InvalidAuthTokens);let t=e.username;await this.getKeyValueStorage().setItem(this.getLastAuthUserKey(),t);let n=await this.getAuthKeys();await this.getKeyValueStorage().setItem(n.accessToken,e.accessToken.toString()),e.idToken?await this.getKeyValueStorage().setItem(n.idToken,e.idToken.toString()):await this.getKeyValueStorage().removeItem(n.idToken),e.refreshToken?await this.getKeyValueStorage().setItem(n.refreshToken,e.refreshToken):await this.getKeyValueStorage().removeItem(n.refreshToken),e.deviceMetadata&&(e.deviceMetadata.deviceKey&&await this.getKeyValueStorage().setItem(n.deviceKey,e.deviceMetadata.deviceKey),e.deviceMetadata.deviceGroupKey&&await this.getKeyValueStorage().setItem(n.deviceGroupKey,e.deviceMetadata.deviceGroupKey),await this.getKeyValueStorage().setItem(n.randomPasswordKey,e.deviceMetadata.randomPassword)),e.signInDetails?await this.getKeyValueStorage().setItem(n.signInDetails,JSON.stringify(e.signInDetails)):await this.getKeyValueStorage().removeItem(n.signInDetails),await this.getKeyValueStorage().setItem(n.clockDrift,`${e.clockDrift}`)}async clearTokens(){let e=await this.getAuthKeys();await Promise.all([this.getKeyValueStorage().removeItem(e.accessToken),this.getKeyValueStorage().removeItem(e.idToken),this.getKeyValueStorage().removeItem(e.clockDrift),this.getKeyValueStorage().removeItem(e.refreshToken),this.getKeyValueStorage().removeItem(e.signInDetails),this.getKeyValueStorage().removeItem(this.getLastAuthUserKey()),this.getKeyValueStorage().removeItem(e.oauthMetadata)])}async getDeviceMetadata(e){let t=await this.getAuthKeys(e),n=await this.getKeyValueStorage().getItem(t.deviceKey),o=await this.getKeyValueStorage().getItem(t.deviceGroupKey),r=await this.getKeyValueStorage().getItem(t.randomPasswordKey);return r&&o&&n?{deviceKey:n,deviceGroupKey:o,randomPassword:r}:null}async clearDeviceMetadata(e){let t=await this.getAuthKeys(e);await Promise.all([this.getKeyValueStorage().removeItem(t.deviceKey),this.getKeyValueStorage().removeItem(t.deviceGroupKey),this.getKeyValueStorage().removeItem(t.randomPasswordKey)])}async getAuthKeys(e){(0,r.FG)(this.authConfig?.Cognito);let t=e??await this.getLastAuthUser();return g(l,`${this.authConfig.Cognito.userPoolClientId}.${t}`)}getLastAuthUserKey(){(0,r.FG)(this.authConfig?.Cognito);let e=this.authConfig.Cognito.userPoolClientId;return`${l}.${e}.LastAuthUser`}async getLastAuthUser(){return await this.getKeyValueStorage().getItem(this.getLastAuthUserKey())??"username"}async setOAuthMetadata(e){let{oauthMetadata:t}=await this.getAuthKeys();await this.getKeyValueStorage().setItem(t,JSON.stringify(e))}async getOAuthMetadata(){let{oauthMetadata:e}=await this.getAuthKeys(),t=await this.getKeyValueStorage().getItem(e);return t&&JSON.parse(t)}}let g=(e,t)=>h(a)(`${e}`,t);function h(e){let t=Object.values({...e});return(e,n)=>t.reduce((t,o)=>({...t,[o]:`${e}.${n}.${o}`}),{})}},19634:function(e,t,n){let o;n.d(t,{D:function(){return P},C:function(){return b}});var r,i=n(80535),a=n(30209),s=n(61124),u=n(50273),c=n(39674),l=n(3743),d=n(64804),g=n(67542),h=n(68067),f=n(23389),m=n(84817);let y=e=>(0,d.z)(f.x,(0,g.u)("GetTokensFromRefreshToken"),(0,h.o)(),{...m.n,...e}),p=(r=async({tokens:e,authConfig:t,username:n})=>{(0,a.FG)(t?.Cognito);let{userPoolId:o,userPoolClientId:r,userPoolEndpoint:i}=t.Cognito,d=(0,s.y)(o);(0,u.XD)(e);let g=y({endpointResolver:(0,l.e)({endpointOverride:i})}),{AuthenticationResult:h}=await g({region:d},{ClientId:r,RefreshToken:e.refreshToken,DeviceKey:e.deviceMetadata?.deviceKey}),f=(0,a.xp)(h?.AccessToken??""),m=h?.IdToken?(0,a.xp)(h.IdToken):void 0,{iat:p}=f.payload;if(!p)throw new c.l({name:"iatNotFoundException",message:"iat not found in access token"});return{accessToken:f,idToken:m,clockDrift:1e3*p-new Date().getTime(),refreshToken:h?.RefreshToken??e.refreshToken,username:n}},async(...e)=>o||(o=new Promise((t,n)=>{r(...e).then(e=>{t(e)}).catch(e=>{n(e)}).finally(()=>{o=void 0})})));var w=n(78262),v=n(75622),S=n(16991);function k({expiresAt:e,clockDrift:t,tolerance:n=5e3}){return Date.now()+t+n>e}var I=n(77720),A=n(17335),C=n(35430),T=n(80449);class x{constructor(){this.waitForInflightOAuth=(0,S.j)()?async()=>await C.V.loadOAuthInFlight()?(this.inflightPromise||(this.inflightPromise=new Promise((e,t)=>{(0,T.q)(e)})),this.inflightPromise):void 0:async()=>{}}setAuthConfig(e){C.V.setAuthConfig(e.Cognito),this.authConfig=e}setTokenRefresher(e){this.tokenRefresher=e}setAuthTokenStore(e){this.tokenStore=e}getTokenStore(){if(!this.tokenStore)throw new c.l({name:"EmptyTokenStoreException",message:"TokenStore not set"});return this.tokenStore}getTokenRefresher(){if(!this.tokenRefresher)throw new c.l({name:"EmptyTokenRefresherException",message:"TokenRefresher not set"});return this.tokenRefresher}async getTokens(e){let t;try{(0,a.FG)(this.authConfig?.Cognito)}catch(e){return null}await this.waitForInflightOAuth(),this.inflightPromise=void 0,t=await this.getTokenStore().loadTokens();let n=await this.getTokenStore().getLastAuthUser();if(null===t)return null;let o=!!t?.idToken&&k({expiresAt:(t.idToken?.payload?.exp??0)*1e3,clockDrift:t.clockDrift??0}),r=k({expiresAt:(t.accessToken?.payload?.exp??0)*1e3,clockDrift:t.clockDrift??0});return(e?.forceRefresh||o||r)&&null===(t=await this.refreshTokens({tokens:t,username:n}))?null:{accessToken:t?.accessToken,idToken:t?.idToken,signInDetails:t?.signInDetails}}async refreshTokens({tokens:e,username:t}){try{let{signInDetails:n}=e,o=await this.getTokenRefresher()({tokens:e,authConfig:this.authConfig,username:t});return o.signInDetails=n,await this.setTokens({tokens:o}),v.Xb.dispatch("auth",{event:"tokenRefresh"},"Auth",v.SQ),o}catch(e){return this.handleErrors(e)}}handleErrors(e){if((0,A.R)(e),e.name!==I.Z.NetworkError&&this.clearTokens(),v.Xb.dispatch("auth",{event:"tokenRefresh_failure",data:{error:e}},"Auth",v.SQ),e.name.startsWith("NotAuthorizedException"))return null;throw e}async setTokens({tokens:e}){return this.getTokenStore().storeTokens(e)}async clearTokens(){return this.getTokenStore().clearTokens()}getDeviceMetadata(e){return this.getTokenStore().getDeviceMetadata(e)}clearDeviceMetadata(e){return this.getTokenStore().clearDeviceMetadata(e)}setOAuthMetadata(e){return this.getTokenStore().setOAuthMetadata(e)}getOAuthMetadata(){return this.getTokenStore().getOAuthMetadata()}}class E{constructor(){this.authTokenStore=new w.sI,this.authTokenStore.setKeyValueStorage(i.Fm),this.tokenOrchestrator=new x,this.tokenOrchestrator.setAuthTokenStore(this.authTokenStore),this.tokenOrchestrator.setTokenRefresher(p)}getTokens({forceRefresh:e}={forceRefresh:!1}){return this.tokenOrchestrator.getTokens({forceRefresh:e})}setKeyValueStorage(e){this.authTokenStore.setKeyValueStorage(e)}setAuthConfig(e){this.authTokenStore.setAuthConfig(e),this.tokenOrchestrator.setAuthConfig(e)}}let P=new E,{tokenOrchestrator:b}=P},49913:function(e,t,n){n.d(t,{B:function(){return r}});var o=n(66405);function r(e,t){if(t){let n=e?.find(e=>e===t);if(!n)throw o.x9;return n}{let t=e?.find(i)??e?.find(a),n=e?.find(u)??e?.find(s);if(t)return t;if(n)throw o.VL;throw o.vC}}let i=e=>e.startsWith(String(window.location.origin+(window.location.pathname||"/"))),a=e=>e.includes(String(window.location.hostname)),s=e=>e.startsWith("http://"),u=e=>e.startsWith("https://")},80449:function(e,t,n){n.d(t,{P:function(){return i},q:function(){return r}});let o=[],r=e=>{o.push(e)},i=()=>{for(;o.length;)o.pop()?.()}},35430:function(e,t,n){n.d(t,{V:function(){return r}});var o=n(80535);let r=new(n(64821)).R(o.Fm)},64821:function(e,t,n){n.d(t,{R:function(){return u}});var o=n(30209),r=n(78262),i=n(50273);let a="amplify-signin-with-hostedUI",s="CognitoIdentityServiceProvider";class u{constructor(e){this.keyValueStorage=e}async clearOAuthInflightData(){(0,o.FG)(this.cognitoConfig);let e=c(s,this.cognitoConfig.userPoolClientId);await Promise.all([this.keyValueStorage.removeItem(e.inflightOAuth),this.keyValueStorage.removeItem(e.oauthPKCE),this.keyValueStorage.removeItem(e.oauthState)])}async clearOAuthData(){(0,o.FG)(this.cognitoConfig);let e=c(s,this.cognitoConfig.userPoolClientId);return await this.clearOAuthInflightData(),await this.keyValueStorage.removeItem(a),this.keyValueStorage.removeItem(e.oauthSignIn)}loadOAuthState(){(0,o.FG)(this.cognitoConfig);let e=c(s,this.cognitoConfig.userPoolClientId);return this.keyValueStorage.getItem(e.oauthState)}storeOAuthState(e){(0,o.FG)(this.cognitoConfig);let t=c(s,this.cognitoConfig.userPoolClientId);return this.keyValueStorage.setItem(t.oauthState,e)}loadPKCE(){(0,o.FG)(this.cognitoConfig);let e=c(s,this.cognitoConfig.userPoolClientId);return this.keyValueStorage.getItem(e.oauthPKCE)}storePKCE(e){(0,o.FG)(this.cognitoConfig);let t=c(s,this.cognitoConfig.userPoolClientId);return this.keyValueStorage.setItem(t.oauthPKCE,e)}setAuthConfig(e){this.cognitoConfig=e}async loadOAuthInFlight(){(0,o.FG)(this.cognitoConfig);let e=c(s,this.cognitoConfig.userPoolClientId);return await this.keyValueStorage.getItem(e.inflightOAuth)==="true"}async storeOAuthInFlight(e){(0,o.FG)(this.cognitoConfig);let t=c(s,this.cognitoConfig.userPoolClientId);await this.keyValueStorage.setItem(t.inflightOAuth,`${e}`)}async loadOAuthSignIn(){(0,o.FG)(this.cognitoConfig);let e=c(s,this.cognitoConfig.userPoolClientId),t=await this.keyValueStorage.getItem(a),[n,r]=(await this.keyValueStorage.getItem(e.oauthSignIn))?.split(",")??[];return{isOAuthSignIn:"true"===n||"true"===t,preferPrivateSession:"true"===r}}async storeOAuthSignIn(e,t=!1){(0,o.FG)(this.cognitoConfig);let n=c(s,this.cognitoConfig.userPoolClientId);await this.keyValueStorage.setItem(n.oauthSignIn,`${e},${t}`)}}let c=(e,t)=>(0,r._X)(i.Bx)(e,t)},50273:function(e,t,n){n.d(t,{Bx:function(){return d},CA:function(){return i},Cg:function(){return a},XD:function(){return c},tr:function(){return l}});var o=n(39674),r=n(66405);function i(e){if(!e||!e.accessToken)throw new o.l({name:r.Jg,message:"User needs to be authenticated to call this API.",recoverySuggestion:"Sign in before calling this API again."})}function a(e){if(!e||!e.idToken)throw new o.l({name:r.Jg,message:"User needs to be authenticated to call this API.",recoverySuggestion:"Sign in before calling this API again."})}let s=new o.l({name:r.hj,message:`Token refresh is not supported when authenticated with the 'implicit grant' (token) oauth flow. 
	Please change your oauth configuration to use 'code grant' flow.`,recoverySuggestion:`Please logout and change your Amplify configuration to use "code grant" flow. 
	E.g { responseType: 'code' }`}),u=new o.l({name:r.Jg,message:"User needs to be authenticated to call this API.",recoverySuggestion:"Sign in before calling this API again."});function c(e){if(g(e)&&!e?.refreshToken)throw s;if(!(g(e)&&e?.refreshToken))throw u}function l(e){if(!e||!e.deviceKey||!e.deviceGroupKey||!e.randomPassword)throw new o.l({name:r.mP,message:"Either deviceKey, deviceGroupKey or secretPassword were not found during the sign-in process.",recoverySuggestion:"Make sure to not clear storage after calling the signIn API."})}let d={inflightOAuth:"inflightOAuth",oauthSignIn:"oauthSignIn",oauthPKCE:"oauthPKCE",oauthState:"oauthState"};function g(e){return e?.accessToken||e?.idToken}},81567:function(e,t,n){n.d(t,{W:function(){return i}});var o=n(91010),r=n(93426);let i=(e,t)=>(0,o.Zm)({category:r.WD.Auth,action:e,...t})},69647:function(e,t,n){n.d(t,{A:function(){return o}});let o=async e=>{window?.location&&(window.location.href=e.replace("http://","https://"))}}}]);