(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[3],{91974:function(e,t,s){Promise.resolve().then(s.bind(s,53952))},53952:function(e,t,s){"use strict";s.r(t),s.d(t,{default:function(){return T}});var a=s(37821),n=s(58078),r=s(87769),o=s(67469),i=s(27002),l=s(1270),c=s(91027),d=s(57751),u=s(58504),m=s(35450);function x(e){var t;let{children:s}=e,{user:r,isLoadingAuth:o}=(0,m.a)(),i=(0,u.useRouter)();return((0,n.useEffect)(()=>{if(!o){var e;r?(null===(e=r["cognito:groups"])||void 0===e?void 0:e.includes("Admins"))||i.push("/dashboard"):i.push("/login")}},[r,o,i]),o)?(0,a.jsx)("div",{className:"flex items-center justify-center min-h-screen",children:(0,a.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary"})}):r&&(null===(t=r["cognito:groups"])||void 0===t?void 0:t.includes("Admins"))?(0,a.jsx)(a.Fragment,{children:s}):null}var h=s(64790),v=s(38322);let p=(0,v.Z)("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);var f=s(19781),g=s(12758),j=s(26200),y=s(22828),N=s(79775),w=s(49801),b=s(5189),C=s(79044);let k=(0,v.Z)("Gift",[["rect",{x:"3",y:"8",width:"18",height:"4",rx:"1",key:"bkv52"}],["path",{d:"M12 8v13",key:"1c76mn"}],["path",{d:"M19 12v7a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2v-7",key:"6wjy6b"}],["path",{d:"M7.5 8a2.5 2.5 0 0 1 0-5A4.8 8 0 0 1 12 8a4.8 8 0 0 1 4.5-5 2.5 2.5 0 0 1 0 5",key:"1ihvrl"}]]);var S=s(54680);function E(){let[e,t]=(0,n.useState)(null),[s,u]=(0,n.useState)(!0),[m,v]=(0,n.useState)({commissionRate:.3}),[E,T]=(0,n.useState)([]),[A,P]=(0,n.useState)([]),[Z,I]=(0,n.useState)(!1),[R,V]=(0,n.useState)("30"),[U,_]=(0,n.useState)({code:"",discountType:"percentage",discountValue:"",validUntil:"",maxUses:"",description:""}),[D,L]=(0,n.useState)({name:"",discountType:"percentage",discountValue:"",validUntil:"",targetCustomers:"all",description:""});(0,n.useEffect)(()=>{M(),O()},[]);let M=async()=>{try{u(!0);let e=await (0,h.SC)("/api/admin/metrics");t(e)}catch(e){console.error("Erro ao carregar m\xe9tricas:",e),S.A.error("Erro ao carregar m\xe9tricas admin")}finally{u(!1)}},O=async()=>{try{let e=await (0,h.SC)("/api/admin/settings");v(e.settings),T(e.coupons),P(e.promotions),V((100*e.settings.commissionRate).toString())}catch(e){console.error("Erro ao carregar configura\xe7\xf5es:",e),S.A.error("Erro ao carregar configura\xe7\xf5es")}},z=async()=>{try{I(!0);let e=parseFloat(R)/100;if(isNaN(e)||e<0||e>1){S.A.error("Taxa deve ser entre 0 e 100");return}await (0,h.SC)("/api/admin/settings",{method:"PUT",body:JSON.stringify({commissionRate:e})}),S.A.success("Taxa de comiss\xe3o atualizada"),O()}catch(e){console.error("Erro ao atualizar comiss\xe3o:",e),S.A.error("Erro ao atualizar taxa de comiss\xe3o")}finally{I(!1)}},F=async()=>{try{await (0,h.SC)("/api/admin/coupons",{method:"POST",body:JSON.stringify({...U,discountValue:parseFloat(U.discountValue),maxUses:U.maxUses?parseInt(U.maxUses):void 0})}),S.A.success("Cupom criado com sucesso"),_({code:"",discountType:"percentage",discountValue:"",validUntil:"",maxUses:"",description:""}),O()}catch(e){console.error("Erro ao criar cupom:",e),S.A.error(e.message||"Erro ao criar cupom")}},B=async e=>{if(confirm("Tem certeza que deseja excluir este cupom?"))try{await (0,h.SC)("/api/admin/coupons/".concat(e),{method:"DELETE"}),S.A.success("Cupom exclu\xeddo"),O()}catch(e){console.error("Erro ao excluir cupom:",e),S.A.error("Erro ao excluir cupom")}},H=async()=>{try{await (0,h.SC)("/api/admin/promotions",{method:"POST",body:JSON.stringify({...D,discountValue:parseFloat(D.discountValue)})}),S.A.success("Promo\xe7\xe3o criada com sucesso"),L({name:"",discountType:"percentage",discountValue:"",validUntil:"",targetCustomers:"all",description:""}),O()}catch(e){console.error("Erro ao criar promo\xe7\xe3o:",e),S.A.error(e.message||"Erro ao criar promo\xe7\xe3o")}},Y=async(e,t)=>{if(confirm("Tem certeza que deseja excluir esta promo\xe7\xe3o?"))try{let t=new Date(e.createdAt).getTime().toString();await (0,h.SC)("/api/admin/promotions/".concat(t),{method:"DELETE"}),S.A.success("Promo\xe7\xe3o exclu\xedda"),O()}catch(e){console.error("Erro ao excluir promo\xe7\xe3o:",e),S.A.error("Erro ao excluir promo\xe7\xe3o")}};return s?(0,a.jsx)(x,{children:(0,a.jsx)(d.y,{children:(0,a.jsx)("div",{className:"flex justify-center py-12",children:(0,a.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary"})})})}):(0,a.jsx)(x,{children:(0,a.jsx)(d.y,{children:(0,a.jsxs)("div",{className:"space-y-6",children:[(0,a.jsxs)("div",{className:"grid md:grid-cols-4 gap-4",children:[(0,a.jsxs)(r.Zb,{children:[(0,a.jsx)(r.Ol,{className:"pb-2",children:(0,a.jsxs)(r.ll,{className:"text-sm font-medium flex items-center gap-2",children:[(0,a.jsx)(p,{className:"w-4 h-4"}),"Total Clientes"]})}),(0,a.jsxs)(r.aY,{children:[(0,a.jsx)("div",{className:"text-2xl font-bold",children:(null==e?void 0:e.customers.total)||0}),(0,a.jsxs)("div",{className:"text-xs text-muted-foreground mt-1",children:[(null==e?void 0:e.customers.active)||0," Active | ",(null==e?void 0:e.customers.trial)||0," Trial"]})]})]}),(0,a.jsxs)(r.Zb,{children:[(0,a.jsx)(r.Ol,{className:"pb-2",children:(0,a.jsxs)(r.ll,{className:"text-sm font-medium flex items-center gap-2",children:[(0,a.jsx)(f.Z,{className:"w-4 h-4"}),"Receita (M\xeas)"]})}),(0,a.jsxs)(r.aY,{children:[(0,a.jsxs)("div",{className:"text-2xl font-bold text-green-600",children:["$",(null==e?void 0:e.revenue.thisMonth.toFixed(2))||"0.00"]}),(0,a.jsxs)("div",{className:"text-xs text-muted-foreground mt-1",children:[e&&e.revenue.growth>0?"+":"",(null==e?void 0:e.revenue.growth.toFixed(1))||0,"% vs \xfaltimo m\xeas"]})]})]}),(0,a.jsxs)(r.Zb,{children:[(0,a.jsx)(r.Ol,{className:"pb-2",children:(0,a.jsxs)(r.ll,{className:"text-sm font-medium flex items-center gap-2",children:[(0,a.jsx)(g.Z,{className:"w-4 h-4"}),"Taxa Convers\xe3o"]})}),(0,a.jsxs)(r.aY,{children:[(0,a.jsxs)("div",{className:"text-2xl font-bold text-blue-600",children:[(null==e?void 0:e.leads.conversionRate.toFixed(1))||0,"%"]}),(0,a.jsxs)("div",{className:"text-xs text-muted-foreground mt-1",children:[(null==e?void 0:e.leads.newThisWeek)||0," novos leads esta semana"]})]})]}),(0,a.jsxs)(r.Zb,{children:[(0,a.jsx)(r.Ol,{className:"pb-2",children:(0,a.jsxs)(r.ll,{className:"text-sm font-medium flex items-center gap-2",children:[(0,a.jsx)(j.Z,{className:"w-4 h-4"}),"Execu\xe7\xf5es"]})}),(0,a.jsxs)(r.aY,{children:[(0,a.jsxs)("div",{className:"text-2xl font-bold text-purple-600",children:[(null==e?void 0:e.recommendations.executionRate.toFixed(1))||0,"%"]}),(0,a.jsxs)("div",{className:"text-xs text-muted-foreground mt-1",children:[(null==e?void 0:e.recommendations.executed)||0," de ",(null==e?void 0:e.recommendations.totalGenerated)||0]})]})]})]}),(0,a.jsxs)("div",{className:"grid md:grid-cols-2 gap-6",children:[(0,a.jsxs)(r.Zb,{children:[(0,a.jsx)(r.Ol,{children:(0,a.jsx)(r.ll,{children:"Funil de Convers\xe3o"})}),(0,a.jsxs)(r.aY,{className:"space-y-4",children:[(0,a.jsxs)("div",{className:"flex justify-between items-center",children:[(0,a.jsx)("span",{className:"text-sm text-muted-foreground",children:"Leads (Trial)"}),(0,a.jsx)("span",{className:"font-bold",children:(null==e?void 0:e.customers.trial)||0})]}),(0,a.jsx)("div",{className:"w-full bg-gray-200 rounded-full h-2",children:(0,a.jsx)("div",{className:"bg-blue-500 h-2 rounded-full",style:{width:"100%"}})}),(0,a.jsxs)("div",{className:"flex justify-between items-center mt-4",children:[(0,a.jsx)("span",{className:"text-sm text-muted-foreground",children:"Convertidos (Active)"}),(0,a.jsx)("span",{className:"font-bold text-green-600",children:(null==e?void 0:e.customers.active)||0})]}),(0,a.jsx)("div",{className:"w-full bg-gray-200 rounded-full h-2",children:(0,a.jsx)("div",{className:"bg-green-500 h-2 rounded-full",style:{width:"".concat((null==e?void 0:e.leads.conversionRate)||0,"%")}})}),(0,a.jsxs)("div",{className:"flex justify-between items-center mt-4",children:[(0,a.jsx)("span",{className:"text-sm text-muted-foreground",children:"Churn (Este M\xeas)"}),(0,a.jsx)("span",{className:"font-bold text-red-600",children:(null==e?void 0:e.customers.churnedThisMonth)||0})]})]})]}),(0,a.jsxs)(r.Zb,{children:[(0,a.jsx)(r.Ol,{children:(0,a.jsx)(r.ll,{children:"Cr\xe9ditos SLA"})}),(0,a.jsxs)(r.aY,{className:"space-y-4",children:[(0,a.jsxs)("div",{className:"flex justify-between items-center",children:[(0,a.jsx)("span",{className:"text-sm text-muted-foreground",children:"Claims Detectados"}),(0,a.jsx)("span",{className:"font-bold",children:(null==e?void 0:e.sla.claimsDetected)||0})]}),(0,a.jsxs)("div",{className:"flex justify-between items-center",children:[(0,a.jsx)("span",{className:"text-sm text-muted-foreground",children:"Claims Submetidos"}),(0,a.jsx)("span",{className:"font-bold text-blue-600",children:(null==e?void 0:e.sla.claimsSubmitted)||0})]}),(0,a.jsxs)("div",{className:"flex justify-between items-center",children:[(0,a.jsx)("span",{className:"text-sm text-muted-foreground",children:"Total Recuperado"}),(0,a.jsxs)("span",{className:"font-bold text-green-600",children:["$",(null==e?void 0:e.sla.creditsRecovered.toFixed(2))||"0.00"]})]}),(0,a.jsxs)("div",{className:"flex justify-between items-center",children:[(0,a.jsx)("span",{className:"text-sm text-muted-foreground",children:"Nossa Comiss\xe3o (30%)"}),(0,a.jsxs)("span",{className:"font-bold text-purple-600",children:["$",(.3*((null==e?void 0:e.sla.creditsRecovered)||0)).toFixed(2)]})]})]})]})]}),e&&e.leads.highValueCount>0&&(0,a.jsxs)(r.Zb,{className:"border-orange-200 bg-orange-50 dark:bg-orange-950",children:[(0,a.jsx)(r.Ol,{children:(0,a.jsxs)(r.ll,{className:"text-orange-900 dark:text-orange-100 flex items-center gap-2",children:[(0,a.jsx)(y.Z,{className:"w-5 h-5"}),"Leads de Alto Valor"]})}),(0,a.jsx)(r.aY,{className:"text-orange-800 dark:text-orange-200",children:(0,a.jsxs)("p",{children:["\uD83D\uDD25 ",(0,a.jsxs)("strong",{children:[e.leads.highValueCount," leads"]})," com economia potencial > $500/m\xeas detectados. A\xe7\xe3o recomendada: Contato proativo para convers\xe3o."]})})]}),(0,a.jsxs)(r.Zb,{children:[(0,a.jsx)(r.Ol,{children:(0,a.jsxs)(r.ll,{className:"flex items-center gap-2",children:[(0,a.jsx)(N.Z,{className:"w-5 h-5"}),"Configura\xe7\xf5es do Sistema"]})}),(0,a.jsx)(r.aY,{className:"space-y-6",children:(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)(l._,{htmlFor:"commissionRate",children:"Taxa de Comiss\xe3o (%)"}),(0,a.jsxs)("div",{className:"flex gap-2",children:[(0,a.jsx)(i.I,{id:"commissionRate",type:"number",min:"0",max:"100",step:"0.1",value:R,onChange:e=>V(e.target.value),placeholder:"30"}),(0,a.jsx)(o.z,{onClick:z,disabled:Z,children:Z?"Salvando...":"Atualizar"})]}),(0,a.jsxs)("p",{className:"text-sm text-muted-foreground",children:["Taxa atual: ",(100*m.commissionRate).toFixed(1),"%",m.updatedAt&&" (atualizado em ".concat(new Date(m.updatedAt).toLocaleString(),")")]})]})})]}),(0,a.jsxs)(r.Zb,{children:[(0,a.jsx)(r.Ol,{children:(0,a.jsxs)(r.ll,{className:"flex items-center gap-2",children:[(0,a.jsx)(w.Z,{className:"w-5 h-5"}),"Cupons de Desconto"]})}),(0,a.jsxs)(r.aY,{className:"space-y-4",children:[(0,a.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,a.jsx)(i.I,{placeholder:"C\xf3digo do cupom",value:U.code,onChange:e=>_({...U,code:e.target.value.toUpperCase()})}),(0,a.jsxs)(c.Ph,{value:U.discountType,onValueChange:e=>_({...U,discountType:e}),children:[(0,a.jsx)(c.i4,{children:(0,a.jsx)(c.ki,{})}),(0,a.jsxs)(c.Bw,{children:[(0,a.jsx)(c.Ql,{value:"percentage",children:"Porcentagem"}),(0,a.jsx)(c.Ql,{value:"fixed",children:"Valor Fixo"})]})]})]}),(0,a.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[(0,a.jsx)(i.I,{type:"number",placeholder:"Valor",value:U.discountValue,onChange:e=>_({...U,discountValue:e.target.value})}),(0,a.jsx)(i.I,{type:"datetime-local",value:U.validUntil,onChange:e=>_({...U,validUntil:e.target.value})}),(0,a.jsx)(i.I,{placeholder:"Descri\xe7\xe3o",value:U.description,onChange:e=>_({...U,description:e.target.value})})]}),(0,a.jsxs)(o.z,{onClick:F,children:[(0,a.jsx)(b.Z,{className:"w-4 h-4 mr-2"}),"Criar Cupom"]}),(0,a.jsxs)("div",{className:"mt-6",children:[(0,a.jsx)("h4",{className:"font-medium mb-3",children:"Cupons Ativos"}),(0,a.jsxs)("div",{className:"space-y-2",children:[E.map(e=>(0,a.jsxs)("div",{className:"flex items-center justify-between p-3 border rounded",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("span",{className:"font-medium",children:e.code}),(0,a.jsxs)("span",{className:"ml-2 text-sm text-muted-foreground",children:[e.discountValue,"percentage"===e.discountType?"%":"$"]})]}),(0,a.jsx)(o.z,{variant:"destructive",size:"sm",onClick:()=>B(e.code),children:(0,a.jsx)(C.Z,{className:"w-4 h-4"})})]},e.code)),0===E.length&&(0,a.jsx)("p",{className:"text-center text-muted-foreground py-4",children:"Nenhum cupom criado ainda"})]})]})]})]}),(0,a.jsxs)(r.Zb,{children:[(0,a.jsx)(r.Ol,{children:(0,a.jsxs)(r.ll,{className:"flex items-center gap-2",children:[(0,a.jsx)(k,{className:"w-5 h-5"}),"Promo\xe7\xf5es"]})}),(0,a.jsxs)(r.aY,{className:"space-y-4",children:[(0,a.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,a.jsx)(i.I,{placeholder:"Nome da promo\xe7\xe3o",value:D.name,onChange:e=>L({...D,name:e.target.value})}),(0,a.jsxs)(c.Ph,{value:D.discountType,onValueChange:e=>L({...D,discountType:e}),children:[(0,a.jsx)(c.i4,{children:(0,a.jsx)(c.ki,{})}),(0,a.jsxs)(c.Bw,{children:[(0,a.jsx)(c.Ql,{value:"percentage",children:"Porcentagem"}),(0,a.jsx)(c.Ql,{value:"fixed",children:"Valor Fixo"})]})]})]}),(0,a.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[(0,a.jsx)(i.I,{type:"number",placeholder:"Valor",value:D.discountValue,onChange:e=>L({...D,discountValue:e.target.value})}),(0,a.jsx)(i.I,{type:"datetime-local",value:D.validUntil,onChange:e=>L({...D,validUntil:e.target.value})}),(0,a.jsxs)(c.Ph,{value:D.targetCustomers,onValueChange:e=>L({...D,targetCustomers:e}),children:[(0,a.jsx)(c.i4,{children:(0,a.jsx)(c.ki,{})}),(0,a.jsxs)(c.Bw,{children:[(0,a.jsx)(c.Ql,{value:"all",children:"Todos"}),(0,a.jsx)(c.Ql,{value:"trial",children:"Apenas Trial"}),(0,a.jsx)(c.Ql,{value:"active",children:"Apenas Active"})]})]})]}),(0,a.jsx)(i.I,{placeholder:"Descri\xe7\xe3o",value:D.description,onChange:e=>L({...D,description:e.target.value})}),(0,a.jsxs)(o.z,{onClick:H,children:[(0,a.jsx)(b.Z,{className:"w-4 h-4 mr-2"}),"Criar Promo\xe7\xe3o"]}),(0,a.jsxs)("div",{className:"mt-6",children:[(0,a.jsx)("h4",{className:"font-medium mb-3",children:"Promo\xe7\xf5es Ativas"}),(0,a.jsxs)("div",{className:"space-y-2",children:[A.map((e,t)=>(0,a.jsxs)("div",{className:"flex items-center justify-between p-3 border rounded",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("span",{className:"font-medium",children:e.name}),(0,a.jsxs)("span",{className:"ml-2 text-sm text-muted-foreground",children:[e.discountValue,"percentage"===e.discountType?"%":"$"]})]}),(0,a.jsx)(o.z,{variant:"destructive",size:"sm",onClick:()=>Y(e,t),children:(0,a.jsx)(C.Z,{className:"w-4 h-4"})})]},t)),0===A.length&&(0,a.jsx)("p",{className:"text-center text-muted-foreground py-4",children:"Nenhuma promo\xe7\xe3o criada ainda"})]})]})]})]})]})})})}function T(){return(0,a.jsx)(x,{children:(0,a.jsx)(E,{})})}},35450:function(e,t,s){"use strict";s.d(t,{AuthProvider:function(){return c},a:function(){return d}});var a=s(37821),n=s(58078),r=s(15740),o=s(36846),i=s(83403);let l=(0,n.createContext)(void 0);function c(e){let{children:t}=e,[s,c]=(0,n.useState)(null),[d,u]=(0,n.useState)(null),[m,x]=(0,n.useState)(!0),h=async()=>{var e,t,s,a,n,i,l,d;x(!0);try{let d=await (0,r.t)(),m=await (0,o.y)();if(!(null===(e=m.tokens)||void 0===e?void 0:e.idToken)){console.warn("Sess\xe3o sem token v\xe1lido"),c(null),u(null);return}c({username:d.username,userId:d.userId,email:null===(a=m.tokens)||void 0===a?void 0:null===(s=a.idToken)||void 0===s?void 0:null===(t=s.payload)||void 0===t?void 0:t.email,"cognito:groups":null===(l=m.tokens)||void 0===l?void 0:null===(i=l.idToken)||void 0===i?void 0:null===(n=i.payload)||void 0===n?void 0:n["cognito:groups"]}),u(m)}catch(e){console.warn("Erro ao carregar usu\xe1rio:",(null==e?void 0:e.message)||e),((null==e?void 0:e.name)==="InvalidCharacterError"||(null==e?void 0:null===(d=e.message)||void 0===d?void 0:d.includes("token")))&&(localStorage.clear(),sessionStorage.clear()),c(null),u(null)}finally{x(!1)}};(0,n.useEffect)(()=>{h()},[]);let v=async()=>{try{await (0,i.w)(),c(null),u(null),localStorage.clear(),sessionStorage.clear()}catch(e){console.error("Erro ao fazer logout:",e),localStorage.clear(),sessionStorage.clear(),c(null),u(null)}},p=async()=>{await h()};return(0,a.jsx)(l.Provider,{value:{user:s,session:d,isAuthenticated:!!s,isLoadingAuth:m,signOut:v,refreshUser:p},children:t})}function d(){let e=(0,n.useContext)(l);if(void 0===e)throw Error("useAuth must be used within an AuthProvider");return e}},57751:function(e,t,s){"use strict";s.d(t,{y:function(){return o}});var a=s(37821);s(58078);var n=s(41634),r=s(7794);let o=e=>{let{children:t}=e;return(0,a.jsx)(n.E.div,{variants:r.D_,initial:"initial",animate:"animate",exit:"exit",children:t})}},1270:function(e,t,s){"use strict";s.d(t,{_:function(){return c}});var a=s(37821),n=s(58078),r=s(15641),o=s(898),i=s(48908);let l=(0,o.j)("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),c=n.forwardRef((e,t)=>{let{className:s,...n}=e;return(0,a.jsx)(r.f,{ref:t,className:(0,i.cn)(l(),s),...n})});c.displayName=r.f.displayName},7794:function(e,t,s){"use strict";s.d(t,{CU:function(){return n},D_:function(){return o},Jm:function(){return a},yR:function(){return r}});let a={animate:{transition:{staggerChildren:.1}}},n={initial:{opacity:0,y:20},animate:{opacity:1,y:0,transition:{duration:.3}}},r={y:-2,transition:{duration:.15}},o={initial:{opacity:0,y:10},animate:{opacity:1,y:0,transition:{duration:.4,ease:"easeOut"}},exit:{opacity:0,y:-10,transition:{duration:.2}}}},64790:function(e,t,s){"use strict";s.d(t,{$H:function(){return d},SC:function(){return c},x1:function(){return u}});var a=s(36846),n=s(59792);let{joinUrl:r}=s(88954),o="https://0s4kvds1a2.execute-api.us-east-1.amazonaws.com/prod/";function i(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1e3;return e?e.length>t?"".concat(e.slice(0,t),"... (truncated ").concat(e.length-t," chars)"):e:""}async function l(e){try{return{json:await e.clone().json(),text:void 0}}catch(t){try{let t=await e.clone().text();return{json:void 0,text:t}}catch(e){return{json:void 0,text:void 0}}}}async function c(e){var t,s,c;let d,u=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},m=arguments.length>2&&void 0!==arguments[2]&&arguments[2],x=r(o,e.startsWith("/")?e:"/".concat(e)),h="";if(!m)try{let e=await (0,a.y)(),s=null===(t=e.tokens)||void 0===t?void 0:t.idToken;s&&(h=s.toString())}catch(e){console.warn("N\xe3o foi poss\xedvel obter sess\xe3o de autentica\xe7\xe3o:",(null==e?void 0:e.message)||e)}let v={"Content-Type":"application/json",...u.headers};h&&(v.Authorization="Bearer ".concat(h));let p=n.env.NEXT_PUBLIC_API_CREDENTIALS,f="include";try{if("include"===p||"omit"===p||"same-origin"===p)f=p;else if(o){let e=new URL(x).origin,t=window.location.origin;f=e===t?"include":"omit"}}catch(e){f="include"}try{d=await fetch(x,{...u,headers:v,credentials:f})}catch(t){let e=(null==t?void 0:t.message)||String(t)||"Erro de rede ao chamar API";throw console.error("Network/API fetch error:",e),Error("Erro de rede: ".concat(e))}if(!d.ok){let e=await l(d),t=(null===(s=e.json)||void 0===s?void 0:s.message)||(null===(c=e.json)||void 0===c?void 0:c.error)||e.text,a=i(String(t||""));if(401===d.status){try{localStorage.clear(),sessionStorage.clear()}catch(e){}throw Error("Sess\xe3o expirada. Por favor, fa\xe7a login novamente.")}let n=t||d.statusText||"Erro ".concat(d.status);throw console.error("API error",{status:d.status,statusText:d.statusText,body:a,url:x}),Error("".concat(n," (status ").concat(d.status,")"))}return 204===d.status?null:d.json()}let d=async function(e){var t,s,c,d;let u,m,x=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};try{let e=await (0,a.y)();u=null===(s=e.tokens)||void 0===s?void 0:null===(t=s.idToken)||void 0===t?void 0:t.toString()}catch(e){console.warn("N\xe3o foi poss\xedvel obter sess\xe3o do Cognito. Chamada n\xe3o autenticada.",e)}let h=new Headers(x.headers||{});h.has("Content-Type")||h.append("Content-Type","application/json"),u&&h.append("Authorization","Bearer ".concat(u));let v=n.env.NEXT_PUBLIC_API_CREDENTIALS,p="include";try{if("include"===v||"omit"===v||"same-origin"===v)p=v;else if(o){let t=new URL(r(o,e)).origin,s=window.location.origin;p=t===s?"include":"omit"}}catch(e){p="include"}let f={...x,headers:h,credentials:p},g=o||(window.location&&window.location.origin?(console.warn("WARNING: NEXT_PUBLIC_API_URL n\xe3o definido â€” usando window.location.origin como fallback"),window.location.origin):(console.error("NEXT_PUBLIC_API_URL n\xe3o est\xe1 definido e n\xe3o h\xe1 fallback dispon\xedvel (SSR). Configure .env.local"),""));if(!g)throw Error("Configura\xe7\xe3o inv\xe1lida: NEXT_PUBLIC_API_URL n\xe3o configurada");try{m=await fetch(r(g,e),f)}catch(t){let e=(null==t?void 0:t.message)||String(t)||"Erro de rede ao chamar API";throw console.error("Network/API fetch error (apiClient):",e),Error("Erro de rede: ".concat(e))}if(!m.ok){let t=await l(m),s=(null===(c=t.json)||void 0===c?void 0:c.message)||(null===(d=t.json)||void 0===d?void 0:d.error)||t.text,a=i(String(s||""));if(console.error("API client error",{status:m.status,statusText:m.statusText,body:a,endpoint:e}),401===m.status){try{localStorage.clear(),sessionStorage.clear()}catch(e){}throw Error("Sess\xe3o expirada. Por favor, fa\xe7a login novamente.")}let n=s||m.statusText||"Erro ".concat(m.status);throw Error("".concat(n," (status ").concat(m.status,")"))}return 204===m.status?null:m.json()},u=d;u.get=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return d(e,{...t,method:"GET"})},u.post=function(e,t){let s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return d(e,{...s,method:"POST",body:t?JSON.stringify(t):void 0})},u.put=function(e,t){let s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return d(e,{...s,method:"PUT",body:t?JSON.stringify(t):void 0})},u.delete=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return d(e,{...t,method:"DELETE"})}},26200:function(e,t,s){"use strict";s.d(t,{Z:function(){return a}});let a=(0,s(38322).Z)("Activity",[["path",{d:"M22 12h-4l-3 9L9 3l-3 9H2",key:"d5dnw9"}]])},22828:function(e,t,s){"use strict";s.d(t,{Z:function(){return a}});let a=(0,s(38322).Z)("AlertCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]])},19781:function(e,t,s){"use strict";s.d(t,{Z:function(){return a}});let a=(0,s(38322).Z)("DollarSign",[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]])},5189:function(e,t,s){"use strict";s.d(t,{Z:function(){return a}});let a=(0,s(38322).Z)("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]])},79775:function(e,t,s){"use strict";s.d(t,{Z:function(){return a}});let a=(0,s(38322).Z)("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]])},49801:function(e,t,s){"use strict";s.d(t,{Z:function(){return a}});let a=(0,s(38322).Z)("Tag",[["path",{d:"M12 2H2v10l9.29 9.29c.94.94 2.48.94 3.42 0l6.58-6.58c.94-.94.94-2.48 0-3.42L12 2Z",key:"14b2ls"}],["path",{d:"M7 7h.01",key:"7u93v4"}]])},79044:function(e,t,s){"use strict";s.d(t,{Z:function(){return a}});let a=(0,s(38322).Z)("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]])},12758:function(e,t,s){"use strict";s.d(t,{Z:function(){return a}});let a=(0,s(38322).Z)("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]])},58504:function(e,t,s){"use strict";var a=s(93226);s.o(a,"usePathname")&&s.d(t,{usePathname:function(){return a.usePathname}}),s.o(a,"useRouter")&&s.d(t,{useRouter:function(){return a.useRouter}}),s.o(a,"useSearchParams")&&s.d(t,{useSearchParams:function(){return a.useSearchParams}})},15641:function(e,t,s){"use strict";s.d(t,{f:function(){return i}});var a=s(58078),n=s(83184),r=s(37821),o=a.forwardRef((e,t)=>(0,r.jsx)(n.WV.label,{...e,ref:t,onMouseDown:t=>{var s;t.target.closest("button, input, select, textarea")||(null===(s=e.onMouseDown)||void 0===s||s.call(e,t),!t.defaultPrevented&&t.detail>1&&t.preventDefault())}}));o.displayName="Label";var i=o},83184:function(e,t,s){"use strict";s.d(t,{WV:function(){return i},jH:function(){return l}});var a=s(58078),n=s(40457),r=s(97035),o=s(37821),i=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"].reduce((e,t)=>{let s=(0,r.Z8)(`Primitive.${t}`),n=a.forwardRef((e,a)=>{let{asChild:n,...r}=e,i=n?s:t;return"undefined"!=typeof window&&(window[Symbol.for("radix-ui")]=!0),(0,o.jsx)(i,{...r,ref:a})});return n.displayName=`Primitive.${t}`,{...e,[t]:n}},{});function l(e,t){e&&n.flushSync(()=>e.dispatchEvent(t))}}},function(e){e.O(0,[4654,1634,6846,238,4680,6354,7115,2364,1744],function(){return e(e.s=91974)}),_N_E=e.O()}]);