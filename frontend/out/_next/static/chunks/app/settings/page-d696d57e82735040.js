(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[6938],{43222:function(e,r,a){Promise.resolve().then(a.bind(a,15813))},15813:function(e,r,a){"use strict";a.r(r),a.d(r,{default:function(){return V}});var t=a(37821),n=a(58078),s=a(21042),o=a(87769),i=a(67469),l=a(27002),c=a(1270),d=a(42347),u=a(48908);function m(e){let{checked:r,onChange:a,className:n,ariaLabel:s}=e;return(0,t.jsx)("button",{role:"switch","aria-checked":r,"aria-label":s,type:"button",onClick:()=>a(!r),className:(0,u.cn)("relative inline-flex items-center h-6 rounded-full transition-colors focus:outline-none",r?"bg-blue-600":"bg-gray-300",n||""),children:(0,t.jsx)("span",{className:(0,u.cn)("inline-block w-5 h-5 bg-white rounded-full shadow transform transition-transform",r?"translate-x-5":"translate-x-0")})})}var f=a(84694);let x=n.forwardRef((e,r)=>{let{className:a,...n}=e;return(0,t.jsx)(f.fC,{ref:r,className:(0,u.cn)("relative flex h-10 w-10 shrink-0 overflow-hidden rounded-full",a),...n})});x.displayName=f.fC.displayName;let h=n.forwardRef((e,r)=>{let{className:a,...n}=e;return(0,t.jsx)(f.Ee,{ref:r,className:(0,u.cn)("aspect-square h-full w-full",a),...n})});h.displayName=f.Ee.displayName;let g=n.forwardRef((e,r)=>{let{className:a,...n}=e;return(0,t.jsx)(f.NY,{ref:r,className:(0,u.cn)("flex h-full w-full items-center justify-center rounded-full bg-muted",a),...n})});g.displayName=f.NY.displayName;var p=a(4201);let b=p.fC,j=n.forwardRef((e,r)=>{let{className:a,...n}=e;return(0,t.jsx)(p.aV,{ref:r,className:(0,u.cn)("inline-flex h-10 items-center justify-center rounded-md bg-muted p-1 text-muted-foreground",a),...n})});j.displayName=p.aV.displayName;let v=n.forwardRef((e,r)=>{let{className:a,...n}=e;return(0,t.jsx)(p.xz,{ref:r,className:(0,u.cn)("inline-flex items-center justify-center whitespace-nowrap rounded-sm px-3 py-1.5 text-sm font-medium ring-offset-background transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow-sm",a),...n})});v.displayName=p.xz.displayName;let N=n.forwardRef((e,r)=>{let{className:a,...n}=e;return(0,t.jsx)(p.VY,{ref:r,className:(0,u.cn)("mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",a),...n})});N.displayName=p.VY.displayName;var y=a(32634),w=a(84089),C=a(64790),k=a(49198),S=a(75424),z=a(67414),E=a(80555),Z=a(22133),A=a(79578),I=a(79044),R=a(35036),_=a(22828),O=a(92302),Y=a(74542);let F={ACTIVE:"success",INACTIVE:"secondary",ERROR:"destructive"};function V(){let e=(0,w.d)(),[r,a]=(0,n.useState)({name:"",email:""}),[u,f]=(0,n.useState)({enabled:!0,threshold:80}),[p,V]=(0,n.useState)([]),[D,W]=(0,n.useState)(!1);(0,n.useEffect)(()=>{(async()=>{try{let e=await C.x1.get("/api/profile");a({name:e.profile.name||"",email:e.profile.email||""});let r=await C.x1.get("/settings/automation");f(r),W(!0);let t=await C.x1.get("/connections");V(t.connections||[])}catch(r){console.error("Erro ao carregar dados:",r),e.error("Erro ao carregar configura\xe7\xf5es")}finally{W(!1)}})()},[e]);let q=async()=>{try{await C.x1.put("/api/profile",r),e.success("Perfil atualizado com sucesso!")}catch(r){console.error("Erro ao salvar perfil:",r),e.error("Erro ao atualizar perfil")}},T=async()=>{try{await C.x1.put("/settings/automation",u),e.success("Configura\xe7\xf5es de automa\xe7\xe3o atualizadas!")}catch(r){console.error("Erro ao salvar automa\xe7\xe3o:",r),e.error("Erro ao atualizar configura\xe7\xf5es de automa\xe7\xe3o")}},$=r=>{switch(r){case"profile":q();break;case"automation":T();break;default:e.info("Salvando altera\xe7\xf5es na se\xe7\xe3o ".concat(r,"..."))}},P=async r=>{try{await C.x1.delete("/connections/".concat(r)),e.success("Conta ".concat(r," desconectada com sucesso!"));let a=await C.x1.get("/connections");V(a.connections||[])}catch(r){console.error("Erro ao desconectar conta:",r),e.error("Erro ao desconectar conta")}};return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(s.m,{title:"Configura\xe7\xf5es",description:"Gerencie seu perfil, contas conectadas e prefer\xeancias de automa\xe7\xe3o."}),(0,t.jsxs)(b,{defaultValue:"profile",className:"space-y-4",children:[(0,t.jsxs)(j,{children:[(0,t.jsxs)(v,{value:"profile",children:[(0,t.jsx)(k.Z,{className:"mr-2 h-4 w-4"}),"Perfil"]}),(0,t.jsxs)(v,{value:"accounts",children:[(0,t.jsx)(S.Z,{className:"mr-2 h-4 w-4"}),"Contas AWS"]}),(0,t.jsxs)(v,{value:"automation",children:[(0,t.jsx)(z.Z,{className:"mr-2 h-4 w-4"}),"Automa\xe7\xe3o"]}),(0,t.jsxs)(v,{value:"notifications",children:[(0,t.jsx)(E.Z,{className:"mr-2 h-4 w-4"}),"Notifica\xe7\xf5es"]}),(0,t.jsxs)(v,{value:"billing",children:[(0,t.jsx)(Z.Z,{className:"mr-2 h-4 w-4"}),"Faturamento"]})]}),(0,t.jsx)(N,{value:"profile",children:(0,t.jsxs)(o.Zb,{children:[(0,t.jsxs)(o.Ol,{children:[(0,t.jsx)(o.ll,{children:"Perfil do Usu\xe1rio"}),(0,t.jsx)(o.SZ,{children:"Atualize suas informa\xe7\xf5es pessoais e foto."})]}),(0,t.jsxs)(o.aY,{className:"space-y-6",children:[(0,t.jsxs)("div",{className:"flex items-center gap-4",children:[(0,t.jsxs)(x,{className:"h-20 w-20",children:[(0,t.jsx)(h,{src:"https://github.com/shadcn.png",alt:"@shadcn"}),(0,t.jsx)(g,{children:"CN"})]}),(0,t.jsx)(i.z,{variant:"outline",children:"Alterar Foto"})]}),(0,t.jsxs)("div",{className:"grid gap-4 md:grid-cols-2",children:[(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)(c._,{htmlFor:"name",children:"Nome"}),(0,t.jsx)(l.I,{id:"name",value:r.name,onChange:e=>a(r=>({...r,name:e.target.value}))})]}),(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)(c._,{htmlFor:"email",children:"Email"}),(0,t.jsx)(l.I,{id:"email",type:"email",value:r.email,disabled:!0})]})]})]}),(0,t.jsx)("div",{className:"p-6 pt-0 flex justify-end",children:(0,t.jsx)(i.z,{onClick:()=>$("Perfil"),children:"Salvar Altera\xe7\xf5es"})})]})}),(0,t.jsx)(N,{value:"accounts",children:(0,t.jsxs)(o.Zb,{children:[(0,t.jsxs)(o.Ol,{children:[(0,t.jsx)(o.ll,{children:"Contas AWS Conectadas"}),(0,t.jsx)(o.SZ,{children:"Gerencie as contas AWS que o Cost Guardian monitora."})]}),(0,t.jsxs)(o.aY,{className:"grid gap-6 md:grid-cols-2 lg:grid-cols-3",children:[D?[void 0,void 0].map((e,r)=>(0,t.jsx)(O.O,{className:"h-48 rounded-2xl"},r)):(0,t.jsxs)(t.Fragment,{children:[p.map(e=>(0,t.jsxs)(o.Zb,{className:"flex flex-col",children:[(0,t.jsxs)(o.Ol,{className:"flex-row items-start gap-4 space-y-0",children:[(0,t.jsx)("div",{className:"flex-shrink-0 w-10 h-10 bg-muted rounded-lg flex items-center justify-center",children:(0,t.jsx)(S.Z,{className:"w-6 h-6 text-foreground"})}),(0,t.jsxs)("div",{className:"flex-1",children:[(0,t.jsx)(o.ll,{className:"text-base mb-1",children:e.alias}),(0,t.jsxs)("p",{className:"text-xs font-mono text-muted-foreground",children:["ID: ",e.accountId]})]}),(0,t.jsx)(d.C,{variant:F[e.status],children:e.status})]}),(0,t.jsxs)(o.aY,{className:"flex-1 space-y-2 text-sm",children:[(0,t.jsxs)("p",{className:"text-muted-foreground",children:["Conectada em: ",(0,t.jsx)("span",{className:"font-medium text-foreground",children:new Date(e.connectionDate).toLocaleDateString()})]}),(0,t.jsxs)("p",{className:"text-muted-foreground",children:["\xdaltima Sincroniza\xe7\xe3o: ",(0,t.jsx)("span",{className:"font-medium text-foreground",children:e.lastSync?new Date(e.lastSync).toLocaleString():"Nunca"})]})]}),(0,t.jsxs)("div",{className:"p-4 pt-0 flex gap-2",children:[(0,t.jsxs)(i.z,{variant:"outline",size:"sm",className:"flex-1",children:[(0,t.jsx)(A.Z,{className:"mr-2 h-4 w-4"})," Sincronizar"]}),(0,t.jsxs)(y.aR,{children:[(0,t.jsx)(y.vW,{asChild:!0,children:(0,t.jsx)(i.z,{variant:"destructive",size:"icon",className:"flex-shrink-0",children:(0,t.jsx)(I.Z,{className:"h-4 w-4"})})}),(0,t.jsxs)(y._T,{children:[(0,t.jsxs)(y.fY,{children:[(0,t.jsxs)(y.f$,{children:["Desconectar ",e.alias,"?"]}),(0,t.jsxs)(y.yT,{children:["Tem certeza que deseja desconectar a conta (",e.accountId,")? Voc\xea deixar\xe1 de receber recomenda\xe7\xf5es e monitoramento para esta conta."]})]}),(0,t.jsxs)(y.xo,{children:[(0,t.jsx)(y.le,{children:"Cancelar"}),(0,t.jsx)(y.OL,{onClick:()=>P(e.accountId),children:"Confirmar"})]})]})]})]})]},e.accountId)),(0,t.jsx)(Y.default,{href:"/onboard",children:(0,t.jsx)(o.Zb,{className:"h-full flex flex-col items-center justify-center border-2 border-dashed hover:border-primary hover:bg-muted transition-all",children:(0,t.jsxs)(o.aY,{className:"text-center p-6",children:[(0,t.jsx)(R.Z,{className:"mx-auto h-12 w-12 text-muted-foreground"}),(0,t.jsx)("h3",{className:"mt-4 text-lg font-semibold",children:"Conectar Nova Conta"}),(0,t.jsx)("p",{className:"mt-2 text-sm text-muted-foreground",children:"Clique aqui para iniciar o processo de conex\xe3o de uma nova conta AWS."})]})})})]}),!D&&0===p.length&&(0,t.jsx)(o.Zb,{className:"md:col-span-2 lg:col-span-3 text-center py-12 border-2 border-dashed",children:(0,t.jsxs)(o.aY,{children:[(0,t.jsx)(_.Z,{className:"mx-auto h-12 w-12 text-muted-foreground"}),(0,t.jsx)("h3",{className:"mt-4 text-lg font-semibold",children:"Nenhuma Conta Conectada"}),(0,t.jsx)("p",{className:"mt-2 text-sm text-muted-foreground",children:"Voc\xea ainda n\xe3o conectou nenhuma conta AWS. Conecte uma para come\xe7ar a economizar."}),(0,t.jsx)(i.z,{className:"mt-6",asChild:!0,children:(0,t.jsxs)(Y.default,{href:"/onboard",children:[(0,t.jsx)(R.Z,{className:"mr-2 h-4 w-4"})," Conectar Conta AWS"]})})]})})]})]})}),(0,t.jsx)(N,{value:"automation",children:(0,t.jsxs)(o.Zb,{children:[(0,t.jsxs)(o.Ol,{children:[(0,t.jsx)(o.ll,{children:"Automa\xe7\xe3o Inteligente"}),(0,t.jsx)(o.SZ,{children:"Configure como o Cost Guardian executa otimiza\xe7\xf5es automaticamente."})]}),(0,t.jsxs)(o.aY,{className:"space-y-6",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between rounded-lg border p-4",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)(c._,{htmlFor:"automation-enabled",className:"font-semibold",children:"Habilitar Execu\xe7\xe3o Autom\xe1tica"}),(0,t.jsx)("p",{className:"text-sm text-muted-foreground",children:"Permitir que o sistema execute a\xe7\xf5es de otimiza\xe7\xe3o sem aprova\xe7\xe3o manual."})]}),(0,t.jsx)(m,{checked:u.enabled,onChange:e=>f(r=>({...r,enabled:e}))})]}),(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsxs)(c._,{htmlFor:"threshold",children:["N\xedvel de Confian\xe7a para Automa\xe7\xe3o (",u.threshold,"%)"]}),(0,t.jsx)("p",{className:"text-sm text-muted-foreground",children:"A\xe7\xf5es s\xf3 ser\xe3o autom\xe1ticas se a confian\xe7a do nosso algoritmo for maior que este valor."}),(0,t.jsx)(l.I,{id:"threshold",type:"range",min:"50",max:"100",value:u.threshold,onChange:e=>f(r=>({...r,threshold:Number(e.target.value)})),disabled:!u.enabled})]})]}),(0,t.jsx)("div",{className:"p-6 pt-0 flex justify-end",children:(0,t.jsx)(i.z,{onClick:()=>$("Automa\xe7\xe3o"),children:"Salvar Configura\xe7\xf5es de Automa\xe7\xe3o"})})]})})]})]})}},67469:function(e,r,a){"use strict";a.d(r,{d:function(){return l},z:function(){return c}});var t=a(37821),n=a(58078),s=a(97035),o=a(898),i=a(48908);let l=(0,o.j)("inline-flex items-center justify-center whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),c=n.forwardRef((e,r)=>{let{className:a,variant:n,size:o,asChild:c=!1,isLoading:d,...u}=e,m=c?s.g7:"button",f=u.disabled||!!d;return(0,t.jsx)(m,{className:(0,i.cn)(l({variant:"primary"===n?"default":"danger"===n?"destructive":n,size:o,className:a})),ref:r,disabled:f,...u})});c.displayName="Button"},87769:function(e,r,a){"use strict";a.d(r,{Ol:function(){return s},SZ:function(){return i},Zb:function(){return n},aY:function(){return l},ll:function(){return o}});var t=a(37821);function n(e){let{children:r,className:a=""}=e;return(0,t.jsx)("div",{className:"holo-card relative overflow-hidden bg-background/80 dark:bg-background/60 backdrop-blur-sm rounded-xl rounded-2xl border border-border shadow transition-all duration-300 hover:-translate-y-1 hover:shadow-2xl hover:shadow-primary/10 hover:border-primary/30 ".concat(a),style:{boxShadow:"0 2px 16px 0 rgba(80,80,120,0.06)"},children:r})}function s(e){let{children:r,className:a=""}=e;return(0,t.jsx)("div",{className:"px-6 py-4 border-b border-border bg-background/70 dark:bg-background/40 rounded-t-2xl ".concat(a),children:r})}function o(e){let{children:r,className:a=""}=e;return(0,t.jsx)("h3",{className:"text-lg font-semibold text-foreground ".concat(a),children:r})}function i(e){let{children:r,className:a=""}=e;return(0,t.jsx)("p",{className:"text-sm text-muted-foreground ".concat(a),children:r})}function l(e){let{children:r,className:a=""}=e;return(0,t.jsx)("div",{className:"px-6 py-4 bg-background/60 dark:bg-background/30 rounded-b-2xl ".concat(a),children:r})}a(58078)},27002:function(e,r,a){"use strict";a.d(r,{I:function(){return i}});var t=a(37821),n=a(58078),s=a(41634),o=a(48908);let i=n.forwardRef((e,r)=>{let{className:a,hasError:n=!1,...i}=e;return(0,t.jsx)(s.E.input,{ref:r,className:(0,o.cn)("flex h-10 w-full rounded-md bg-background-dark px-3 py-2 text-sm text-text-light placeholder:text-text-medium focus:outline-none focus:ring-2 focus:ring-primary-blue/30 focus:ring-offset-2 focus:ring-offset-background-dark disabled:cursor-not-allowed disabled:opacity-50 transition-all duration-200",n?"border-secondary-red":"border-border-color focus:border-primary-blue",a),animate:n?{x:[-3,3,-3,3,0]}:{},transition:n?{duration:.3,ease:"easeInOut"}:{},...i})});i.displayName="Input"},1270:function(e,r,a){"use strict";a.d(r,{_:function(){return c}});var t=a(37821),n=a(58078),s=a(15641),o=a(898),i=a(48908);let l=(0,o.j)("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),c=n.forwardRef((e,r)=>{let{className:a,...n}=e;return(0,t.jsx)(s.f,{ref:r,className:(0,i.cn)(l(),a),...n})});c.displayName=s.f.displayName},92302:function(e,r,a){"use strict";a.d(r,{O:function(){return n}});var t=a(37821);function n(e){let{className:r=""}=e;return(0,t.jsx)("div",{className:"rounded-md bg-background-light bg-gradient-to-r from-transparent via-border-color to-transparent bg-[length:1000px_100%] animate-shimmer ".concat(r),style:{minHeight:24}})}a(58078)},88954:function(e){"use strict";e.exports={joinUrl:function(e,r){if(!e&&!r)return"";if(!e)return r||"";if(!r)return e.replace(/\/+$|^(\s*)$/g,"");let a=String(e).trim().replace(/\/+$/,""),t=String(r).trim().replace(/^\/+|\/+$/g,"");return"".concat(a,"/").concat(t)}},e.exports.default=e.exports.joinUrl},48908:function(e,r,a){"use strict";a.d(r,{cn:function(){return o},p6:function(){return l},xG:function(){return i}});var t=a(52605),n=a(31638);a(59792);let{joinUrl:s}=a(88954);function o(){for(var e=arguments.length,r=Array(e),a=0;a<e;a++)r[a]=arguments[a];return(0,n.m6)((0,t.W)(r))}function i(e){let r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"en-US",a="pt-BR"===r?"BRL":"USD";try{return new Intl.NumberFormat(r,{style:"currency",currency:a}).format(e)}catch(r){return console.error("Error formatting currency:",r),"".concat("BRL"===a?"R$":"$").concat(e.toFixed(2))}}function l(e){let r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"en-US";try{let a=new Date(e);if(isNaN(a.getTime()))return String(e||"");return new Intl.DateTimeFormat(r,{day:"2-digit",month:"2-digit",year:"numeric"}).format(a)}catch(r){return console.error("Error formatting date:",r),String(e)}}}},function(e){e.O(0,[4654,1634,6846,9012,2051,4717,4447,9461,1126,7115,2364,1744],function(){return e(e.s=43222)}),_N_E=e.O()}]);