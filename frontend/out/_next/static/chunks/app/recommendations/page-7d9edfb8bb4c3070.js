(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[70],{40582:function(e,s,t){Promise.resolve().then(t.bind(t,49803))},49803:function(e,s,t){"use strict";t.r(s),t.d(s,{default:function(){return Y}});var a=t(37821),r=t(58078),l=t(64790),n=t(84089),i=t(41634),o=t(40496),c=t(38322);let d=(0,c.Z)("Database",[["ellipse",{cx:"12",cy:"5",rx:"9",ry:"3",key:"msslwz"}],["path",{d:"M3 5V19A9 3 0 0 0 21 19V5",key:"1wlel7"}],["path",{d:"M3 12A9 3 0 0 0 21 12",key:"mv7ke4"}]]),x=(0,c.Z)("Globe",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]]);var m=t(19781);let u=(0,c.Z)("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);var h=t(25898),f=t(17329);let p=(0,c.Z)("SlidersHorizontal",[["line",{x1:"21",x2:"14",y1:"4",y2:"4",key:"obuewd"}],["line",{x1:"10",x2:"3",y1:"4",y2:"4",key:"1q6298"}],["line",{x1:"21",x2:"12",y1:"12",y2:"12",key:"1iu8h1"}],["line",{x1:"8",x2:"3",y1:"12",y2:"12",key:"ntss68"}],["line",{x1:"21",x2:"16",y1:"20",y2:"20",key:"14d8ph"}],["line",{x1:"12",x2:"3",y1:"20",y2:"20",key:"m0wm8r"}],["line",{x1:"14",x2:"14",y1:"2",y2:"6",key:"14e1ph"}],["line",{x1:"8",x2:"8",y1:"10",y2:"14",key:"1i6ji0"}],["line",{x1:"16",x2:"16",y1:"18",y2:"22",key:"1lctlv"}]]);var y=t(49801),j=t(99419),g=t(82531),N=t(21042),v=t(87769),w=t(67469),b=t(42347),k=t(27002),E=t(91027),Z=t(32634),C=t(3758),L=t(898);let S=(0,c.Z)("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);var A=t(48908);let z=C.fC;C.xz,C.x8;let I=C.h_,M=r.forwardRef((e,s)=>{let{className:t,...r}=e;return(0,a.jsx)(C.aV,{className:(0,A.cn)("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",t),...r,ref:s})});M.displayName=C.aV.displayName;let D=(0,L.j)("fixed z-50 gap-4 bg-background p-6 shadow-lg transition ease-in-out data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:duration-300 data-[state=open]:duration-500",{variants:{side:{top:"inset-x-0 top-0 border-b data-[state=closed]:slide-out-to-top data-[state=open]:slide-in-from-top",bottom:"inset-x-0 bottom-0 border-t data-[state=closed]:slide-out-to-bottom data-[state=open]:slide-in-from-bottom",left:"inset-y-0 left-0 h-full w-3/4 border-r data-[state=closed]:slide-out-to-left data-[state=open]:slide-in-from-left sm:max-w-sm",right:"inset-y-0 right-0 h-full w-3/4  border-l data-[state=closed]:slide-out-to-right data-[state=open]:slide-in-from-right sm:max-w-sm"}},defaultVariants:{side:"right"}}),R=r.forwardRef((e,s)=>{let{side:t="right",className:r,children:l,...n}=e;return(0,a.jsxs)(I,{children:[(0,a.jsx)(M,{}),(0,a.jsxs)(C.VY,{ref:s,className:(0,A.cn)(D({side:t}),r),...n,children:[l,(0,a.jsxs)(C.x8,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-secondary",children:[(0,a.jsx)(S,{className:"h-4 w-4"}),(0,a.jsx)("span",{className:"sr-only",children:"Close"})]})]})]})});R.displayName=C.VY.displayName;let T=e=>{let{className:s,...t}=e;return(0,a.jsx)("div",{className:(0,A.cn)("flex flex-col space-y-2 text-center sm:text-left",s),...t})};T.displayName="SheetHeader";let V=e=>{let{className:s,...t}=e;return(0,a.jsx)("div",{className:(0,A.cn)("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",s),...t})};V.displayName="SheetFooter";let _=r.forwardRef((e,s)=>{let{className:t,...r}=e;return(0,a.jsx)(C.Dx,{ref:s,className:(0,A.cn)("text-lg font-semibold text-foreground",t),...r})});_.displayName=C.Dx.displayName;let q=r.forwardRef((e,s)=>{let{className:t,...r}=e;return(0,a.jsx)(C.dk,{ref:s,className:(0,A.cn)("text-sm text-muted-foreground",t),...r})});q.displayName=C.dk.displayName;let F={ACTIVE:"warning",EXECUTED:"success"},O={IDLE_INSTANCE:o.Z,UNUSED_EBS:d,OPTIMIZE_RDS:d,UNUSED_EIP:x,default:m.Z},P=[{icon:u,title:"An\xe1lise Cont\xednua",description:"Monitoramos seus recursos AWS 24/7, cruzando dados de uso, m\xe9tricas do CloudWatch e custos."},{icon:h.Z,title:"Identifica\xe7\xe3o de Padr\xf5es",description:"Nossos algoritmos identificam padr\xf5es de ociosidade, superdimensionamento e desperd\xedcio."},{icon:f.Z,title:"A\xe7\xe3o Inteligente",description:"Geramos recomenda\xe7\xf5es claras para voc\xea executar com um clique, ou automatizamos a otimiza\xe7\xe3o para voc\xea."}];function Y(){let[e,s]=(0,r.useState)([]),[t,o]=(0,r.useState)(null),[c,d]=(0,r.useState)(""),[x,m]=(0,r.useState)("ALL"),[u,h]=(0,r.useState)("ALL"),[C,L]=(0,r.useState)(!1),S=(0,n.d)();(0,r.useEffect)(()=>{(async()=>{try{let e=await l.x1.get("/recommendations");s(e||[])}catch(e){console.error("Erro ao carregar recomenda\xe7\xf5es:",e),S.error((null==e?void 0:e.message)||"Erro ao carregar recomenda\xe7\xf5es")}})()},[S]);let A=(0,r.useMemo)(()=>["ALL",...Array.from(new Set(e.map(e=>e.region)))],[e]),I=(0,r.useMemo)(()=>e.filter(e=>"ALL"===x||e.status===x).filter(e=>"ALL"===u||e.region===u).filter(e=>e.resourceId.toLowerCase().includes(c.toLowerCase())||e.type.toLowerCase().includes(c.toLowerCase())||e.region.toLowerCase().includes(c.toLowerCase())),[e,x,u,c]),M=async e=>{L(!0),S.info("Executando recomenda\xe7\xe3o ".concat(e,"..."));try{await l.x1.post("/recommendations/".concat(e,"/execute")),s(s=>s.map(s=>s.id===e?{...s,status:"EXECUTED"}:s)),S.success("Recomenda\xe7\xe3o executada com sucesso!"),o(null)}catch(e){console.error("Erro ao executar recomenda\xe7\xe3o:",e),S.error((null==e?void 0:e.message)||"Falha ao executar recomenda\xe7\xe3o")}finally{L(!1)}};return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(N.m,{title:"Recomenda\xe7\xf5es de Otimiza\xe7\xe3o",description:"Encontre e execute a\xe7\xf5es para reduzir seus custos na AWS de forma inteligente."}),(0,a.jsx)(i.E.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.2},children:(0,a.jsxs)(v.Zb,{className:"mb-8",children:[(0,a.jsx)(v.Ol,{children:(0,a.jsx)(v.ll,{className:"text-xl",children:"Como Nossas Recomenda\xe7\xf5es Funcionam"})}),(0,a.jsx)(v.aY,{className:"grid md:grid-cols-3 gap-8",children:P.map((e,s)=>(0,a.jsxs)("div",{className:"flex items-start gap-4",children:[(0,a.jsx)("div",{className:"flex-shrink-0 w-12 h-12 bg-primary/10 text-primary rounded-lg flex items-center justify-center",children:(0,a.jsx)(e.icon,{className:"w-6 h-6"})}),(0,a.jsxs)("div",{children:[(0,a.jsx)("h3",{className:"font-semibold mb-1",children:e.title}),(0,a.jsx)("p",{className:"text-sm text-muted-foreground",children:e.description})]})]},s))})]})}),(0,a.jsxs)("div",{className:"space-y-6",children:[(0,a.jsxs)(v.Zb,{children:[(0,a.jsxs)(v.Ol,{className:"flex-row items-center justify-between",children:[(0,a.jsx)(v.ll,{children:"Filtros"}),(0,a.jsx)(p,{className:"w-5 h-5 text-muted-foreground"})]}),(0,a.jsxs)(v.aY,{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[(0,a.jsx)("div",{className:"flex-1",children:(0,a.jsx)(k.I,{placeholder:"Buscar por ID do recurso, tipo ou regi\xe3o...",value:c,onChange:e=>d(e.target.value)})}),(0,a.jsxs)(E.Ph,{value:x,onValueChange:e=>m(e),children:[(0,a.jsx)(E.i4,{className:"w-full",children:(0,a.jsx)(E.ki,{placeholder:"Filtrar por status"})}),(0,a.jsxs)(E.Bw,{children:[(0,a.jsx)(E.Ql,{value:"ALL",children:"Todos os Status"}),(0,a.jsx)(E.Ql,{value:"ACTIVE",children:"Ativas"}),(0,a.jsx)(E.Ql,{value:"EXECUTED",children:"Executadas"})]})]}),(0,a.jsxs)(E.Ph,{value:u,onValueChange:e=>h(e),children:[(0,a.jsx)(E.i4,{className:"w-full",children:(0,a.jsx)(E.ki,{placeholder:"Filtrar por regi\xe3o"})}),(0,a.jsx)(E.Bw,{children:A.map(e=>(0,a.jsx)(E.Ql,{value:e,children:"ALL"===e?"Todas as Regi\xf5es":e},e))})]})]})]}),(0,a.jsx)("div",{className:"grid gap-6 md:grid-cols-2 lg:grid-cols-3",children:I.map(e=>{let s=O[e.type]||O.default;return(0,a.jsxs)(v.Zb,{className:"flex flex-col",children:[(0,a.jsxs)(v.Ol,{className:"flex-row items-start gap-4 space-y-0",children:[(0,a.jsx)("div",{className:"flex-shrink-0 w-10 h-10 bg-primary/10 text-primary rounded-lg flex items-center justify-center",children:(0,a.jsx)(s,{className:"w-5 h-5"})}),(0,a.jsxs)("div",{className:"flex-1",children:[(0,a.jsx)(v.ll,{className:"text-base mb-1",children:e.type.replace(/_/g," ")}),(0,a.jsx)("p",{className:"text-xs font-mono text-muted-foreground",children:e.resourceId})]})]}),(0,a.jsxs)(v.aY,{className:"flex-1 space-y-4",children:[(0,a.jsxs)("div",{className:"flex justify-between text-sm",children:[(0,a.jsx)("span",{className:"text-muted-foreground",children:"Economia Potencial"}),(0,a.jsxs)("span",{className:"font-semibold text-green-600 dark:text-green-400",children:["$",e.potentialSaving.toFixed(2)]})]}),(0,a.jsxs)("div",{className:"flex justify-between text-sm items-center",children:[(0,a.jsx)("span",{className:"text-muted-foreground",children:"Status"}),(0,a.jsx)(b.C,{variant:F[e.status],children:e.status})]})]}),(0,a.jsx)("div",{className:"p-4 pt-0",children:(0,a.jsx)(w.z,{variant:"outline",size:"sm",className:"w-full",onClick:()=>o(e),children:"Ver Detalhes e A\xe7\xf5es"})})]},e.id)})}),0===I.length&&(0,a.jsx)(v.Zb,{className:"text-center py-12",children:(0,a.jsxs)(v.aY,{children:[(0,a.jsx)(y.Z,{className:"mx-auto h-12 w-12 text-muted-foreground"}),(0,a.jsx)("h3",{className:"mt-4 text-lg font-semibold",children:"Nenhuma Recomenda\xe7\xe3o Encontrada"}),(0,a.jsx)("p",{className:"mt-2 text-sm text-muted-foreground",children:"N\xe3o encontramos recomenda\xe7\xf5es com os filtros aplicados."})]})})]}),(0,a.jsx)(z,{open:!!t,onOpenChange:e=>!e&&o(null),children:(0,a.jsx)(R,{className:"w-[400px] sm:w-[540px]",children:t&&(0,a.jsxs)(a.Fragment,{children:[(0,a.jsxs)(T,{children:[(0,a.jsx)(_,{children:"Detalhes da Recomenda\xe7\xe3o"}),(0,a.jsx)(q,{children:"Revise os detalhes abaixo antes de executar a a\xe7\xe3o."})]}),(0,a.jsxs)("div",{className:"py-4 space-y-4",children:[(0,a.jsxs)("div",{className:"flex justify-between items-center",children:[(0,a.jsx)("span",{className:"text-muted-foreground",children:"Tipo:"}),(0,a.jsx)("span",{className:"font-semibold",children:t.type.replace(/_/g," ")})]}),(0,a.jsxs)("div",{className:"flex justify-between items-center",children:[(0,a.jsx)("span",{className:"text-muted-foreground",children:"Recurso:"}),(0,a.jsx)("span",{className:"font-mono text-sm",children:t.resourceId})]}),(0,a.jsxs)("div",{className:"flex justify-between items-center",children:[(0,a.jsx)("span",{className:"text-muted-foreground",children:"Economia Potencial:"}),(0,a.jsxs)("span",{className:"font-bold text-lg text-green-600",children:["$",t.potentialSaving.toFixed(2)]})]}),(0,a.jsxs)(v.Zb,{className:"bg-muted/50",children:[(0,a.jsxs)(v.Ol,{className:"flex-row items-center gap-3 space-y-0",children:[(0,a.jsx)(j.Z,{className:"w-5 h-5 text-muted-foreground"}),(0,a.jsx)(v.ll,{className:"text-base",children:"Motivo"})]}),(0,a.jsx)(v.aY,{children:(0,a.jsx)("p",{className:"text-sm text-muted-foreground",children:t.reason})})]})]}),(0,a.jsx)(V,{children:"ACTIVE"===t.status?(0,a.jsxs)(Z.aR,{children:[(0,a.jsx)(Z.vW,{asChild:!0,children:(0,a.jsxs)(w.z,{className:"w-full",disabled:C,children:[(0,a.jsx)(f.Z,{className:"mr-2 h-4 w-4"})," ",C?"Executando...":"Executar A\xe7\xe3o"]})}),(0,a.jsxs)(Z._T,{children:[(0,a.jsxs)(Z.fY,{children:[(0,a.jsx)(Z.f$,{children:"Confirmar Execu\xe7\xe3o?"}),(0,a.jsxs)(Z.yT,{children:["Esta a\xe7\xe3o executar\xe1 a otimiza\xe7\xe3o recomendada no recurso ",(0,a.jsx)("strong",{className:"font-mono",children:t.resourceId}),". A a\xe7\xe3o \xe9 segura e projetada para ser revers\xedvel sempre que poss\xedvel. Deseja continuar?"]})]}),(0,a.jsxs)(Z.xo,{children:[(0,a.jsx)(Z.le,{children:"Cancelar"}),(0,a.jsx)(Z.OL,{onClick:()=>M(t.id),children:"Confirmar e Executar"})]})]})]}):(0,a.jsxs)("div",{className:"flex items-center justify-center w-full text-green-600 gap-2",children:[(0,a.jsx)(g.Z,{className:"w-5 h-5"}),(0,a.jsx)("span",{className:"font-semibold",children:"Esta recomenda\xe7\xe3o j\xe1 foi executada."})]})})]})})})]})}},25898:function(e,s,t){"use strict";t.d(s,{Z:function(){return a}});let a=(0,t(38322).Z)("BarChart2",[["line",{x1:"18",x2:"18",y1:"20",y2:"10",key:"1xfpm4"}],["line",{x1:"12",x2:"12",y1:"20",y2:"4",key:"be30l9"}],["line",{x1:"6",x2:"6",y1:"20",y2:"14",key:"1r4le6"}]])},82531:function(e,s,t){"use strict";t.d(s,{Z:function(){return a}});let a=(0,t(38322).Z)("CheckCircle",[["path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14",key:"g774vq"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]])},19781:function(e,s,t){"use strict";t.d(s,{Z:function(){return a}});let a=(0,t(38322).Z)("DollarSign",[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]])},99419:function(e,s,t){"use strict";t.d(s,{Z:function(){return a}});let a=(0,t(38322).Z)("Info",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]])},40496:function(e,s,t){"use strict";t.d(s,{Z:function(){return a}});let a=(0,t(38322).Z)("Server",[["rect",{width:"20",height:"8",x:"2",y:"2",rx:"2",ry:"2",key:"ngkwjq"}],["rect",{width:"20",height:"8",x:"2",y:"14",rx:"2",ry:"2",key:"iecqi9"}],["line",{x1:"6",x2:"6.01",y1:"6",y2:"6",key:"16zg32"}],["line",{x1:"6",x2:"6.01",y1:"18",y2:"18",key:"nzw8ys"}]])},49801:function(e,s,t){"use strict";t.d(s,{Z:function(){return a}});let a=(0,t(38322).Z)("Tag",[["path",{d:"M12 2H2v10l9.29 9.29c.94.94 2.48.94 3.42 0l6.58-6.58c.94-.94.94-2.48 0-3.42L12 2Z",key:"14b2ls"}],["path",{d:"M7 7h.01",key:"7u93v4"}]])},17329:function(e,s,t){"use strict";t.d(s,{Z:function(){return a}});let a=(0,t(38322).Z)("Zap",[["polygon",{points:"13 2 3 14 12 14 11 22 21 10 12 10 13 2",key:"45s27k"}]])}},function(e){e.O(0,[4654,1634,6846,2051,4447,6354,1126,7115,2364,1744],function(){return e(e.s=40582)}),_N_E=e.O()}]);