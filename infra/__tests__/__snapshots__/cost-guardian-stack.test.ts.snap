// Jest Snapshot v1, https://goo.gl/fbAQLP

exports[`CostGuardianStack: Testes de Asserção e Segurança Snapshot do Stack está consistente 1`] = `
{
  "Mappings": {
    "ServiceprincipalMap": {
      "af-south-1": {
        "states": "states.af-south-1.amazonaws.com",
      },
      "ap-east-1": {
        "states": "states.ap-east-1.amazonaws.com",
      },
      "ap-northeast-1": {
        "states": "states.ap-northeast-1.amazonaws.com",
      },
      "ap-northeast-2": {
        "states": "states.ap-northeast-2.amazonaws.com",
      },
      "ap-northeast-3": {
        "states": "states.ap-northeast-3.amazonaws.com",
      },
      "ap-south-1": {
        "states": "states.ap-south-1.amazonaws.com",
      },
      "ap-south-2": {
        "states": "states.ap-south-2.amazonaws.com",
      },
      "ap-southeast-1": {
        "states": "states.ap-southeast-1.amazonaws.com",
      },
      "ap-southeast-2": {
        "states": "states.ap-southeast-2.amazonaws.com",
      },
      "ap-southeast-3": {
        "states": "states.ap-southeast-3.amazonaws.com",
      },
      "ap-southeast-4": {
        "states": "states.ap-southeast-4.amazonaws.com",
      },
      "ca-central-1": {
        "states": "states.ca-central-1.amazonaws.com",
      },
      "cn-north-1": {
        "states": "states.cn-north-1.amazonaws.com",
      },
      "cn-northwest-1": {
        "states": "states.cn-northwest-1.amazonaws.com",
      },
      "eu-central-1": {
        "states": "states.eu-central-1.amazonaws.com",
      },
      "eu-central-2": {
        "states": "states.eu-central-2.amazonaws.com",
      },
      "eu-north-1": {
        "states": "states.eu-north-1.amazonaws.com",
      },
      "eu-south-1": {
        "states": "states.eu-south-1.amazonaws.com",
      },
      "eu-south-2": {
        "states": "states.eu-south-2.amazonaws.com",
      },
      "eu-west-1": {
        "states": "states.eu-west-1.amazonaws.com",
      },
      "eu-west-2": {
        "states": "states.eu-west-2.amazonaws.com",
      },
      "eu-west-3": {
        "states": "states.eu-west-3.amazonaws.com",
      },
      "il-central-1": {
        "states": "states.il-central-1.amazonaws.com",
      },
      "me-central-1": {
        "states": "states.me-central-1.amazonaws.com",
      },
      "me-south-1": {
        "states": "states.me-south-1.amazonaws.com",
      },
      "sa-east-1": {
        "states": "states.sa-east-1.amazonaws.com",
      },
      "us-east-1": {
        "states": "states.us-east-1.amazonaws.com",
      },
      "us-east-2": {
        "states": "states.us-east-2.amazonaws.com",
      },
      "us-gov-east-1": {
        "states": "states.us-gov-east-1.amazonaws.com",
      },
      "us-gov-west-1": {
        "states": "states.us-gov-west-1.amazonaws.com",
      },
      "us-iso-east-1": {
        "states": "states.amazonaws.com",
      },
      "us-iso-west-1": {
        "states": "states.amazonaws.com",
      },
      "us-isob-east-1": {
        "states": "states.amazonaws.com",
      },
      "us-west-1": {
        "states": "states.us-west-1.amazonaws.com",
      },
      "us-west-2": {
        "states": "states.us-west-2.amazonaws.com",
      },
    },
  },
  "Outputs": {
    "APIUrl": {
      "Value": {
        "Fn::Join": [
          "",
          [
            "https://",
            {
              "Ref": "CostGuardianAPID69A7606",
            },
            ".execute-api.",
            {
              "Ref": "AWS::Region",
            },
            ".",
            {
              "Ref": "AWS::URLSuffix",
            },
            "/",
            {
              "Ref": "CostGuardianAPIDeploymentStageprod2322FA4F",
            },
            "/",
          ],
        ],
      },
    },
    "CfnTemplateUrl": {
      "Description": "URL do template do CloudFormation para o onboarding do cliente. Use esta URL no frontend.",
      "Value": {
        "Fn::Join": [
          "",
          [
            {
              "Fn::GetAtt": [
                "CfnTemplateBucket4840C65E",
                "WebsiteURL",
              ],
            },
            "/template.yaml",
          ],
        ],
      },
    },
    "CostGuardianAPIEndpoint220630FB": {
      "Value": {
        "Fn::Join": [
          "",
          [
            "https://",
            {
              "Ref": "CostGuardianAPID69A7606",
            },
            ".execute-api.",
            {
              "Ref": "AWS::Region",
            },
            ".",
            {
              "Ref": "AWS::URLSuffix",
            },
            "/",
            {
              "Ref": "CostGuardianAPIDeploymentStageprod2322FA4F",
            },
            "/",
          ],
        ],
      },
    },
    "IdentityPoolId": {
      "Description": "Cognito Identity Pool ID",
      "Value": {
        "Ref": "CostGuardianIdentityPool",
      },
    },
    "SFNArn": {
      "Value": {
        "Ref": "SLAWorkflow733FFDD9",
      },
    },
    "TableName": {
      "Value": {
        "Ref": "CostGuardianTable970FEF22",
      },
    },
    "UserPoolClientId": {
      "Value": {
        "Ref": "CostGuardianUserPoolClient13CE29CE",
      },
    },
    "UserPoolId": {
      "Value": {
        "Ref": "CostGuardianPoolF8005E80",
      },
    },
  },
  "Parameters": {
    "BootstrapVersion": {
      "Default": "/cdk-bootstrap/hnb659fds/version",
      "Description": "Version of the CDK Bootstrap resources in this environment, automatically retrieved from SSM Parameter Store. [cdk:skip]",
      "Type": "AWS::SSM::Parameter::Value<String>",
    },
  },
  "Resources": {
    "AdminGroup": {
      "Properties": {
        "Description": "Grupo para administradores da plataforma",
        "GroupName": "Admins",
        "UserPoolId": {
          "Ref": "CostGuardianPoolF8005E80",
        },
      },
      "Type": "AWS::Cognito::UserPoolGroup",
    },
    "AnomalyAlertsTopic5676DBF5": {
      "Type": "AWS::SNS::Topic",
    },
    "ApiHandler5E7490E8": {
      "DependsOn": [
        "ApiHandlerServiceRoleDefaultPolicy10321D87",
        "ApiHandlerServiceRole592E70E9",
      ],
      "Properties": {
        "Code": {
          "S3Bucket": {
            "Fn::Sub": "cdk-hnb659fds-assets-\${AWS::AccountId}-\${AWS::Region}",
          },
          "S3Key": "0a647b60d348b3f9c381a4990b6dd3055b0c21ec0c2fca4ce214f4caeb5b28a7.zip",
        },
        "Environment": {
          "Variables": {
            "AWS_NODEJS_CONNECTION_REUSE_ENABLED": "1",
            "DYNAMODB_TABLE": {
              "Ref": "CostGuardianTable970FEF22",
            },
            "EXECUTE_RECOMMENDATION_LAMBDA_ARN": {
              "Fn::GetAtt": [
                "ExecuteRecommendation661572F9",
                "Arn",
              ],
            },
            "EXECUTE_RECOMMENDATION_LAMBDA_NAME": {
              "Ref": "ExecuteRecommendation661572F9",
            },
            "FULL_TEMPLATE_URL": {
              "Fn::Join": [
                "",
                [
                  {
                    "Fn::GetAtt": [
                      "CfnTemplateBucket4840C65E",
                      "WebsiteURL",
                    ],
                  },
                  "/cost-guardian-template.yaml",
                ],
              ],
            },
            "PLATFORM_ACCOUNT_ID": {
              "Ref": "AWS::AccountId",
            },
            "STRIPE_SECRET_ARN": {
              "Ref": "StripeSecret80A38A68",
            },
            "STRIPE_WEBHOOK_SECRET_ARN": {
              "Ref": "StripeWebhookSecretFCDDBC6A",
            },
            "TRIAL_TEMPLATE_URL": {
              "Fn::Join": [
                "",
                [
                  {
                    "Fn::GetAtt": [
                      "CfnTemplateBucket4840C65E",
                      "WebsiteURL",
                    ],
                  },
                  "/cost-guardian-TRIAL-template.yaml",
                ],
              ],
            },
            "USER_POOL_CLIENT_ID": {
              "Ref": "CostGuardianUserPoolClient13CE29CE",
            },
            "USER_POOL_ID": {
              "Ref": "CostGuardianPoolF8005E80",
            },
          },
        },
        "Handler": "index.app",
        "Role": {
          "Fn::GetAtt": [
            "ApiHandlerServiceRole592E70E9",
            "Arn",
          ],
        },
        "Runtime": "nodejs18.x",
      },
      "Type": "AWS::Lambda::Function",
    },
    "ApiHandlerServiceRole592E70E9": {
      "Properties": {
        "AssumeRolePolicyDocument": {
          "Statement": [
            {
              "Action": "sts:AssumeRole",
              "Effect": "Allow",
              "Principal": {
                "Service": "lambda.amazonaws.com",
              },
            },
          ],
          "Version": "2012-10-17",
        },
        "ManagedPolicyArns": [
          {
            "Fn::Join": [
              "",
              [
                "arn:",
                {
                  "Ref": "AWS::Partition",
                },
                ":iam::aws:policy/service-role/AWSLambdaBasicExecutionRole",
              ],
            ],
          },
        ],
      },
      "Type": "AWS::IAM::Role",
    },
    "ApiHandlerServiceRoleDefaultPolicy10321D87": {
      "Properties": {
        "PolicyDocument": {
          "Statement": [
            {
              "Action": [
                "dynamodb:BatchGetItem",
                "dynamodb:GetRecords",
                "dynamodb:GetShardIterator",
                "dynamodb:Query",
                "dynamodb:GetItem",
                "dynamodb:Scan",
                "dynamodb:ConditionCheckItem",
                "dynamodb:BatchWriteItem",
                "dynamodb:PutItem",
                "dynamodb:UpdateItem",
                "dynamodb:DeleteItem",
                "dynamodb:DescribeTable",
              ],
              "Effect": "Allow",
              "Resource": [
                {
                  "Fn::GetAtt": [
                    "CostGuardianTable970FEF22",
                    "Arn",
                  ],
                },
                {
                  "Fn::Join": [
                    "",
                    [
                      {
                        "Fn::GetAtt": [
                          "CostGuardianTable970FEF22",
                          "Arn",
                        ],
                      },
                      "/index/*",
                    ],
                  ],
                },
              ],
            },
            {
              "Action": [
                "secretsmanager:GetSecretValue",
                "secretsmanager:DescribeSecret",
              ],
              "Effect": "Allow",
              "Resource": {
                "Ref": "StripeSecret80A38A68",
              },
            },
            {
              "Action": [
                "secretsmanager:GetSecretValue",
                "secretsmanager:DescribeSecret",
              ],
              "Effect": "Allow",
              "Resource": {
                "Ref": "StripeWebhookSecretFCDDBC6A",
              },
            },
            {
              "Action": "lambda:InvokeFunction",
              "Effect": "Allow",
              "Resource": [
                {
                  "Fn::GetAtt": [
                    "ExecuteRecommendation661572F9",
                    "Arn",
                  ],
                },
                {
                  "Fn::Join": [
                    "",
                    [
                      {
                        "Fn::GetAtt": [
                          "ExecuteRecommendation661572F9",
                          "Arn",
                        ],
                      },
                      ":*",
                    ],
                  ],
                },
              ],
            },
          ],
          "Version": "2012-10-17",
        },
        "PolicyName": "ApiHandlerServiceRoleDefaultPolicy10321D87",
        "Roles": [
          {
            "Ref": "ApiHandlerServiceRole592E70E9",
          },
        ],
      },
      "Type": "AWS::IAM::Policy",
    },
    "AutomationWorkflow31EDE987": {
      "DeletionPolicy": "Delete",
      "DependsOn": [
        "AutomationWorkflowRoleDefaultPolicyFB4275E5",
        "AutomationWorkflowRole7528A909",
      ],
      "Properties": {
        "DefinitionString": {
          "Fn::Join": [
            "",
            [
              "{"StartAt":"RunAllAutomations","States":{"RunAllAutomations":{"Type":"Parallel","End":true,"Branches":[{"StartAt":"StopIdleResources","States":{"StopIdleResources":{"End":true,"Retry":[{"ErrorEquals":["Lambda.ClientExecutionTimeoutException","Lambda.ServiceException","Lambda.AWSLambdaException","Lambda.SdkClientException"],"IntervalSeconds":2,"MaxAttempts":6,"BackoffRate":2}],"Type":"Task","OutputPath":"$.Payload","Resource":"arn:",
              {
                "Ref": "AWS::Partition",
              },
              ":states:::lambda:invoke","Parameters":{"FunctionName":"",
              {
                "Fn::GetAtt": [
                  "StopIdleInstancesF236D216",
                  "Arn",
                ],
              },
              "","Payload.$":"$"}}}},{"StartAt":"DeleteUnusedVolumes","States":{"DeleteUnusedVolumes":{"End":true,"Retry":[{"ErrorEquals":["Lambda.ClientExecutionTimeoutException","Lambda.ServiceException","Lambda.AWSLambdaException","Lambda.SdkClientException"],"IntervalSeconds":2,"MaxAttempts":6,"BackoffRate":2}],"Type":"Task","OutputPath":"$.Payload","Resource":"arn:",
              {
                "Ref": "AWS::Partition",
              },
              ":states:::lambda:invoke","Parameters":{"FunctionName":"",
              {
                "Fn::GetAtt": [
                  "DeleteUnusedEbs3A5FAC7B",
                  "Arn",
                ],
              },
              "","Payload.$":"$"}}}},{"StartAt":"RecommendIdleRds","States":{"RecommendIdleRds":{"End":true,"Retry":[{"ErrorEquals":["Lambda.ClientExecutionTimeoutException","Lambda.ServiceException","Lambda.AWSLambdaException","Lambda.SdkClientException"],"IntervalSeconds":2,"MaxAttempts":6,"BackoffRate":2}],"Type":"Task","OutputPath":"$.Payload","Resource":"arn:",
              {
                "Ref": "AWS::Partition",
              },
              ":states:::lambda:invoke","Parameters":{"FunctionName":"",
              {
                "Fn::GetAtt": [
                  "RecommendRdsIdle878468E8",
                  "Arn",
                ],
              },
              "","Payload.$":"$"}}}}]}}}",
            ],
          ],
        },
        "RoleArn": {
          "Fn::GetAtt": [
            "AutomationWorkflowRole7528A909",
            "Arn",
          ],
        },
      },
      "Type": "AWS::StepFunctions::StateMachine",
      "UpdateReplacePolicy": "Delete",
    },
    "AutomationWorkflowEventsRole4334F553": {
      "Properties": {
        "AssumeRolePolicyDocument": {
          "Statement": [
            {
              "Action": "sts:AssumeRole",
              "Effect": "Allow",
              "Principal": {
                "Service": "events.amazonaws.com",
              },
            },
          ],
          "Version": "2012-10-17",
        },
      },
      "Type": "AWS::IAM::Role",
    },
    "AutomationWorkflowEventsRoleDefaultPolicy91A0192B": {
      "Properties": {
        "PolicyDocument": {
          "Statement": [
            {
              "Action": "states:StartExecution",
              "Effect": "Allow",
              "Resource": {
                "Ref": "AutomationWorkflow31EDE987",
              },
            },
          ],
          "Version": "2012-10-17",
        },
        "PolicyName": "AutomationWorkflowEventsRoleDefaultPolicy91A0192B",
        "Roles": [
          {
            "Ref": "AutomationWorkflowEventsRole4334F553",
          },
        ],
      },
      "Type": "AWS::IAM::Policy",
    },
    "AutomationWorkflowRole7528A909": {
      "Properties": {
        "AssumeRolePolicyDocument": {
          "Statement": [
            {
              "Action": "sts:AssumeRole",
              "Effect": "Allow",
              "Principal": {
                "Service": {
                  "Fn::FindInMap": [
                    "ServiceprincipalMap",
                    {
                      "Ref": "AWS::Region",
                    },
                    "states",
                  ],
                },
              },
            },
          ],
          "Version": "2012-10-17",
        },
      },
      "Type": "AWS::IAM::Role",
    },
    "AutomationWorkflowRoleDefaultPolicyFB4275E5": {
      "Properties": {
        "PolicyDocument": {
          "Statement": [
            {
              "Action": "lambda:InvokeFunction",
              "Effect": "Allow",
              "Resource": [
                {
                  "Fn::GetAtt": [
                    "StopIdleInstancesF236D216",
                    "Arn",
                  ],
                },
                {
                  "Fn::Join": [
                    "",
                    [
                      {
                        "Fn::GetAtt": [
                          "StopIdleInstancesF236D216",
                          "Arn",
                        ],
                      },
                      ":*",
                    ],
                  ],
                },
              ],
            },
            {
              "Action": "lambda:InvokeFunction",
              "Effect": "Allow",
              "Resource": [
                {
                  "Fn::GetAtt": [
                    "DeleteUnusedEbs3A5FAC7B",
                    "Arn",
                  ],
                },
                {
                  "Fn::Join": [
                    "",
                    [
                      {
                        "Fn::GetAtt": [
                          "DeleteUnusedEbs3A5FAC7B",
                          "Arn",
                        ],
                      },
                      ":*",
                    ],
                  ],
                },
              ],
            },
            {
              "Action": "lambda:InvokeFunction",
              "Effect": "Allow",
              "Resource": [
                {
                  "Fn::GetAtt": [
                    "RecommendRdsIdle878468E8",
                    "Arn",
                  ],
                },
                {
                  "Fn::Join": [
                    "",
                    [
                      {
                        "Fn::GetAtt": [
                          "RecommendRdsIdle878468E8",
                          "Arn",
                        ],
                      },
                      ":*",
                    ],
                  ],
                },
              ],
            },
          ],
          "Version": "2012-10-17",
        },
        "PolicyName": "AutomationWorkflowRoleDefaultPolicyFB4275E5",
        "Roles": [
          {
            "Ref": "AutomationWorkflowRole7528A909",
          },
        ],
      },
      "Type": "AWS::IAM::Policy",
    },
    "CfnTemplateBucket4840C65E": {
      "DeletionPolicy": "Delete",
      "Properties": {
        "PublicAccessBlockConfiguration": {
          "BlockPublicAcls": true,
          "BlockPublicPolicy": false,
          "IgnorePublicAcls": true,
          "RestrictPublicBuckets": false,
        },
        "Tags": [
          {
            "Key": "aws-cdk:auto-delete-objects",
            "Value": "true",
          },
        ],
        "WebsiteConfiguration": {
          "IndexDocument": "template.yaml",
        },
      },
      "Type": "AWS::S3::Bucket",
      "UpdateReplacePolicy": "Delete",
    },
    "CfnTemplateBucketAutoDeleteObjectsCustomResourceDD52B89D": {
      "DeletionPolicy": "Delete",
      "DependsOn": [
        "CfnTemplateBucketPolicyCC45C421",
      ],
      "Properties": {
        "BucketName": {
          "Ref": "CfnTemplateBucket4840C65E",
        },
        "ServiceToken": {
          "Fn::GetAtt": [
            "CustomS3AutoDeleteObjectsCustomResourceProviderHandler9D90184F",
            "Arn",
          ],
        },
      },
      "Type": "Custom::S3AutoDeleteObjects",
      "UpdateReplacePolicy": "Delete",
    },
    "CfnTemplateBucketPolicyCC45C421": {
      "Properties": {
        "Bucket": {
          "Ref": "CfnTemplateBucket4840C65E",
        },
        "PolicyDocument": {
          "Statement": [
            {
              "Action": "s3:GetObject",
              "Effect": "Allow",
              "Principal": {
                "AWS": "*",
              },
              "Resource": {
                "Fn::Join": [
                  "",
                  [
                    {
                      "Fn::GetAtt": [
                        "CfnTemplateBucket4840C65E",
                        "Arn",
                      ],
                    },
                    "/*",
                  ],
                ],
              },
            },
            {
              "Action": [
                "s3:PutBucketPolicy",
                "s3:GetBucket*",
                "s3:List*",
                "s3:DeleteObject*",
              ],
              "Effect": "Allow",
              "Principal": {
                "AWS": {
                  "Fn::GetAtt": [
                    "CustomS3AutoDeleteObjectsCustomResourceProviderRole3B1BD092",
                    "Arn",
                  ],
                },
              },
              "Resource": [
                {
                  "Fn::GetAtt": [
                    "CfnTemplateBucket4840C65E",
                    "Arn",
                  ],
                },
                {
                  "Fn::Join": [
                    "",
                    [
                      {
                        "Fn::GetAtt": [
                          "CfnTemplateBucket4840C65E",
                          "Arn",
                        ],
                      },
                      "/*",
                    ],
                  ],
                },
              ],
            },
          ],
          "Version": "2012-10-17",
        },
      },
      "Type": "AWS::S3::BucketPolicy",
    },
    "CognitoAuth8E818E2A": {
      "Properties": {
        "IdentitySource": "method.request.header.Authorization",
        "Name": "MyTestStackCognitoAuth26D6C1F6",
        "ProviderARNs": [
          {
            "Fn::GetAtt": [
              "CostGuardianPoolF8005E80",
              "Arn",
            ],
          },
        ],
        "RestApiId": {
          "Ref": "CostGuardianAPID69A7606",
        },
        "Type": "COGNITO_USER_POOLS",
      },
      "Type": "AWS::ApiGateway::Authorizer",
    },
    "CostGuardianAPIAccount30F91D25": {
      "DeletionPolicy": "Retain",
      "DependsOn": [
        "CostGuardianAPID69A7606",
      ],
      "Properties": {
        "CloudWatchRoleArn": {
          "Fn::GetAtt": [
            "CostGuardianAPICloudWatchRole903ADC0D",
            "Arn",
          ],
        },
      },
      "Type": "AWS::ApiGateway::Account",
      "UpdateReplacePolicy": "Retain",
    },
    "CostGuardianAPICloudWatchRole903ADC0D": {
      "DeletionPolicy": "Retain",
      "Properties": {
        "AssumeRolePolicyDocument": {
          "Statement": [
            {
              "Action": "sts:AssumeRole",
              "Effect": "Allow",
              "Principal": {
                "Service": "apigateway.amazonaws.com",
              },
            },
          ],
          "Version": "2012-10-17",
        },
        "ManagedPolicyArns": [
          {
            "Fn::Join": [
              "",
              [
                "arn:",
                {
                  "Ref": "AWS::Partition",
                },
                ":iam::aws:policy/service-role/AmazonAPIGatewayPushToCloudWatchLogs",
              ],
            ],
          },
        ],
      },
      "Type": "AWS::IAM::Role",
      "UpdateReplacePolicy": "Retain",
    },
    "CostGuardianAPID69A7606": {
      "Properties": {
        "Name": "Cost Guardian API",
      },
      "Type": "AWS::ApiGateway::RestApi",
    },
    "CostGuardianAPIDeployment48440B889fa8713e5a4abcf62b80e7df8354a686": {
      "DependsOn": [
        "CostGuardianAPIapiaccepttermsOPTIONS45388E88",
        "CostGuardianAPIapiaccepttermsPOSTD1D1BAEE",
        "CostGuardianAPIapiacceptterms4B3A5399",
        "CostGuardianAPIapiadminclaimscustomerIdclaimIdcreateinvoiceOPTIONS90E209F7",
        "CostGuardianAPIapiadminclaimscustomerIdclaimIdcreateinvoicePOST6EAF8DA2",
        "CostGuardianAPIapiadminclaimscustomerIdclaimIdcreateinvoice5677CF9A",
        "CostGuardianAPIapiadminclaimscustomerIdclaimIdOPTIONS50B3A53C",
        "CostGuardianAPIapiadminclaimscustomerIdclaimId87958679",
        "CostGuardianAPIapiadminclaimscustomerIdclaimIdstatusOPTIONSA7C612BC",
        "CostGuardianAPIapiadminclaimscustomerIdclaimIdstatusPUT1BBE828B",
        "CostGuardianAPIapiadminclaimscustomerIdclaimIdstatus41C259ED",
        "CostGuardianAPIapiadminclaimscustomerIdOPTIONS9E8702EA",
        "CostGuardianAPIapiadminclaimscustomerIdF6C1F382",
        "CostGuardianAPIapiadminclaimsGETBE1B9F61",
        "CostGuardianAPIapiadminclaimsOPTIONS0CC387E3",
        "CostGuardianAPIapiadminclaims4A786205",
        "CostGuardianAPIapiadminOPTIONS4B468F55",
        "CostGuardianAPIapiadminD109432D",
        "CostGuardianAPIapialertsGET0FCFE1F8",
        "CostGuardianAPIapialertsOPTIONS5AD2FB0F",
        "CostGuardianAPIapialerts0A84B897",
        "CostGuardianAPIapibillingOPTIONSEA7DE10E",
        "CostGuardianAPIapibillingB169DD97",
        "CostGuardianAPIapibillingsummaryGETD76E3421",
        "CostGuardianAPIapibillingsummaryOPTIONSF6BD3F8C",
        "CostGuardianAPIapibillingsummary88D20634",
        "CostGuardianAPIapiconnectionsawsAccountIdDELETECFFEB3C9",
        "CostGuardianAPIapiconnectionsawsAccountIdOPTIONSF44030DC",
        "CostGuardianAPIapiconnectionsawsAccountId65FE6DE5",
        "CostGuardianAPIapiconnectionsGET6502CC14",
        "CostGuardianAPIapiconnectionsOPTIONS181E365A",
        "CostGuardianAPIapiconnectionsDBFBAF7C",
        "CostGuardianAPIapidashboardcostsGET7289A53C",
        "CostGuardianAPIapidashboardcostsOPTIONS9AF94A33",
        "CostGuardianAPIapidashboardcosts2A3A7F7B",
        "CostGuardianAPIapidashboardOPTIONS1121BB40",
        "CostGuardianAPIapidashboardE28A9DDF",
        "CostGuardianAPIapihealthGETF355F2CE",
        "CostGuardianAPIapihealthOPTIONS69537CF8",
        "CostGuardianAPIapihealthA1116529",
        "CostGuardianAPIapiincidentsGET5B972662",
        "CostGuardianAPIapiincidentsOPTIONS05C829BC",
        "CostGuardianAPIapiincidentsCE40791B",
        "CostGuardianAPIapiinvoicesGETB1B09053",
        "CostGuardianAPIapiinvoicesOPTIONS02EF9251",
        "CostGuardianAPIapiinvoicesED00D003",
        "CostGuardianAPIapionboardinitGET3FA3C79E",
        "CostGuardianAPIapionboardinitOPTIONS37CF44A7",
        "CostGuardianAPIapionboardinitA579DF91",
        "CostGuardianAPIapionboardOPTIONSF931A347",
        "CostGuardianAPIapionboardPOST34D0592C",
        "CostGuardianAPIapionboard95340DCC",
        "CostGuardianAPIapiOPTIONS55E74C09",
        "CostGuardianAPIapirecommendationsexecuteOPTIONSFF3B4703",
        "CostGuardianAPIapirecommendationsexecutePOST0CD90BBF",
        "CostGuardianAPIapirecommendationsexecuteEBCB6C8B",
        "CostGuardianAPIapirecommendationsGETE966C99B",
        "CostGuardianAPIapirecommendationsOPTIONSF05A6C14",
        "CostGuardianAPIapirecommendations3A5D580C",
        "CostGuardianAPIapi2A7FECEB",
        "CostGuardianAPIapisettingsautomationGETA8235FA2",
        "CostGuardianAPIapisettingsautomationOPTIONS73998BBF",
        "CostGuardianAPIapisettingsautomationPOST3C334858",
        "CostGuardianAPIapisettingsautomation35B5C7F3",
        "CostGuardianAPIapisettingsOPTIONS07E5CF5E",
        "CostGuardianAPIapisettings9F211713",
        "CostGuardianAPIapislaclaimsGET866BA3BB",
        "CostGuardianAPIapislaclaimsOPTIONS813BF07E",
        "CostGuardianAPIapislaclaims8BA01858",
        "CostGuardianAPIapislareportsclaimIdGET017FA1FD",
        "CostGuardianAPIapislareportsclaimIdOPTIONS0DA99BCE",
        "CostGuardianAPIapislareportsclaimId495DD90F",
        "CostGuardianAPIapislareportsOPTIONS1A7A34D8",
        "CostGuardianAPIapislareports096EC275",
        "CostGuardianAPIapistripeOPTIONSBF604CA1",
        "CostGuardianAPIapistripeD59C59BC",
        "CostGuardianAPIapistripewebhookOPTIONS2AA35D74",
        "CostGuardianAPIapistripewebhookPOST1744F96C",
        "CostGuardianAPIapistripewebhook31251436",
        "CostGuardianAPIapiupgradeOPTIONS52102A0D",
        "CostGuardianAPIapiupgradePOST26DBB04B",
        "CostGuardianAPIapiupgrade1D7FAC45",
        "CostGuardianAPIOPTIONS325659A2",
      ],
      "Properties": {
        "Description": "Automatically created by the RestApi construct",
        "RestApiId": {
          "Ref": "CostGuardianAPID69A7606",
        },
      },
      "Type": "AWS::ApiGateway::Deployment",
    },
    "CostGuardianAPIDeploymentStageprod2322FA4F": {
      "DependsOn": [
        "CostGuardianAPIAccount30F91D25",
      ],
      "Properties": {
        "DeploymentId": {
          "Ref": "CostGuardianAPIDeployment48440B889fa8713e5a4abcf62b80e7df8354a686",
        },
        "RestApiId": {
          "Ref": "CostGuardianAPID69A7606",
        },
        "StageName": "prod",
      },
      "Type": "AWS::ApiGateway::Stage",
    },
    "CostGuardianAPIOPTIONS325659A2": {
      "Properties": {
        "ApiKeyRequired": false,
        "AuthorizationType": "NONE",
        "HttpMethod": "OPTIONS",
        "Integration": {
          "IntegrationResponses": [
            {
              "ResponseParameters": {
                "method.response.header.Access-Control-Allow-Headers": "'Content-Type,X-Amz-Date,Authorization,X-Api-Key,X-Amz-Security-Token,X-Amz-User-Agent'",
                "method.response.header.Access-Control-Allow-Methods": "'OPTIONS,GET,PUT,POST,DELETE,PATCH,HEAD'",
                "method.response.header.Access-Control-Allow-Origin": "'*'",
              },
              "StatusCode": "204",
            },
          ],
          "RequestTemplates": {
            "application/json": "{ statusCode: 200 }",
          },
          "Type": "MOCK",
        },
        "MethodResponses": [
          {
            "ResponseParameters": {
              "method.response.header.Access-Control-Allow-Headers": true,
              "method.response.header.Access-Control-Allow-Methods": true,
              "method.response.header.Access-Control-Allow-Origin": true,
            },
            "StatusCode": "204",
          },
        ],
        "ResourceId": {
          "Fn::GetAtt": [
            "CostGuardianAPID69A7606",
            "RootResourceId",
          ],
        },
        "RestApiId": {
          "Ref": "CostGuardianAPID69A7606",
        },
      },
      "Type": "AWS::ApiGateway::Method",
    },
    "CostGuardianAPIapi2A7FECEB": {
      "Properties": {
        "ParentId": {
          "Fn::GetAtt": [
            "CostGuardianAPID69A7606",
            "RootResourceId",
          ],
        },
        "PathPart": "api",
        "RestApiId": {
          "Ref": "CostGuardianAPID69A7606",
        },
      },
      "Type": "AWS::ApiGateway::Resource",
    },
    "CostGuardianAPIapiOPTIONS55E74C09": {
      "Properties": {
        "ApiKeyRequired": false,
        "AuthorizationType": "NONE",
        "HttpMethod": "OPTIONS",
        "Integration": {
          "IntegrationResponses": [
            {
              "ResponseParameters": {
                "method.response.header.Access-Control-Allow-Headers": "'Content-Type,X-Amz-Date,Authorization,X-Api-Key,X-Amz-Security-Token,X-Amz-User-Agent'",
                "method.response.header.Access-Control-Allow-Methods": "'OPTIONS,GET,PUT,POST,DELETE,PATCH,HEAD'",
                "method.response.header.Access-Control-Allow-Origin": "'*'",
              },
              "StatusCode": "204",
            },
          ],
          "RequestTemplates": {
            "application/json": "{ statusCode: 200 }",
          },
          "Type": "MOCK",
        },
        "MethodResponses": [
          {
            "ResponseParameters": {
              "method.response.header.Access-Control-Allow-Headers": true,
              "method.response.header.Access-Control-Allow-Methods": true,
              "method.response.header.Access-Control-Allow-Origin": true,
            },
            "StatusCode": "204",
          },
        ],
        "ResourceId": {
          "Ref": "CostGuardianAPIapi2A7FECEB",
        },
        "RestApiId": {
          "Ref": "CostGuardianAPID69A7606",
        },
      },
      "Type": "AWS::ApiGateway::Method",
    },
    "CostGuardianAPIapiacceptterms4B3A5399": {
      "Properties": {
        "ParentId": {
          "Ref": "CostGuardianAPIapi2A7FECEB",
        },
        "PathPart": "accept-terms",
        "RestApiId": {
          "Ref": "CostGuardianAPID69A7606",
        },
      },
      "Type": "AWS::ApiGateway::Resource",
    },
    "CostGuardianAPIapiaccepttermsOPTIONS45388E88": {
      "Properties": {
        "ApiKeyRequired": false,
        "AuthorizationType": "NONE",
        "HttpMethod": "OPTIONS",
        "Integration": {
          "IntegrationResponses": [
            {
              "ResponseParameters": {
                "method.response.header.Access-Control-Allow-Headers": "'Content-Type,X-Amz-Date,Authorization,X-Api-Key,X-Amz-Security-Token,X-Amz-User-Agent'",
                "method.response.header.Access-Control-Allow-Methods": "'OPTIONS,GET,PUT,POST,DELETE,PATCH,HEAD'",
                "method.response.header.Access-Control-Allow-Origin": "'*'",
              },
              "StatusCode": "204",
            },
          ],
          "RequestTemplates": {
            "application/json": "{ statusCode: 200 }",
          },
          "Type": "MOCK",
        },
        "MethodResponses": [
          {
            "ResponseParameters": {
              "method.response.header.Access-Control-Allow-Headers": true,
              "method.response.header.Access-Control-Allow-Methods": true,
              "method.response.header.Access-Control-Allow-Origin": true,
            },
            "StatusCode": "204",
          },
        ],
        "ResourceId": {
          "Ref": "CostGuardianAPIapiacceptterms4B3A5399",
        },
        "RestApiId": {
          "Ref": "CostGuardianAPID69A7606",
        },
      },
      "Type": "AWS::ApiGateway::Method",
    },
    "CostGuardianAPIapiaccepttermsPOSTApiPermissionMyTestStackCostGuardianAPIAE2E7CE0POSTapiaccepttermsD7DC6982": {
      "Properties": {
        "Action": "lambda:InvokeFunction",
        "FunctionName": {
          "Fn::GetAtt": [
            "ApiHandler5E7490E8",
            "Arn",
          ],
        },
        "Principal": "apigateway.amazonaws.com",
        "SourceArn": {
          "Fn::Join": [
            "",
            [
              "arn:",
              {
                "Ref": "AWS::Partition",
              },
              ":execute-api:",
              {
                "Ref": "AWS::Region",
              },
              ":",
              {
                "Ref": "AWS::AccountId",
              },
              ":",
              {
                "Ref": "CostGuardianAPID69A7606",
              },
              "/",
              {
                "Ref": "CostGuardianAPIDeploymentStageprod2322FA4F",
              },
              "/POST/api/accept-terms",
            ],
          ],
        },
      },
      "Type": "AWS::Lambda::Permission",
    },
    "CostGuardianAPIapiaccepttermsPOSTApiPermissionTestMyTestStackCostGuardianAPIAE2E7CE0POSTapiacceptterms1C9977BE": {
      "Properties": {
        "Action": "lambda:InvokeFunction",
        "FunctionName": {
          "Fn::GetAtt": [
            "ApiHandler5E7490E8",
            "Arn",
          ],
        },
        "Principal": "apigateway.amazonaws.com",
        "SourceArn": {
          "Fn::Join": [
            "",
            [
              "arn:",
              {
                "Ref": "AWS::Partition",
              },
              ":execute-api:",
              {
                "Ref": "AWS::Region",
              },
              ":",
              {
                "Ref": "AWS::AccountId",
              },
              ":",
              {
                "Ref": "CostGuardianAPID69A7606",
              },
              "/test-invoke-stage/POST/api/accept-terms",
            ],
          ],
        },
      },
      "Type": "AWS::Lambda::Permission",
    },
    "CostGuardianAPIapiaccepttermsPOSTD1D1BAEE": {
      "Properties": {
        "AuthorizationType": "COGNITO_USER_POOLS",
        "AuthorizerId": {
          "Ref": "CognitoAuth8E818E2A",
        },
        "HttpMethod": "POST",
        "Integration": {
          "IntegrationHttpMethod": "POST",
          "Type": "AWS_PROXY",
          "Uri": {
            "Fn::Join": [
              "",
              [
                "arn:",
                {
                  "Ref": "AWS::Partition",
                },
                ":apigateway:",
                {
                  "Ref": "AWS::Region",
                },
                ":lambda:path/2015-03-31/functions/",
                {
                  "Fn::GetAtt": [
                    "ApiHandler5E7490E8",
                    "Arn",
                  ],
                },
                "/invocations",
              ],
            ],
          },
        },
        "ResourceId": {
          "Ref": "CostGuardianAPIapiacceptterms4B3A5399",
        },
        "RestApiId": {
          "Ref": "CostGuardianAPID69A7606",
        },
      },
      "Type": "AWS::ApiGateway::Method",
    },
    "CostGuardianAPIapiadminD109432D": {
      "Properties": {
        "ParentId": {
          "Ref": "CostGuardianAPIapi2A7FECEB",
        },
        "PathPart": "admin",
        "RestApiId": {
          "Ref": "CostGuardianAPID69A7606",
        },
      },
      "Type": "AWS::ApiGateway::Resource",
    },
    "CostGuardianAPIapiadminOPTIONS4B468F55": {
      "Properties": {
        "ApiKeyRequired": false,
        "AuthorizationType": "NONE",
        "HttpMethod": "OPTIONS",
        "Integration": {
          "IntegrationResponses": [
            {
              "ResponseParameters": {
                "method.response.header.Access-Control-Allow-Headers": "'Content-Type,X-Amz-Date,Authorization,X-Api-Key,X-Amz-Security-Token,X-Amz-User-Agent'",
                "method.response.header.Access-Control-Allow-Methods": "'OPTIONS,GET,PUT,POST,DELETE,PATCH,HEAD'",
                "method.response.header.Access-Control-Allow-Origin": "'*'",
              },
              "StatusCode": "204",
            },
          ],
          "RequestTemplates": {
            "application/json": "{ statusCode: 200 }",
          },
          "Type": "MOCK",
        },
        "MethodResponses": [
          {
            "ResponseParameters": {
              "method.response.header.Access-Control-Allow-Headers": true,
              "method.response.header.Access-Control-Allow-Methods": true,
              "method.response.header.Access-Control-Allow-Origin": true,
            },
            "StatusCode": "204",
          },
        ],
        "ResourceId": {
          "Ref": "CostGuardianAPIapiadminD109432D",
        },
        "RestApiId": {
          "Ref": "CostGuardianAPID69A7606",
        },
      },
      "Type": "AWS::ApiGateway::Method",
    },
    "CostGuardianAPIapiadminclaims4A786205": {
      "Properties": {
        "ParentId": {
          "Ref": "CostGuardianAPIapiadminD109432D",
        },
        "PathPart": "claims",
        "RestApiId": {
          "Ref": "CostGuardianAPID69A7606",
        },
      },
      "Type": "AWS::ApiGateway::Resource",
    },
    "CostGuardianAPIapiadminclaimsGETApiPermissionMyTestStackCostGuardianAPIAE2E7CE0GETapiadminclaims22ED3AC3": {
      "Properties": {
        "Action": "lambda:InvokeFunction",
        "FunctionName": {
          "Fn::GetAtt": [
            "ApiHandler5E7490E8",
            "Arn",
          ],
        },
        "Principal": "apigateway.amazonaws.com",
        "SourceArn": {
          "Fn::Join": [
            "",
            [
              "arn:",
              {
                "Ref": "AWS::Partition",
              },
              ":execute-api:",
              {
                "Ref": "AWS::Region",
              },
              ":",
              {
                "Ref": "AWS::AccountId",
              },
              ":",
              {
                "Ref": "CostGuardianAPID69A7606",
              },
              "/",
              {
                "Ref": "CostGuardianAPIDeploymentStageprod2322FA4F",
              },
              "/GET/api/admin/claims",
            ],
          ],
        },
      },
      "Type": "AWS::Lambda::Permission",
    },
    "CostGuardianAPIapiadminclaimsGETApiPermissionTestMyTestStackCostGuardianAPIAE2E7CE0GETapiadminclaimsE2D72E7D": {
      "Properties": {
        "Action": "lambda:InvokeFunction",
        "FunctionName": {
          "Fn::GetAtt": [
            "ApiHandler5E7490E8",
            "Arn",
          ],
        },
        "Principal": "apigateway.amazonaws.com",
        "SourceArn": {
          "Fn::Join": [
            "",
            [
              "arn:",
              {
                "Ref": "AWS::Partition",
              },
              ":execute-api:",
              {
                "Ref": "AWS::Region",
              },
              ":",
              {
                "Ref": "AWS::AccountId",
              },
              ":",
              {
                "Ref": "CostGuardianAPID69A7606",
              },
              "/test-invoke-stage/GET/api/admin/claims",
            ],
          ],
        },
      },
      "Type": "AWS::Lambda::Permission",
    },
    "CostGuardianAPIapiadminclaimsGETBE1B9F61": {
      "Properties": {
        "AuthorizationType": "COGNITO_USER_POOLS",
        "AuthorizerId": {
          "Ref": "CognitoAuth8E818E2A",
        },
        "HttpMethod": "GET",
        "Integration": {
          "IntegrationHttpMethod": "POST",
          "Type": "AWS_PROXY",
          "Uri": {
            "Fn::Join": [
              "",
              [
                "arn:",
                {
                  "Ref": "AWS::Partition",
                },
                ":apigateway:",
                {
                  "Ref": "AWS::Region",
                },
                ":lambda:path/2015-03-31/functions/",
                {
                  "Fn::GetAtt": [
                    "ApiHandler5E7490E8",
                    "Arn",
                  ],
                },
                "/invocations",
              ],
            ],
          },
        },
        "ResourceId": {
          "Ref": "CostGuardianAPIapiadminclaims4A786205",
        },
        "RestApiId": {
          "Ref": "CostGuardianAPID69A7606",
        },
      },
      "Type": "AWS::ApiGateway::Method",
    },
    "CostGuardianAPIapiadminclaimsOPTIONS0CC387E3": {
      "Properties": {
        "ApiKeyRequired": false,
        "AuthorizationType": "NONE",
        "HttpMethod": "OPTIONS",
        "Integration": {
          "IntegrationResponses": [
            {
              "ResponseParameters": {
                "method.response.header.Access-Control-Allow-Headers": "'Content-Type,X-Amz-Date,Authorization,X-Api-Key,X-Amz-Security-Token,X-Amz-User-Agent'",
                "method.response.header.Access-Control-Allow-Methods": "'OPTIONS,GET,PUT,POST,DELETE,PATCH,HEAD'",
                "method.response.header.Access-Control-Allow-Origin": "'*'",
              },
              "StatusCode": "204",
            },
          ],
          "RequestTemplates": {
            "application/json": "{ statusCode: 200 }",
          },
          "Type": "MOCK",
        },
        "MethodResponses": [
          {
            "ResponseParameters": {
              "method.response.header.Access-Control-Allow-Headers": true,
              "method.response.header.Access-Control-Allow-Methods": true,
              "method.response.header.Access-Control-Allow-Origin": true,
            },
            "StatusCode": "204",
          },
        ],
        "ResourceId": {
          "Ref": "CostGuardianAPIapiadminclaims4A786205",
        },
        "RestApiId": {
          "Ref": "CostGuardianAPID69A7606",
        },
      },
      "Type": "AWS::ApiGateway::Method",
    },
    "CostGuardianAPIapiadminclaimscustomerIdF6C1F382": {
      "Properties": {
        "ParentId": {
          "Ref": "CostGuardianAPIapiadminclaims4A786205",
        },
        "PathPart": "{customerId}",
        "RestApiId": {
          "Ref": "CostGuardianAPID69A7606",
        },
      },
      "Type": "AWS::ApiGateway::Resource",
    },
    "CostGuardianAPIapiadminclaimscustomerIdOPTIONS9E8702EA": {
      "Properties": {
        "ApiKeyRequired": false,
        "AuthorizationType": "NONE",
        "HttpMethod": "OPTIONS",
        "Integration": {
          "IntegrationResponses": [
            {
              "ResponseParameters": {
                "method.response.header.Access-Control-Allow-Headers": "'Content-Type,X-Amz-Date,Authorization,X-Api-Key,X-Amz-Security-Token,X-Amz-User-Agent'",
                "method.response.header.Access-Control-Allow-Methods": "'OPTIONS,GET,PUT,POST,DELETE,PATCH,HEAD'",
                "method.response.header.Access-Control-Allow-Origin": "'*'",
              },
              "StatusCode": "204",
            },
          ],
          "RequestTemplates": {
            "application/json": "{ statusCode: 200 }",
          },
          "Type": "MOCK",
        },
        "MethodResponses": [
          {
            "ResponseParameters": {
              "method.response.header.Access-Control-Allow-Headers": true,
              "method.response.header.Access-Control-Allow-Methods": true,
              "method.response.header.Access-Control-Allow-Origin": true,
            },
            "StatusCode": "204",
          },
        ],
        "ResourceId": {
          "Ref": "CostGuardianAPIapiadminclaimscustomerIdF6C1F382",
        },
        "RestApiId": {
          "Ref": "CostGuardianAPID69A7606",
        },
      },
      "Type": "AWS::ApiGateway::Method",
    },
    "CostGuardianAPIapiadminclaimscustomerIdclaimId87958679": {
      "Properties": {
        "ParentId": {
          "Ref": "CostGuardianAPIapiadminclaimscustomerIdF6C1F382",
        },
        "PathPart": "{claimId}",
        "RestApiId": {
          "Ref": "CostGuardianAPID69A7606",
        },
      },
      "Type": "AWS::ApiGateway::Resource",
    },
    "CostGuardianAPIapiadminclaimscustomerIdclaimIdOPTIONS50B3A53C": {
      "Properties": {
        "ApiKeyRequired": false,
        "AuthorizationType": "NONE",
        "HttpMethod": "OPTIONS",
        "Integration": {
          "IntegrationResponses": [
            {
              "ResponseParameters": {
                "method.response.header.Access-Control-Allow-Headers": "'Content-Type,X-Amz-Date,Authorization,X-Api-Key,X-Amz-Security-Token,X-Amz-User-Agent'",
                "method.response.header.Access-Control-Allow-Methods": "'OPTIONS,GET,PUT,POST,DELETE,PATCH,HEAD'",
                "method.response.header.Access-Control-Allow-Origin": "'*'",
              },
              "StatusCode": "204",
            },
          ],
          "RequestTemplates": {
            "application/json": "{ statusCode: 200 }",
          },
          "Type": "MOCK",
        },
        "MethodResponses": [
          {
            "ResponseParameters": {
              "method.response.header.Access-Control-Allow-Headers": true,
              "method.response.header.Access-Control-Allow-Methods": true,
              "method.response.header.Access-Control-Allow-Origin": true,
            },
            "StatusCode": "204",
          },
        ],
        "ResourceId": {
          "Ref": "CostGuardianAPIapiadminclaimscustomerIdclaimId87958679",
        },
        "RestApiId": {
          "Ref": "CostGuardianAPID69A7606",
        },
      },
      "Type": "AWS::ApiGateway::Method",
    },
    "CostGuardianAPIapiadminclaimscustomerIdclaimIdcreateinvoice5677CF9A": {
      "Properties": {
        "ParentId": {
          "Ref": "CostGuardianAPIapiadminclaimscustomerIdclaimId87958679",
        },
        "PathPart": "create-invoice",
        "RestApiId": {
          "Ref": "CostGuardianAPID69A7606",
        },
      },
      "Type": "AWS::ApiGateway::Resource",
    },
    "CostGuardianAPIapiadminclaimscustomerIdclaimIdcreateinvoiceOPTIONS90E209F7": {
      "Properties": {
        "ApiKeyRequired": false,
        "AuthorizationType": "NONE",
        "HttpMethod": "OPTIONS",
        "Integration": {
          "IntegrationResponses": [
            {
              "ResponseParameters": {
                "method.response.header.Access-Control-Allow-Headers": "'Content-Type,X-Amz-Date,Authorization,X-Api-Key,X-Amz-Security-Token,X-Amz-User-Agent'",
                "method.response.header.Access-Control-Allow-Methods": "'OPTIONS,GET,PUT,POST,DELETE,PATCH,HEAD'",
                "method.response.header.Access-Control-Allow-Origin": "'*'",
              },
              "StatusCode": "204",
            },
          ],
          "RequestTemplates": {
            "application/json": "{ statusCode: 200 }",
          },
          "Type": "MOCK",
        },
        "MethodResponses": [
          {
            "ResponseParameters": {
              "method.response.header.Access-Control-Allow-Headers": true,
              "method.response.header.Access-Control-Allow-Methods": true,
              "method.response.header.Access-Control-Allow-Origin": true,
            },
            "StatusCode": "204",
          },
        ],
        "ResourceId": {
          "Ref": "CostGuardianAPIapiadminclaimscustomerIdclaimIdcreateinvoice5677CF9A",
        },
        "RestApiId": {
          "Ref": "CostGuardianAPID69A7606",
        },
      },
      "Type": "AWS::ApiGateway::Method",
    },
    "CostGuardianAPIapiadminclaimscustomerIdclaimIdcreateinvoicePOST6EAF8DA2": {
      "Properties": {
        "AuthorizationType": "COGNITO_USER_POOLS",
        "AuthorizerId": {
          "Ref": "CognitoAuth8E818E2A",
        },
        "HttpMethod": "POST",
        "Integration": {
          "IntegrationHttpMethod": "POST",
          "Type": "AWS_PROXY",
          "Uri": {
            "Fn::Join": [
              "",
              [
                "arn:",
                {
                  "Ref": "AWS::Partition",
                },
                ":apigateway:",
                {
                  "Ref": "AWS::Region",
                },
                ":lambda:path/2015-03-31/functions/",
                {
                  "Fn::GetAtt": [
                    "ApiHandler5E7490E8",
                    "Arn",
                  ],
                },
                "/invocations",
              ],
            ],
          },
        },
        "ResourceId": {
          "Ref": "CostGuardianAPIapiadminclaimscustomerIdclaimIdcreateinvoice5677CF9A",
        },
        "RestApiId": {
          "Ref": "CostGuardianAPID69A7606",
        },
      },
      "Type": "AWS::ApiGateway::Method",
    },
    "CostGuardianAPIapiadminclaimscustomerIdclaimIdcreateinvoicePOSTApiPermissionMyTestStackCostGuardianAPIAE2E7CE0POSTapiadminclaimscustomerIdclaimIdcreateinvoice0C55CD05": {
      "Properties": {
        "Action": "lambda:InvokeFunction",
        "FunctionName": {
          "Fn::GetAtt": [
            "ApiHandler5E7490E8",
            "Arn",
          ],
        },
        "Principal": "apigateway.amazonaws.com",
        "SourceArn": {
          "Fn::Join": [
            "",
            [
              "arn:",
              {
                "Ref": "AWS::Partition",
              },
              ":execute-api:",
              {
                "Ref": "AWS::Region",
              },
              ":",
              {
                "Ref": "AWS::AccountId",
              },
              ":",
              {
                "Ref": "CostGuardianAPID69A7606",
              },
              "/",
              {
                "Ref": "CostGuardianAPIDeploymentStageprod2322FA4F",
              },
              "/POST/api/admin/claims/*/*/create-invoice",
            ],
          ],
        },
      },
      "Type": "AWS::Lambda::Permission",
    },
    "CostGuardianAPIapiadminclaimscustomerIdclaimIdcreateinvoicePOSTApiPermissionTestMyTestStackCostGuardianAPIAE2E7CE0POSTapiadminclaimscustomerIdclaimIdcreateinvoiceA24624C6": {
      "Properties": {
        "Action": "lambda:InvokeFunction",
        "FunctionName": {
          "Fn::GetAtt": [
            "ApiHandler5E7490E8",
            "Arn",
          ],
        },
        "Principal": "apigateway.amazonaws.com",
        "SourceArn": {
          "Fn::Join": [
            "",
            [
              "arn:",
              {
                "Ref": "AWS::Partition",
              },
              ":execute-api:",
              {
                "Ref": "AWS::Region",
              },
              ":",
              {
                "Ref": "AWS::AccountId",
              },
              ":",
              {
                "Ref": "CostGuardianAPID69A7606",
              },
              "/test-invoke-stage/POST/api/admin/claims/*/*/create-invoice",
            ],
          ],
        },
      },
      "Type": "AWS::Lambda::Permission",
    },
    "CostGuardianAPIapiadminclaimscustomerIdclaimIdstatus41C259ED": {
      "Properties": {
        "ParentId": {
          "Ref": "CostGuardianAPIapiadminclaimscustomerIdclaimId87958679",
        },
        "PathPart": "status",
        "RestApiId": {
          "Ref": "CostGuardianAPID69A7606",
        },
      },
      "Type": "AWS::ApiGateway::Resource",
    },
    "CostGuardianAPIapiadminclaimscustomerIdclaimIdstatusOPTIONSA7C612BC": {
      "Properties": {
        "ApiKeyRequired": false,
        "AuthorizationType": "NONE",
        "HttpMethod": "OPTIONS",
        "Integration": {
          "IntegrationResponses": [
            {
              "ResponseParameters": {
                "method.response.header.Access-Control-Allow-Headers": "'Content-Type,X-Amz-Date,Authorization,X-Api-Key,X-Amz-Security-Token,X-Amz-User-Agent'",
                "method.response.header.Access-Control-Allow-Methods": "'OPTIONS,GET,PUT,POST,DELETE,PATCH,HEAD'",
                "method.response.header.Access-Control-Allow-Origin": "'*'",
              },
              "StatusCode": "204",
            },
          ],
          "RequestTemplates": {
            "application/json": "{ statusCode: 200 }",
          },
          "Type": "MOCK",
        },
        "MethodResponses": [
          {
            "ResponseParameters": {
              "method.response.header.Access-Control-Allow-Headers": true,
              "method.response.header.Access-Control-Allow-Methods": true,
              "method.response.header.Access-Control-Allow-Origin": true,
            },
            "StatusCode": "204",
          },
        ],
        "ResourceId": {
          "Ref": "CostGuardianAPIapiadminclaimscustomerIdclaimIdstatus41C259ED",
        },
        "RestApiId": {
          "Ref": "CostGuardianAPID69A7606",
        },
      },
      "Type": "AWS::ApiGateway::Method",
    },
    "CostGuardianAPIapiadminclaimscustomerIdclaimIdstatusPUT1BBE828B": {
      "Properties": {
        "AuthorizationType": "COGNITO_USER_POOLS",
        "AuthorizerId": {
          "Ref": "CognitoAuth8E818E2A",
        },
        "HttpMethod": "PUT",
        "Integration": {
          "IntegrationHttpMethod": "POST",
          "Type": "AWS_PROXY",
          "Uri": {
            "Fn::Join": [
              "",
              [
                "arn:",
                {
                  "Ref": "AWS::Partition",
                },
                ":apigateway:",
                {
                  "Ref": "AWS::Region",
                },
                ":lambda:path/2015-03-31/functions/",
                {
                  "Fn::GetAtt": [
                    "ApiHandler5E7490E8",
                    "Arn",
                  ],
                },
                "/invocations",
              ],
            ],
          },
        },
        "ResourceId": {
          "Ref": "CostGuardianAPIapiadminclaimscustomerIdclaimIdstatus41C259ED",
        },
        "RestApiId": {
          "Ref": "CostGuardianAPID69A7606",
        },
      },
      "Type": "AWS::ApiGateway::Method",
    },
    "CostGuardianAPIapiadminclaimscustomerIdclaimIdstatusPUTApiPermissionMyTestStackCostGuardianAPIAE2E7CE0PUTapiadminclaimscustomerIdclaimIdstatus34C03C83": {
      "Properties": {
        "Action": "lambda:InvokeFunction",
        "FunctionName": {
          "Fn::GetAtt": [
            "ApiHandler5E7490E8",
            "Arn",
          ],
        },
        "Principal": "apigateway.amazonaws.com",
        "SourceArn": {
          "Fn::Join": [
            "",
            [
              "arn:",
              {
                "Ref": "AWS::Partition",
              },
              ":execute-api:",
              {
                "Ref": "AWS::Region",
              },
              ":",
              {
                "Ref": "AWS::AccountId",
              },
              ":",
              {
                "Ref": "CostGuardianAPID69A7606",
              },
              "/",
              {
                "Ref": "CostGuardianAPIDeploymentStageprod2322FA4F",
              },
              "/PUT/api/admin/claims/*/*/status",
            ],
          ],
        },
      },
      "Type": "AWS::Lambda::Permission",
    },
    "CostGuardianAPIapiadminclaimscustomerIdclaimIdstatusPUTApiPermissionTestMyTestStackCostGuardianAPIAE2E7CE0PUTapiadminclaimscustomerIdclaimIdstatusDDF8E225": {
      "Properties": {
        "Action": "lambda:InvokeFunction",
        "FunctionName": {
          "Fn::GetAtt": [
            "ApiHandler5E7490E8",
            "Arn",
          ],
        },
        "Principal": "apigateway.amazonaws.com",
        "SourceArn": {
          "Fn::Join": [
            "",
            [
              "arn:",
              {
                "Ref": "AWS::Partition",
              },
              ":execute-api:",
              {
                "Ref": "AWS::Region",
              },
              ":",
              {
                "Ref": "AWS::AccountId",
              },
              ":",
              {
                "Ref": "CostGuardianAPID69A7606",
              },
              "/test-invoke-stage/PUT/api/admin/claims/*/*/status",
            ],
          ],
        },
      },
      "Type": "AWS::Lambda::Permission",
    },
    "CostGuardianAPIapialerts0A84B897": {
      "Properties": {
        "ParentId": {
          "Ref": "CostGuardianAPIapi2A7FECEB",
        },
        "PathPart": "alerts",
        "RestApiId": {
          "Ref": "CostGuardianAPID69A7606",
        },
      },
      "Type": "AWS::ApiGateway::Resource",
    },
    "CostGuardianAPIapialertsGET0FCFE1F8": {
      "Properties": {
        "AuthorizationType": "COGNITO_USER_POOLS",
        "AuthorizerId": {
          "Ref": "CognitoAuth8E818E2A",
        },
        "HttpMethod": "GET",
        "Integration": {
          "IntegrationHttpMethod": "POST",
          "Type": "AWS_PROXY",
          "Uri": {
            "Fn::Join": [
              "",
              [
                "arn:",
                {
                  "Ref": "AWS::Partition",
                },
                ":apigateway:",
                {
                  "Ref": "AWS::Region",
                },
                ":lambda:path/2015-03-31/functions/",
                {
                  "Fn::GetAtt": [
                    "ApiHandler5E7490E8",
                    "Arn",
                  ],
                },
                "/invocations",
              ],
            ],
          },
        },
        "ResourceId": {
          "Ref": "CostGuardianAPIapialerts0A84B897",
        },
        "RestApiId": {
          "Ref": "CostGuardianAPID69A7606",
        },
      },
      "Type": "AWS::ApiGateway::Method",
    },
    "CostGuardianAPIapialertsGETApiPermissionMyTestStackCostGuardianAPIAE2E7CE0GETapialerts9B47AF27": {
      "Properties": {
        "Action": "lambda:InvokeFunction",
        "FunctionName": {
          "Fn::GetAtt": [
            "ApiHandler5E7490E8",
            "Arn",
          ],
        },
        "Principal": "apigateway.amazonaws.com",
        "SourceArn": {
          "Fn::Join": [
            "",
            [
              "arn:",
              {
                "Ref": "AWS::Partition",
              },
              ":execute-api:",
              {
                "Ref": "AWS::Region",
              },
              ":",
              {
                "Ref": "AWS::AccountId",
              },
              ":",
              {
                "Ref": "CostGuardianAPID69A7606",
              },
              "/",
              {
                "Ref": "CostGuardianAPIDeploymentStageprod2322FA4F",
              },
              "/GET/api/alerts",
            ],
          ],
        },
      },
      "Type": "AWS::Lambda::Permission",
    },
    "CostGuardianAPIapialertsGETApiPermissionTestMyTestStackCostGuardianAPIAE2E7CE0GETapialerts648969DB": {
      "Properties": {
        "Action": "lambda:InvokeFunction",
        "FunctionName": {
          "Fn::GetAtt": [
            "ApiHandler5E7490E8",
            "Arn",
          ],
        },
        "Principal": "apigateway.amazonaws.com",
        "SourceArn": {
          "Fn::Join": [
            "",
            [
              "arn:",
              {
                "Ref": "AWS::Partition",
              },
              ":execute-api:",
              {
                "Ref": "AWS::Region",
              },
              ":",
              {
                "Ref": "AWS::AccountId",
              },
              ":",
              {
                "Ref": "CostGuardianAPID69A7606",
              },
              "/test-invoke-stage/GET/api/alerts",
            ],
          ],
        },
      },
      "Type": "AWS::Lambda::Permission",
    },
    "CostGuardianAPIapialertsOPTIONS5AD2FB0F": {
      "Properties": {
        "ApiKeyRequired": false,
        "AuthorizationType": "NONE",
        "HttpMethod": "OPTIONS",
        "Integration": {
          "IntegrationResponses": [
            {
              "ResponseParameters": {
                "method.response.header.Access-Control-Allow-Headers": "'Content-Type,X-Amz-Date,Authorization,X-Api-Key,X-Amz-Security-Token,X-Amz-User-Agent'",
                "method.response.header.Access-Control-Allow-Methods": "'OPTIONS,GET,PUT,POST,DELETE,PATCH,HEAD'",
                "method.response.header.Access-Control-Allow-Origin": "'*'",
              },
              "StatusCode": "204",
            },
          ],
          "RequestTemplates": {
            "application/json": "{ statusCode: 200 }",
          },
          "Type": "MOCK",
        },
        "MethodResponses": [
          {
            "ResponseParameters": {
              "method.response.header.Access-Control-Allow-Headers": true,
              "method.response.header.Access-Control-Allow-Methods": true,
              "method.response.header.Access-Control-Allow-Origin": true,
            },
            "StatusCode": "204",
          },
        ],
        "ResourceId": {
          "Ref": "CostGuardianAPIapialerts0A84B897",
        },
        "RestApiId": {
          "Ref": "CostGuardianAPID69A7606",
        },
      },
      "Type": "AWS::ApiGateway::Method",
    },
    "CostGuardianAPIapibillingB169DD97": {
      "Properties": {
        "ParentId": {
          "Ref": "CostGuardianAPIapi2A7FECEB",
        },
        "PathPart": "billing",
        "RestApiId": {
          "Ref": "CostGuardianAPID69A7606",
        },
      },
      "Type": "AWS::ApiGateway::Resource",
    },
    "CostGuardianAPIapibillingOPTIONSEA7DE10E": {
      "Properties": {
        "ApiKeyRequired": false,
        "AuthorizationType": "NONE",
        "HttpMethod": "OPTIONS",
        "Integration": {
          "IntegrationResponses": [
            {
              "ResponseParameters": {
                "method.response.header.Access-Control-Allow-Headers": "'Content-Type,X-Amz-Date,Authorization,X-Api-Key,X-Amz-Security-Token,X-Amz-User-Agent'",
                "method.response.header.Access-Control-Allow-Methods": "'OPTIONS,GET,PUT,POST,DELETE,PATCH,HEAD'",
                "method.response.header.Access-Control-Allow-Origin": "'*'",
              },
              "StatusCode": "204",
            },
          ],
          "RequestTemplates": {
            "application/json": "{ statusCode: 200 }",
          },
          "Type": "MOCK",
        },
        "MethodResponses": [
          {
            "ResponseParameters": {
              "method.response.header.Access-Control-Allow-Headers": true,
              "method.response.header.Access-Control-Allow-Methods": true,
              "method.response.header.Access-Control-Allow-Origin": true,
            },
            "StatusCode": "204",
          },
        ],
        "ResourceId": {
          "Ref": "CostGuardianAPIapibillingB169DD97",
        },
        "RestApiId": {
          "Ref": "CostGuardianAPID69A7606",
        },
      },
      "Type": "AWS::ApiGateway::Method",
    },
    "CostGuardianAPIapibillingsummary88D20634": {
      "Properties": {
        "ParentId": {
          "Ref": "CostGuardianAPIapibillingB169DD97",
        },
        "PathPart": "summary",
        "RestApiId": {
          "Ref": "CostGuardianAPID69A7606",
        },
      },
      "Type": "AWS::ApiGateway::Resource",
    },
    "CostGuardianAPIapibillingsummaryGETApiPermissionMyTestStackCostGuardianAPIAE2E7CE0GETapibillingsummary353CC0B2": {
      "Properties": {
        "Action": "lambda:InvokeFunction",
        "FunctionName": {
          "Fn::GetAtt": [
            "ApiHandler5E7490E8",
            "Arn",
          ],
        },
        "Principal": "apigateway.amazonaws.com",
        "SourceArn": {
          "Fn::Join": [
            "",
            [
              "arn:",
              {
                "Ref": "AWS::Partition",
              },
              ":execute-api:",
              {
                "Ref": "AWS::Region",
              },
              ":",
              {
                "Ref": "AWS::AccountId",
              },
              ":",
              {
                "Ref": "CostGuardianAPID69A7606",
              },
              "/",
              {
                "Ref": "CostGuardianAPIDeploymentStageprod2322FA4F",
              },
              "/GET/api/billing/summary",
            ],
          ],
        },
      },
      "Type": "AWS::Lambda::Permission",
    },
    "CostGuardianAPIapibillingsummaryGETApiPermissionTestMyTestStackCostGuardianAPIAE2E7CE0GETapibillingsummary34A3A150": {
      "Properties": {
        "Action": "lambda:InvokeFunction",
        "FunctionName": {
          "Fn::GetAtt": [
            "ApiHandler5E7490E8",
            "Arn",
          ],
        },
        "Principal": "apigateway.amazonaws.com",
        "SourceArn": {
          "Fn::Join": [
            "",
            [
              "arn:",
              {
                "Ref": "AWS::Partition",
              },
              ":execute-api:",
              {
                "Ref": "AWS::Region",
              },
              ":",
              {
                "Ref": "AWS::AccountId",
              },
              ":",
              {
                "Ref": "CostGuardianAPID69A7606",
              },
              "/test-invoke-stage/GET/api/billing/summary",
            ],
          ],
        },
      },
      "Type": "AWS::Lambda::Permission",
    },
    "CostGuardianAPIapibillingsummaryGETD76E3421": {
      "Properties": {
        "AuthorizationType": "COGNITO_USER_POOLS",
        "AuthorizerId": {
          "Ref": "CognitoAuth8E818E2A",
        },
        "HttpMethod": "GET",
        "Integration": {
          "IntegrationHttpMethod": "POST",
          "Type": "AWS_PROXY",
          "Uri": {
            "Fn::Join": [
              "",
              [
                "arn:",
                {
                  "Ref": "AWS::Partition",
                },
                ":apigateway:",
                {
                  "Ref": "AWS::Region",
                },
                ":lambda:path/2015-03-31/functions/",
                {
                  "Fn::GetAtt": [
                    "ApiHandler5E7490E8",
                    "Arn",
                  ],
                },
                "/invocations",
              ],
            ],
          },
        },
        "ResourceId": {
          "Ref": "CostGuardianAPIapibillingsummary88D20634",
        },
        "RestApiId": {
          "Ref": "CostGuardianAPID69A7606",
        },
      },
      "Type": "AWS::ApiGateway::Method",
    },
    "CostGuardianAPIapibillingsummaryOPTIONSF6BD3F8C": {
      "Properties": {
        "ApiKeyRequired": false,
        "AuthorizationType": "NONE",
        "HttpMethod": "OPTIONS",
        "Integration": {
          "IntegrationResponses": [
            {
              "ResponseParameters": {
                "method.response.header.Access-Control-Allow-Headers": "'Content-Type,X-Amz-Date,Authorization,X-Api-Key,X-Amz-Security-Token,X-Amz-User-Agent'",
                "method.response.header.Access-Control-Allow-Methods": "'OPTIONS,GET,PUT,POST,DELETE,PATCH,HEAD'",
                "method.response.header.Access-Control-Allow-Origin": "'*'",
              },
              "StatusCode": "204",
            },
          ],
          "RequestTemplates": {
            "application/json": "{ statusCode: 200 }",
          },
          "Type": "MOCK",
        },
        "MethodResponses": [
          {
            "ResponseParameters": {
              "method.response.header.Access-Control-Allow-Headers": true,
              "method.response.header.Access-Control-Allow-Methods": true,
              "method.response.header.Access-Control-Allow-Origin": true,
            },
            "StatusCode": "204",
          },
        ],
        "ResourceId": {
          "Ref": "CostGuardianAPIapibillingsummary88D20634",
        },
        "RestApiId": {
          "Ref": "CostGuardianAPID69A7606",
        },
      },
      "Type": "AWS::ApiGateway::Method",
    },
    "CostGuardianAPIapiconnectionsDBFBAF7C": {
      "Properties": {
        "ParentId": {
          "Ref": "CostGuardianAPIapi2A7FECEB",
        },
        "PathPart": "connections",
        "RestApiId": {
          "Ref": "CostGuardianAPID69A7606",
        },
      },
      "Type": "AWS::ApiGateway::Resource",
    },
    "CostGuardianAPIapiconnectionsGET6502CC14": {
      "Properties": {
        "AuthorizationType": "COGNITO_USER_POOLS",
        "AuthorizerId": {
          "Ref": "CognitoAuth8E818E2A",
        },
        "HttpMethod": "GET",
        "Integration": {
          "IntegrationHttpMethod": "POST",
          "Type": "AWS_PROXY",
          "Uri": {
            "Fn::Join": [
              "",
              [
                "arn:",
                {
                  "Ref": "AWS::Partition",
                },
                ":apigateway:",
                {
                  "Ref": "AWS::Region",
                },
                ":lambda:path/2015-03-31/functions/",
                {
                  "Fn::GetAtt": [
                    "ApiHandler5E7490E8",
                    "Arn",
                  ],
                },
                "/invocations",
              ],
            ],
          },
        },
        "ResourceId": {
          "Ref": "CostGuardianAPIapiconnectionsDBFBAF7C",
        },
        "RestApiId": {
          "Ref": "CostGuardianAPID69A7606",
        },
      },
      "Type": "AWS::ApiGateway::Method",
    },
    "CostGuardianAPIapiconnectionsGETApiPermissionMyTestStackCostGuardianAPIAE2E7CE0GETapiconnections46D576A6": {
      "Properties": {
        "Action": "lambda:InvokeFunction",
        "FunctionName": {
          "Fn::GetAtt": [
            "ApiHandler5E7490E8",
            "Arn",
          ],
        },
        "Principal": "apigateway.amazonaws.com",
        "SourceArn": {
          "Fn::Join": [
            "",
            [
              "arn:",
              {
                "Ref": "AWS::Partition",
              },
              ":execute-api:",
              {
                "Ref": "AWS::Region",
              },
              ":",
              {
                "Ref": "AWS::AccountId",
              },
              ":",
              {
                "Ref": "CostGuardianAPID69A7606",
              },
              "/",
              {
                "Ref": "CostGuardianAPIDeploymentStageprod2322FA4F",
              },
              "/GET/api/connections",
            ],
          ],
        },
      },
      "Type": "AWS::Lambda::Permission",
    },
    "CostGuardianAPIapiconnectionsGETApiPermissionTestMyTestStackCostGuardianAPIAE2E7CE0GETapiconnectionsECD1C283": {
      "Properties": {
        "Action": "lambda:InvokeFunction",
        "FunctionName": {
          "Fn::GetAtt": [
            "ApiHandler5E7490E8",
            "Arn",
          ],
        },
        "Principal": "apigateway.amazonaws.com",
        "SourceArn": {
          "Fn::Join": [
            "",
            [
              "arn:",
              {
                "Ref": "AWS::Partition",
              },
              ":execute-api:",
              {
                "Ref": "AWS::Region",
              },
              ":",
              {
                "Ref": "AWS::AccountId",
              },
              ":",
              {
                "Ref": "CostGuardianAPID69A7606",
              },
              "/test-invoke-stage/GET/api/connections",
            ],
          ],
        },
      },
      "Type": "AWS::Lambda::Permission",
    },
    "CostGuardianAPIapiconnectionsOPTIONS181E365A": {
      "Properties": {
        "ApiKeyRequired": false,
        "AuthorizationType": "NONE",
        "HttpMethod": "OPTIONS",
        "Integration": {
          "IntegrationResponses": [
            {
              "ResponseParameters": {
                "method.response.header.Access-Control-Allow-Headers": "'Content-Type,X-Amz-Date,Authorization,X-Api-Key,X-Amz-Security-Token,X-Amz-User-Agent'",
                "method.response.header.Access-Control-Allow-Methods": "'OPTIONS,GET,PUT,POST,DELETE,PATCH,HEAD'",
                "method.response.header.Access-Control-Allow-Origin": "'*'",
              },
              "StatusCode": "204",
            },
          ],
          "RequestTemplates": {
            "application/json": "{ statusCode: 200 }",
          },
          "Type": "MOCK",
        },
        "MethodResponses": [
          {
            "ResponseParameters": {
              "method.response.header.Access-Control-Allow-Headers": true,
              "method.response.header.Access-Control-Allow-Methods": true,
              "method.response.header.Access-Control-Allow-Origin": true,
            },
            "StatusCode": "204",
          },
        ],
        "ResourceId": {
          "Ref": "CostGuardianAPIapiconnectionsDBFBAF7C",
        },
        "RestApiId": {
          "Ref": "CostGuardianAPID69A7606",
        },
      },
      "Type": "AWS::ApiGateway::Method",
    },
    "CostGuardianAPIapiconnectionsawsAccountId65FE6DE5": {
      "Properties": {
        "ParentId": {
          "Ref": "CostGuardianAPIapiconnectionsDBFBAF7C",
        },
        "PathPart": "{awsAccountId}",
        "RestApiId": {
          "Ref": "CostGuardianAPID69A7606",
        },
      },
      "Type": "AWS::ApiGateway::Resource",
    },
    "CostGuardianAPIapiconnectionsawsAccountIdDELETEApiPermissionMyTestStackCostGuardianAPIAE2E7CE0DELETEapiconnectionsawsAccountIdE0EC5B22": {
      "Properties": {
        "Action": "lambda:InvokeFunction",
        "FunctionName": {
          "Fn::GetAtt": [
            "ApiHandler5E7490E8",
            "Arn",
          ],
        },
        "Principal": "apigateway.amazonaws.com",
        "SourceArn": {
          "Fn::Join": [
            "",
            [
              "arn:",
              {
                "Ref": "AWS::Partition",
              },
              ":execute-api:",
              {
                "Ref": "AWS::Region",
              },
              ":",
              {
                "Ref": "AWS::AccountId",
              },
              ":",
              {
                "Ref": "CostGuardianAPID69A7606",
              },
              "/",
              {
                "Ref": "CostGuardianAPIDeploymentStageprod2322FA4F",
              },
              "/DELETE/api/connections/*",
            ],
          ],
        },
      },
      "Type": "AWS::Lambda::Permission",
    },
    "CostGuardianAPIapiconnectionsawsAccountIdDELETEApiPermissionTestMyTestStackCostGuardianAPIAE2E7CE0DELETEapiconnectionsawsAccountIdBF3CEA17": {
      "Properties": {
        "Action": "lambda:InvokeFunction",
        "FunctionName": {
          "Fn::GetAtt": [
            "ApiHandler5E7490E8",
            "Arn",
          ],
        },
        "Principal": "apigateway.amazonaws.com",
        "SourceArn": {
          "Fn::Join": [
            "",
            [
              "arn:",
              {
                "Ref": "AWS::Partition",
              },
              ":execute-api:",
              {
                "Ref": "AWS::Region",
              },
              ":",
              {
                "Ref": "AWS::AccountId",
              },
              ":",
              {
                "Ref": "CostGuardianAPID69A7606",
              },
              "/test-invoke-stage/DELETE/api/connections/*",
            ],
          ],
        },
      },
      "Type": "AWS::Lambda::Permission",
    },
    "CostGuardianAPIapiconnectionsawsAccountIdDELETECFFEB3C9": {
      "Properties": {
        "AuthorizationType": "COGNITO_USER_POOLS",
        "AuthorizerId": {
          "Ref": "CognitoAuth8E818E2A",
        },
        "HttpMethod": "DELETE",
        "Integration": {
          "IntegrationHttpMethod": "POST",
          "Type": "AWS_PROXY",
          "Uri": {
            "Fn::Join": [
              "",
              [
                "arn:",
                {
                  "Ref": "AWS::Partition",
                },
                ":apigateway:",
                {
                  "Ref": "AWS::Region",
                },
                ":lambda:path/2015-03-31/functions/",
                {
                  "Fn::GetAtt": [
                    "ApiHandler5E7490E8",
                    "Arn",
                  ],
                },
                "/invocations",
              ],
            ],
          },
        },
        "ResourceId": {
          "Ref": "CostGuardianAPIapiconnectionsawsAccountId65FE6DE5",
        },
        "RestApiId": {
          "Ref": "CostGuardianAPID69A7606",
        },
      },
      "Type": "AWS::ApiGateway::Method",
    },
    "CostGuardianAPIapiconnectionsawsAccountIdOPTIONSF44030DC": {
      "Properties": {
        "ApiKeyRequired": false,
        "AuthorizationType": "NONE",
        "HttpMethod": "OPTIONS",
        "Integration": {
          "IntegrationResponses": [
            {
              "ResponseParameters": {
                "method.response.header.Access-Control-Allow-Headers": "'Content-Type,X-Amz-Date,Authorization,X-Api-Key,X-Amz-Security-Token,X-Amz-User-Agent'",
                "method.response.header.Access-Control-Allow-Methods": "'OPTIONS,GET,PUT,POST,DELETE,PATCH,HEAD'",
                "method.response.header.Access-Control-Allow-Origin": "'*'",
              },
              "StatusCode": "204",
            },
          ],
          "RequestTemplates": {
            "application/json": "{ statusCode: 200 }",
          },
          "Type": "MOCK",
        },
        "MethodResponses": [
          {
            "ResponseParameters": {
              "method.response.header.Access-Control-Allow-Headers": true,
              "method.response.header.Access-Control-Allow-Methods": true,
              "method.response.header.Access-Control-Allow-Origin": true,
            },
            "StatusCode": "204",
          },
        ],
        "ResourceId": {
          "Ref": "CostGuardianAPIapiconnectionsawsAccountId65FE6DE5",
        },
        "RestApiId": {
          "Ref": "CostGuardianAPID69A7606",
        },
      },
      "Type": "AWS::ApiGateway::Method",
    },
    "CostGuardianAPIapidashboardE28A9DDF": {
      "Properties": {
        "ParentId": {
          "Ref": "CostGuardianAPIapi2A7FECEB",
        },
        "PathPart": "dashboard",
        "RestApiId": {
          "Ref": "CostGuardianAPID69A7606",
        },
      },
      "Type": "AWS::ApiGateway::Resource",
    },
    "CostGuardianAPIapidashboardOPTIONS1121BB40": {
      "Properties": {
        "ApiKeyRequired": false,
        "AuthorizationType": "NONE",
        "HttpMethod": "OPTIONS",
        "Integration": {
          "IntegrationResponses": [
            {
              "ResponseParameters": {
                "method.response.header.Access-Control-Allow-Headers": "'Content-Type,X-Amz-Date,Authorization,X-Api-Key,X-Amz-Security-Token,X-Amz-User-Agent'",
                "method.response.header.Access-Control-Allow-Methods": "'OPTIONS,GET,PUT,POST,DELETE,PATCH,HEAD'",
                "method.response.header.Access-Control-Allow-Origin": "'*'",
              },
              "StatusCode": "204",
            },
          ],
          "RequestTemplates": {
            "application/json": "{ statusCode: 200 }",
          },
          "Type": "MOCK",
        },
        "MethodResponses": [
          {
            "ResponseParameters": {
              "method.response.header.Access-Control-Allow-Headers": true,
              "method.response.header.Access-Control-Allow-Methods": true,
              "method.response.header.Access-Control-Allow-Origin": true,
            },
            "StatusCode": "204",
          },
        ],
        "ResourceId": {
          "Ref": "CostGuardianAPIapidashboardE28A9DDF",
        },
        "RestApiId": {
          "Ref": "CostGuardianAPID69A7606",
        },
      },
      "Type": "AWS::ApiGateway::Method",
    },
    "CostGuardianAPIapidashboardcosts2A3A7F7B": {
      "Properties": {
        "ParentId": {
          "Ref": "CostGuardianAPIapidashboardE28A9DDF",
        },
        "PathPart": "costs",
        "RestApiId": {
          "Ref": "CostGuardianAPID69A7606",
        },
      },
      "Type": "AWS::ApiGateway::Resource",
    },
    "CostGuardianAPIapidashboardcostsGET7289A53C": {
      "Properties": {
        "AuthorizationType": "COGNITO_USER_POOLS",
        "AuthorizerId": {
          "Ref": "CognitoAuth8E818E2A",
        },
        "HttpMethod": "GET",
        "Integration": {
          "IntegrationHttpMethod": "POST",
          "Type": "AWS_PROXY",
          "Uri": {
            "Fn::Join": [
              "",
              [
                "arn:",
                {
                  "Ref": "AWS::Partition",
                },
                ":apigateway:",
                {
                  "Ref": "AWS::Region",
                },
                ":lambda:path/2015-03-31/functions/",
                {
                  "Fn::GetAtt": [
                    "ApiHandler5E7490E8",
                    "Arn",
                  ],
                },
                "/invocations",
              ],
            ],
          },
        },
        "ResourceId": {
          "Ref": "CostGuardianAPIapidashboardcosts2A3A7F7B",
        },
        "RestApiId": {
          "Ref": "CostGuardianAPID69A7606",
        },
      },
      "Type": "AWS::ApiGateway::Method",
    },
    "CostGuardianAPIapidashboardcostsGETApiPermissionMyTestStackCostGuardianAPIAE2E7CE0GETapidashboardcosts6BB739EC": {
      "Properties": {
        "Action": "lambda:InvokeFunction",
        "FunctionName": {
          "Fn::GetAtt": [
            "ApiHandler5E7490E8",
            "Arn",
          ],
        },
        "Principal": "apigateway.amazonaws.com",
        "SourceArn": {
          "Fn::Join": [
            "",
            [
              "arn:",
              {
                "Ref": "AWS::Partition",
              },
              ":execute-api:",
              {
                "Ref": "AWS::Region",
              },
              ":",
              {
                "Ref": "AWS::AccountId",
              },
              ":",
              {
                "Ref": "CostGuardianAPID69A7606",
              },
              "/",
              {
                "Ref": "CostGuardianAPIDeploymentStageprod2322FA4F",
              },
              "/GET/api/dashboard/costs",
            ],
          ],
        },
      },
      "Type": "AWS::Lambda::Permission",
    },
    "CostGuardianAPIapidashboardcostsGETApiPermissionTestMyTestStackCostGuardianAPIAE2E7CE0GETapidashboardcosts3475F78F": {
      "Properties": {
        "Action": "lambda:InvokeFunction",
        "FunctionName": {
          "Fn::GetAtt": [
            "ApiHandler5E7490E8",
            "Arn",
          ],
        },
        "Principal": "apigateway.amazonaws.com",
        "SourceArn": {
          "Fn::Join": [
            "",
            [
              "arn:",
              {
                "Ref": "AWS::Partition",
              },
              ":execute-api:",
              {
                "Ref": "AWS::Region",
              },
              ":",
              {
                "Ref": "AWS::AccountId",
              },
              ":",
              {
                "Ref": "CostGuardianAPID69A7606",
              },
              "/test-invoke-stage/GET/api/dashboard/costs",
            ],
          ],
        },
      },
      "Type": "AWS::Lambda::Permission",
    },
    "CostGuardianAPIapidashboardcostsOPTIONS9AF94A33": {
      "Properties": {
        "ApiKeyRequired": false,
        "AuthorizationType": "NONE",
        "HttpMethod": "OPTIONS",
        "Integration": {
          "IntegrationResponses": [
            {
              "ResponseParameters": {
                "method.response.header.Access-Control-Allow-Headers": "'Content-Type,X-Amz-Date,Authorization,X-Api-Key,X-Amz-Security-Token,X-Amz-User-Agent'",
                "method.response.header.Access-Control-Allow-Methods": "'OPTIONS,GET,PUT,POST,DELETE,PATCH,HEAD'",
                "method.response.header.Access-Control-Allow-Origin": "'*'",
              },
              "StatusCode": "204",
            },
          ],
          "RequestTemplates": {
            "application/json": "{ statusCode: 200 }",
          },
          "Type": "MOCK",
        },
        "MethodResponses": [
          {
            "ResponseParameters": {
              "method.response.header.Access-Control-Allow-Headers": true,
              "method.response.header.Access-Control-Allow-Methods": true,
              "method.response.header.Access-Control-Allow-Origin": true,
            },
            "StatusCode": "204",
          },
        ],
        "ResourceId": {
          "Ref": "CostGuardianAPIapidashboardcosts2A3A7F7B",
        },
        "RestApiId": {
          "Ref": "CostGuardianAPID69A7606",
        },
      },
      "Type": "AWS::ApiGateway::Method",
    },
    "CostGuardianAPIapihealthA1116529": {
      "Properties": {
        "ParentId": {
          "Ref": "CostGuardianAPIapi2A7FECEB",
        },
        "PathPart": "health",
        "RestApiId": {
          "Ref": "CostGuardianAPID69A7606",
        },
      },
      "Type": "AWS::ApiGateway::Resource",
    },
    "CostGuardianAPIapihealthGETApiPermissionMyTestStackCostGuardianAPIAE2E7CE0GETapihealthC645D6A4": {
      "Properties": {
        "Action": "lambda:InvokeFunction",
        "FunctionName": {
          "Fn::GetAtt": [
            "ApiHandler5E7490E8",
            "Arn",
          ],
        },
        "Principal": "apigateway.amazonaws.com",
        "SourceArn": {
          "Fn::Join": [
            "",
            [
              "arn:",
              {
                "Ref": "AWS::Partition",
              },
              ":execute-api:",
              {
                "Ref": "AWS::Region",
              },
              ":",
              {
                "Ref": "AWS::AccountId",
              },
              ":",
              {
                "Ref": "CostGuardianAPID69A7606",
              },
              "/",
              {
                "Ref": "CostGuardianAPIDeploymentStageprod2322FA4F",
              },
              "/GET/api/health",
            ],
          ],
        },
      },
      "Type": "AWS::Lambda::Permission",
    },
    "CostGuardianAPIapihealthGETApiPermissionTestMyTestStackCostGuardianAPIAE2E7CE0GETapihealthE5C15750": {
      "Properties": {
        "Action": "lambda:InvokeFunction",
        "FunctionName": {
          "Fn::GetAtt": [
            "ApiHandler5E7490E8",
            "Arn",
          ],
        },
        "Principal": "apigateway.amazonaws.com",
        "SourceArn": {
          "Fn::Join": [
            "",
            [
              "arn:",
              {
                "Ref": "AWS::Partition",
              },
              ":execute-api:",
              {
                "Ref": "AWS::Region",
              },
              ":",
              {
                "Ref": "AWS::AccountId",
              },
              ":",
              {
                "Ref": "CostGuardianAPID69A7606",
              },
              "/test-invoke-stage/GET/api/health",
            ],
          ],
        },
      },
      "Type": "AWS::Lambda::Permission",
    },
    "CostGuardianAPIapihealthGETF355F2CE": {
      "Properties": {
        "AuthorizationType": "NONE",
        "HttpMethod": "GET",
        "Integration": {
          "IntegrationHttpMethod": "POST",
          "Type": "AWS_PROXY",
          "Uri": {
            "Fn::Join": [
              "",
              [
                "arn:",
                {
                  "Ref": "AWS::Partition",
                },
                ":apigateway:",
                {
                  "Ref": "AWS::Region",
                },
                ":lambda:path/2015-03-31/functions/",
                {
                  "Fn::GetAtt": [
                    "ApiHandler5E7490E8",
                    "Arn",
                  ],
                },
                "/invocations",
              ],
            ],
          },
        },
        "ResourceId": {
          "Ref": "CostGuardianAPIapihealthA1116529",
        },
        "RestApiId": {
          "Ref": "CostGuardianAPID69A7606",
        },
      },
      "Type": "AWS::ApiGateway::Method",
    },
    "CostGuardianAPIapihealthOPTIONS69537CF8": {
      "Properties": {
        "ApiKeyRequired": false,
        "AuthorizationType": "NONE",
        "HttpMethod": "OPTIONS",
        "Integration": {
          "IntegrationResponses": [
            {
              "ResponseParameters": {
                "method.response.header.Access-Control-Allow-Headers": "'Content-Type,X-Amz-Date,Authorization,X-Api-Key,X-Amz-Security-Token,X-Amz-User-Agent'",
                "method.response.header.Access-Control-Allow-Methods": "'OPTIONS,GET,PUT,POST,DELETE,PATCH,HEAD'",
                "method.response.header.Access-Control-Allow-Origin": "'*'",
              },
              "StatusCode": "204",
            },
          ],
          "RequestTemplates": {
            "application/json": "{ statusCode: 200 }",
          },
          "Type": "MOCK",
        },
        "MethodResponses": [
          {
            "ResponseParameters": {
              "method.response.header.Access-Control-Allow-Headers": true,
              "method.response.header.Access-Control-Allow-Methods": true,
              "method.response.header.Access-Control-Allow-Origin": true,
            },
            "StatusCode": "204",
          },
        ],
        "ResourceId": {
          "Ref": "CostGuardianAPIapihealthA1116529",
        },
        "RestApiId": {
          "Ref": "CostGuardianAPID69A7606",
        },
      },
      "Type": "AWS::ApiGateway::Method",
    },
    "CostGuardianAPIapiincidentsCE40791B": {
      "Properties": {
        "ParentId": {
          "Ref": "CostGuardianAPIapi2A7FECEB",
        },
        "PathPart": "incidents",
        "RestApiId": {
          "Ref": "CostGuardianAPID69A7606",
        },
      },
      "Type": "AWS::ApiGateway::Resource",
    },
    "CostGuardianAPIapiincidentsGET5B972662": {
      "Properties": {
        "AuthorizationType": "COGNITO_USER_POOLS",
        "AuthorizerId": {
          "Ref": "CognitoAuth8E818E2A",
        },
        "HttpMethod": "GET",
        "Integration": {
          "IntegrationHttpMethod": "POST",
          "Type": "AWS_PROXY",
          "Uri": {
            "Fn::Join": [
              "",
              [
                "arn:",
                {
                  "Ref": "AWS::Partition",
                },
                ":apigateway:",
                {
                  "Ref": "AWS::Region",
                },
                ":lambda:path/2015-03-31/functions/",
                {
                  "Fn::GetAtt": [
                    "ApiHandler5E7490E8",
                    "Arn",
                  ],
                },
                "/invocations",
              ],
            ],
          },
        },
        "ResourceId": {
          "Ref": "CostGuardianAPIapiincidentsCE40791B",
        },
        "RestApiId": {
          "Ref": "CostGuardianAPID69A7606",
        },
      },
      "Type": "AWS::ApiGateway::Method",
    },
    "CostGuardianAPIapiincidentsGETApiPermissionMyTestStackCostGuardianAPIAE2E7CE0GETapiincidentsFCEE436B": {
      "Properties": {
        "Action": "lambda:InvokeFunction",
        "FunctionName": {
          "Fn::GetAtt": [
            "ApiHandler5E7490E8",
            "Arn",
          ],
        },
        "Principal": "apigateway.amazonaws.com",
        "SourceArn": {
          "Fn::Join": [
            "",
            [
              "arn:",
              {
                "Ref": "AWS::Partition",
              },
              ":execute-api:",
              {
                "Ref": "AWS::Region",
              },
              ":",
              {
                "Ref": "AWS::AccountId",
              },
              ":",
              {
                "Ref": "CostGuardianAPID69A7606",
              },
              "/",
              {
                "Ref": "CostGuardianAPIDeploymentStageprod2322FA4F",
              },
              "/GET/api/incidents",
            ],
          ],
        },
      },
      "Type": "AWS::Lambda::Permission",
    },
    "CostGuardianAPIapiincidentsGETApiPermissionTestMyTestStackCostGuardianAPIAE2E7CE0GETapiincidents6068F067": {
      "Properties": {
        "Action": "lambda:InvokeFunction",
        "FunctionName": {
          "Fn::GetAtt": [
            "ApiHandler5E7490E8",
            "Arn",
          ],
        },
        "Principal": "apigateway.amazonaws.com",
        "SourceArn": {
          "Fn::Join": [
            "",
            [
              "arn:",
              {
                "Ref": "AWS::Partition",
              },
              ":execute-api:",
              {
                "Ref": "AWS::Region",
              },
              ":",
              {
                "Ref": "AWS::AccountId",
              },
              ":",
              {
                "Ref": "CostGuardianAPID69A7606",
              },
              "/test-invoke-stage/GET/api/incidents",
            ],
          ],
        },
      },
      "Type": "AWS::Lambda::Permission",
    },
    "CostGuardianAPIapiincidentsOPTIONS05C829BC": {
      "Properties": {
        "ApiKeyRequired": false,
        "AuthorizationType": "NONE",
        "HttpMethod": "OPTIONS",
        "Integration": {
          "IntegrationResponses": [
            {
              "ResponseParameters": {
                "method.response.header.Access-Control-Allow-Headers": "'Content-Type,X-Amz-Date,Authorization,X-Api-Key,X-Amz-Security-Token,X-Amz-User-Agent'",
                "method.response.header.Access-Control-Allow-Methods": "'OPTIONS,GET,PUT,POST,DELETE,PATCH,HEAD'",
                "method.response.header.Access-Control-Allow-Origin": "'*'",
              },
              "StatusCode": "204",
            },
          ],
          "RequestTemplates": {
            "application/json": "{ statusCode: 200 }",
          },
          "Type": "MOCK",
        },
        "MethodResponses": [
          {
            "ResponseParameters": {
              "method.response.header.Access-Control-Allow-Headers": true,
              "method.response.header.Access-Control-Allow-Methods": true,
              "method.response.header.Access-Control-Allow-Origin": true,
            },
            "StatusCode": "204",
          },
        ],
        "ResourceId": {
          "Ref": "CostGuardianAPIapiincidentsCE40791B",
        },
        "RestApiId": {
          "Ref": "CostGuardianAPID69A7606",
        },
      },
      "Type": "AWS::ApiGateway::Method",
    },
    "CostGuardianAPIapiinvoicesED00D003": {
      "Properties": {
        "ParentId": {
          "Ref": "CostGuardianAPIapi2A7FECEB",
        },
        "PathPart": "invoices",
        "RestApiId": {
          "Ref": "CostGuardianAPID69A7606",
        },
      },
      "Type": "AWS::ApiGateway::Resource",
    },
    "CostGuardianAPIapiinvoicesGETApiPermissionMyTestStackCostGuardianAPIAE2E7CE0GETapiinvoicesA878B8B8": {
      "Properties": {
        "Action": "lambda:InvokeFunction",
        "FunctionName": {
          "Fn::GetAtt": [
            "ApiHandler5E7490E8",
            "Arn",
          ],
        },
        "Principal": "apigateway.amazonaws.com",
        "SourceArn": {
          "Fn::Join": [
            "",
            [
              "arn:",
              {
                "Ref": "AWS::Partition",
              },
              ":execute-api:",
              {
                "Ref": "AWS::Region",
              },
              ":",
              {
                "Ref": "AWS::AccountId",
              },
              ":",
              {
                "Ref": "CostGuardianAPID69A7606",
              },
              "/",
              {
                "Ref": "CostGuardianAPIDeploymentStageprod2322FA4F",
              },
              "/GET/api/invoices",
            ],
          ],
        },
      },
      "Type": "AWS::Lambda::Permission",
    },
    "CostGuardianAPIapiinvoicesGETApiPermissionTestMyTestStackCostGuardianAPIAE2E7CE0GETapiinvoices1A6CD8B1": {
      "Properties": {
        "Action": "lambda:InvokeFunction",
        "FunctionName": {
          "Fn::GetAtt": [
            "ApiHandler5E7490E8",
            "Arn",
          ],
        },
        "Principal": "apigateway.amazonaws.com",
        "SourceArn": {
          "Fn::Join": [
            "",
            [
              "arn:",
              {
                "Ref": "AWS::Partition",
              },
              ":execute-api:",
              {
                "Ref": "AWS::Region",
              },
              ":",
              {
                "Ref": "AWS::AccountId",
              },
              ":",
              {
                "Ref": "CostGuardianAPID69A7606",
              },
              "/test-invoke-stage/GET/api/invoices",
            ],
          ],
        },
      },
      "Type": "AWS::Lambda::Permission",
    },
    "CostGuardianAPIapiinvoicesGETB1B09053": {
      "Properties": {
        "AuthorizationType": "COGNITO_USER_POOLS",
        "AuthorizerId": {
          "Ref": "CognitoAuth8E818E2A",
        },
        "HttpMethod": "GET",
        "Integration": {
          "IntegrationHttpMethod": "POST",
          "Type": "AWS_PROXY",
          "Uri": {
            "Fn::Join": [
              "",
              [
                "arn:",
                {
                  "Ref": "AWS::Partition",
                },
                ":apigateway:",
                {
                  "Ref": "AWS::Region",
                },
                ":lambda:path/2015-03-31/functions/",
                {
                  "Fn::GetAtt": [
                    "ApiHandler5E7490E8",
                    "Arn",
                  ],
                },
                "/invocations",
              ],
            ],
          },
        },
        "ResourceId": {
          "Ref": "CostGuardianAPIapiinvoicesED00D003",
        },
        "RestApiId": {
          "Ref": "CostGuardianAPID69A7606",
        },
      },
      "Type": "AWS::ApiGateway::Method",
    },
    "CostGuardianAPIapiinvoicesOPTIONS02EF9251": {
      "Properties": {
        "ApiKeyRequired": false,
        "AuthorizationType": "NONE",
        "HttpMethod": "OPTIONS",
        "Integration": {
          "IntegrationResponses": [
            {
              "ResponseParameters": {
                "method.response.header.Access-Control-Allow-Headers": "'Content-Type,X-Amz-Date,Authorization,X-Api-Key,X-Amz-Security-Token,X-Amz-User-Agent'",
                "method.response.header.Access-Control-Allow-Methods": "'OPTIONS,GET,PUT,POST,DELETE,PATCH,HEAD'",
                "method.response.header.Access-Control-Allow-Origin": "'*'",
              },
              "StatusCode": "204",
            },
          ],
          "RequestTemplates": {
            "application/json": "{ statusCode: 200 }",
          },
          "Type": "MOCK",
        },
        "MethodResponses": [
          {
            "ResponseParameters": {
              "method.response.header.Access-Control-Allow-Headers": true,
              "method.response.header.Access-Control-Allow-Methods": true,
              "method.response.header.Access-Control-Allow-Origin": true,
            },
            "StatusCode": "204",
          },
        ],
        "ResourceId": {
          "Ref": "CostGuardianAPIapiinvoicesED00D003",
        },
        "RestApiId": {
          "Ref": "CostGuardianAPID69A7606",
        },
      },
      "Type": "AWS::ApiGateway::Method",
    },
    "CostGuardianAPIapionboard95340DCC": {
      "Properties": {
        "ParentId": {
          "Ref": "CostGuardianAPIapi2A7FECEB",
        },
        "PathPart": "onboard",
        "RestApiId": {
          "Ref": "CostGuardianAPID69A7606",
        },
      },
      "Type": "AWS::ApiGateway::Resource",
    },
    "CostGuardianAPIapionboardOPTIONSF931A347": {
      "Properties": {
        "ApiKeyRequired": false,
        "AuthorizationType": "NONE",
        "HttpMethod": "OPTIONS",
        "Integration": {
          "IntegrationResponses": [
            {
              "ResponseParameters": {
                "method.response.header.Access-Control-Allow-Headers": "'Content-Type,X-Amz-Date,Authorization,X-Api-Key,X-Amz-Security-Token,X-Amz-User-Agent'",
                "method.response.header.Access-Control-Allow-Methods": "'OPTIONS,GET,PUT,POST,DELETE,PATCH,HEAD'",
                "method.response.header.Access-Control-Allow-Origin": "'*'",
              },
              "StatusCode": "204",
            },
          ],
          "RequestTemplates": {
            "application/json": "{ statusCode: 200 }",
          },
          "Type": "MOCK",
        },
        "MethodResponses": [
          {
            "ResponseParameters": {
              "method.response.header.Access-Control-Allow-Headers": true,
              "method.response.header.Access-Control-Allow-Methods": true,
              "method.response.header.Access-Control-Allow-Origin": true,
            },
            "StatusCode": "204",
          },
        ],
        "ResourceId": {
          "Ref": "CostGuardianAPIapionboard95340DCC",
        },
        "RestApiId": {
          "Ref": "CostGuardianAPID69A7606",
        },
      },
      "Type": "AWS::ApiGateway::Method",
    },
    "CostGuardianAPIapionboardPOST34D0592C": {
      "Properties": {
        "AuthorizationType": "NONE",
        "HttpMethod": "POST",
        "Integration": {
          "IntegrationHttpMethod": "POST",
          "Type": "AWS_PROXY",
          "Uri": {
            "Fn::Join": [
              "",
              [
                "arn:",
                {
                  "Ref": "AWS::Partition",
                },
                ":apigateway:",
                {
                  "Ref": "AWS::Region",
                },
                ":lambda:path/2015-03-31/functions/",
                {
                  "Fn::GetAtt": [
                    "ApiHandler5E7490E8",
                    "Arn",
                  ],
                },
                "/invocations",
              ],
            ],
          },
        },
        "ResourceId": {
          "Ref": "CostGuardianAPIapionboard95340DCC",
        },
        "RestApiId": {
          "Ref": "CostGuardianAPID69A7606",
        },
      },
      "Type": "AWS::ApiGateway::Method",
    },
    "CostGuardianAPIapionboardPOSTApiPermissionMyTestStackCostGuardianAPIAE2E7CE0POSTapionboardF6C57497": {
      "Properties": {
        "Action": "lambda:InvokeFunction",
        "FunctionName": {
          "Fn::GetAtt": [
            "ApiHandler5E7490E8",
            "Arn",
          ],
        },
        "Principal": "apigateway.amazonaws.com",
        "SourceArn": {
          "Fn::Join": [
            "",
            [
              "arn:",
              {
                "Ref": "AWS::Partition",
              },
              ":execute-api:",
              {
                "Ref": "AWS::Region",
              },
              ":",
              {
                "Ref": "AWS::AccountId",
              },
              ":",
              {
                "Ref": "CostGuardianAPID69A7606",
              },
              "/",
              {
                "Ref": "CostGuardianAPIDeploymentStageprod2322FA4F",
              },
              "/POST/api/onboard",
            ],
          ],
        },
      },
      "Type": "AWS::Lambda::Permission",
    },
    "CostGuardianAPIapionboardPOSTApiPermissionTestMyTestStackCostGuardianAPIAE2E7CE0POSTapionboardBE35AE87": {
      "Properties": {
        "Action": "lambda:InvokeFunction",
        "FunctionName": {
          "Fn::GetAtt": [
            "ApiHandler5E7490E8",
            "Arn",
          ],
        },
        "Principal": "apigateway.amazonaws.com",
        "SourceArn": {
          "Fn::Join": [
            "",
            [
              "arn:",
              {
                "Ref": "AWS::Partition",
              },
              ":execute-api:",
              {
                "Ref": "AWS::Region",
              },
              ":",
              {
                "Ref": "AWS::AccountId",
              },
              ":",
              {
                "Ref": "CostGuardianAPID69A7606",
              },
              "/test-invoke-stage/POST/api/onboard",
            ],
          ],
        },
      },
      "Type": "AWS::Lambda::Permission",
    },
    "CostGuardianAPIapionboardinitA579DF91": {
      "Properties": {
        "ParentId": {
          "Ref": "CostGuardianAPIapi2A7FECEB",
        },
        "PathPart": "onboard-init",
        "RestApiId": {
          "Ref": "CostGuardianAPID69A7606",
        },
      },
      "Type": "AWS::ApiGateway::Resource",
    },
    "CostGuardianAPIapionboardinitGET3FA3C79E": {
      "Properties": {
        "AuthorizationType": "COGNITO_USER_POOLS",
        "AuthorizerId": {
          "Ref": "CognitoAuth8E818E2A",
        },
        "HttpMethod": "GET",
        "Integration": {
          "IntegrationHttpMethod": "POST",
          "Type": "AWS_PROXY",
          "Uri": {
            "Fn::Join": [
              "",
              [
                "arn:",
                {
                  "Ref": "AWS::Partition",
                },
                ":apigateway:",
                {
                  "Ref": "AWS::Region",
                },
                ":lambda:path/2015-03-31/functions/",
                {
                  "Fn::GetAtt": [
                    "ApiHandler5E7490E8",
                    "Arn",
                  ],
                },
                "/invocations",
              ],
            ],
          },
        },
        "ResourceId": {
          "Ref": "CostGuardianAPIapionboardinitA579DF91",
        },
        "RestApiId": {
          "Ref": "CostGuardianAPID69A7606",
        },
      },
      "Type": "AWS::ApiGateway::Method",
    },
    "CostGuardianAPIapionboardinitGETApiPermissionMyTestStackCostGuardianAPIAE2E7CE0GETapionboardinit730976BB": {
      "Properties": {
        "Action": "lambda:InvokeFunction",
        "FunctionName": {
          "Fn::GetAtt": [
            "ApiHandler5E7490E8",
            "Arn",
          ],
        },
        "Principal": "apigateway.amazonaws.com",
        "SourceArn": {
          "Fn::Join": [
            "",
            [
              "arn:",
              {
                "Ref": "AWS::Partition",
              },
              ":execute-api:",
              {
                "Ref": "AWS::Region",
              },
              ":",
              {
                "Ref": "AWS::AccountId",
              },
              ":",
              {
                "Ref": "CostGuardianAPID69A7606",
              },
              "/",
              {
                "Ref": "CostGuardianAPIDeploymentStageprod2322FA4F",
              },
              "/GET/api/onboard-init",
            ],
          ],
        },
      },
      "Type": "AWS::Lambda::Permission",
    },
    "CostGuardianAPIapionboardinitGETApiPermissionTestMyTestStackCostGuardianAPIAE2E7CE0GETapionboardinitA33952D0": {
      "Properties": {
        "Action": "lambda:InvokeFunction",
        "FunctionName": {
          "Fn::GetAtt": [
            "ApiHandler5E7490E8",
            "Arn",
          ],
        },
        "Principal": "apigateway.amazonaws.com",
        "SourceArn": {
          "Fn::Join": [
            "",
            [
              "arn:",
              {
                "Ref": "AWS::Partition",
              },
              ":execute-api:",
              {
                "Ref": "AWS::Region",
              },
              ":",
              {
                "Ref": "AWS::AccountId",
              },
              ":",
              {
                "Ref": "CostGuardianAPID69A7606",
              },
              "/test-invoke-stage/GET/api/onboard-init",
            ],
          ],
        },
      },
      "Type": "AWS::Lambda::Permission",
    },
    "CostGuardianAPIapionboardinitOPTIONS37CF44A7": {
      "Properties": {
        "ApiKeyRequired": false,
        "AuthorizationType": "NONE",
        "HttpMethod": "OPTIONS",
        "Integration": {
          "IntegrationResponses": [
            {
              "ResponseParameters": {
                "method.response.header.Access-Control-Allow-Headers": "'Content-Type,X-Amz-Date,Authorization,X-Api-Key,X-Amz-Security-Token,X-Amz-User-Agent'",
                "method.response.header.Access-Control-Allow-Methods": "'OPTIONS,GET,PUT,POST,DELETE,PATCH,HEAD'",
                "method.response.header.Access-Control-Allow-Origin": "'*'",
              },
              "StatusCode": "204",
            },
          ],
          "RequestTemplates": {
            "application/json": "{ statusCode: 200 }",
          },
          "Type": "MOCK",
        },
        "MethodResponses": [
          {
            "ResponseParameters": {
              "method.response.header.Access-Control-Allow-Headers": true,
              "method.response.header.Access-Control-Allow-Methods": true,
              "method.response.header.Access-Control-Allow-Origin": true,
            },
            "StatusCode": "204",
          },
        ],
        "ResourceId": {
          "Ref": "CostGuardianAPIapionboardinitA579DF91",
        },
        "RestApiId": {
          "Ref": "CostGuardianAPID69A7606",
        },
      },
      "Type": "AWS::ApiGateway::Method",
    },
    "CostGuardianAPIapirecommendations3A5D580C": {
      "Properties": {
        "ParentId": {
          "Ref": "CostGuardianAPIapi2A7FECEB",
        },
        "PathPart": "recommendations",
        "RestApiId": {
          "Ref": "CostGuardianAPID69A7606",
        },
      },
      "Type": "AWS::ApiGateway::Resource",
    },
    "CostGuardianAPIapirecommendationsGETApiPermissionMyTestStackCostGuardianAPIAE2E7CE0GETapirecommendations1C66C6CC": {
      "Properties": {
        "Action": "lambda:InvokeFunction",
        "FunctionName": {
          "Fn::GetAtt": [
            "ApiHandler5E7490E8",
            "Arn",
          ],
        },
        "Principal": "apigateway.amazonaws.com",
        "SourceArn": {
          "Fn::Join": [
            "",
            [
              "arn:",
              {
                "Ref": "AWS::Partition",
              },
              ":execute-api:",
              {
                "Ref": "AWS::Region",
              },
              ":",
              {
                "Ref": "AWS::AccountId",
              },
              ":",
              {
                "Ref": "CostGuardianAPID69A7606",
              },
              "/",
              {
                "Ref": "CostGuardianAPIDeploymentStageprod2322FA4F",
              },
              "/GET/api/recommendations",
            ],
          ],
        },
      },
      "Type": "AWS::Lambda::Permission",
    },
    "CostGuardianAPIapirecommendationsGETApiPermissionTestMyTestStackCostGuardianAPIAE2E7CE0GETapirecommendations2940D6B5": {
      "Properties": {
        "Action": "lambda:InvokeFunction",
        "FunctionName": {
          "Fn::GetAtt": [
            "ApiHandler5E7490E8",
            "Arn",
          ],
        },
        "Principal": "apigateway.amazonaws.com",
        "SourceArn": {
          "Fn::Join": [
            "",
            [
              "arn:",
              {
                "Ref": "AWS::Partition",
              },
              ":execute-api:",
              {
                "Ref": "AWS::Region",
              },
              ":",
              {
                "Ref": "AWS::AccountId",
              },
              ":",
              {
                "Ref": "CostGuardianAPID69A7606",
              },
              "/test-invoke-stage/GET/api/recommendations",
            ],
          ],
        },
      },
      "Type": "AWS::Lambda::Permission",
    },
    "CostGuardianAPIapirecommendationsGETE966C99B": {
      "Properties": {
        "AuthorizationType": "COGNITO_USER_POOLS",
        "AuthorizerId": {
          "Ref": "CognitoAuth8E818E2A",
        },
        "HttpMethod": "GET",
        "Integration": {
          "IntegrationHttpMethod": "POST",
          "Type": "AWS_PROXY",
          "Uri": {
            "Fn::Join": [
              "",
              [
                "arn:",
                {
                  "Ref": "AWS::Partition",
                },
                ":apigateway:",
                {
                  "Ref": "AWS::Region",
                },
                ":lambda:path/2015-03-31/functions/",
                {
                  "Fn::GetAtt": [
                    "ApiHandler5E7490E8",
                    "Arn",
                  ],
                },
                "/invocations",
              ],
            ],
          },
        },
        "ResourceId": {
          "Ref": "CostGuardianAPIapirecommendations3A5D580C",
        },
        "RestApiId": {
          "Ref": "CostGuardianAPID69A7606",
        },
      },
      "Type": "AWS::ApiGateway::Method",
    },
    "CostGuardianAPIapirecommendationsOPTIONSF05A6C14": {
      "Properties": {
        "ApiKeyRequired": false,
        "AuthorizationType": "NONE",
        "HttpMethod": "OPTIONS",
        "Integration": {
          "IntegrationResponses": [
            {
              "ResponseParameters": {
                "method.response.header.Access-Control-Allow-Headers": "'Content-Type,X-Amz-Date,Authorization,X-Api-Key,X-Amz-Security-Token,X-Amz-User-Agent'",
                "method.response.header.Access-Control-Allow-Methods": "'OPTIONS,GET,PUT,POST,DELETE,PATCH,HEAD'",
                "method.response.header.Access-Control-Allow-Origin": "'*'",
              },
              "StatusCode": "204",
            },
          ],
          "RequestTemplates": {
            "application/json": "{ statusCode: 200 }",
          },
          "Type": "MOCK",
        },
        "MethodResponses": [
          {
            "ResponseParameters": {
              "method.response.header.Access-Control-Allow-Headers": true,
              "method.response.header.Access-Control-Allow-Methods": true,
              "method.response.header.Access-Control-Allow-Origin": true,
            },
            "StatusCode": "204",
          },
        ],
        "ResourceId": {
          "Ref": "CostGuardianAPIapirecommendations3A5D580C",
        },
        "RestApiId": {
          "Ref": "CostGuardianAPID69A7606",
        },
      },
      "Type": "AWS::ApiGateway::Method",
    },
    "CostGuardianAPIapirecommendationsexecuteEBCB6C8B": {
      "Properties": {
        "ParentId": {
          "Ref": "CostGuardianAPIapirecommendations3A5D580C",
        },
        "PathPart": "execute",
        "RestApiId": {
          "Ref": "CostGuardianAPID69A7606",
        },
      },
      "Type": "AWS::ApiGateway::Resource",
    },
    "CostGuardianAPIapirecommendationsexecuteOPTIONSFF3B4703": {
      "Properties": {
        "ApiKeyRequired": false,
        "AuthorizationType": "NONE",
        "HttpMethod": "OPTIONS",
        "Integration": {
          "IntegrationResponses": [
            {
              "ResponseParameters": {
                "method.response.header.Access-Control-Allow-Headers": "'Content-Type,X-Amz-Date,Authorization,X-Api-Key,X-Amz-Security-Token,X-Amz-User-Agent'",
                "method.response.header.Access-Control-Allow-Methods": "'OPTIONS,GET,PUT,POST,DELETE,PATCH,HEAD'",
                "method.response.header.Access-Control-Allow-Origin": "'*'",
              },
              "StatusCode": "204",
            },
          ],
          "RequestTemplates": {
            "application/json": "{ statusCode: 200 }",
          },
          "Type": "MOCK",
        },
        "MethodResponses": [
          {
            "ResponseParameters": {
              "method.response.header.Access-Control-Allow-Headers": true,
              "method.response.header.Access-Control-Allow-Methods": true,
              "method.response.header.Access-Control-Allow-Origin": true,
            },
            "StatusCode": "204",
          },
        ],
        "ResourceId": {
          "Ref": "CostGuardianAPIapirecommendationsexecuteEBCB6C8B",
        },
        "RestApiId": {
          "Ref": "CostGuardianAPID69A7606",
        },
      },
      "Type": "AWS::ApiGateway::Method",
    },
    "CostGuardianAPIapirecommendationsexecutePOST0CD90BBF": {
      "Properties": {
        "AuthorizationType": "COGNITO_USER_POOLS",
        "AuthorizerId": {
          "Ref": "CognitoAuth8E818E2A",
        },
        "HttpMethod": "POST",
        "Integration": {
          "IntegrationHttpMethod": "POST",
          "Type": "AWS_PROXY",
          "Uri": {
            "Fn::Join": [
              "",
              [
                "arn:",
                {
                  "Ref": "AWS::Partition",
                },
                ":apigateway:",
                {
                  "Ref": "AWS::Region",
                },
                ":lambda:path/2015-03-31/functions/",
                {
                  "Fn::GetAtt": [
                    "ApiHandler5E7490E8",
                    "Arn",
                  ],
                },
                "/invocations",
              ],
            ],
          },
        },
        "ResourceId": {
          "Ref": "CostGuardianAPIapirecommendationsexecuteEBCB6C8B",
        },
        "RestApiId": {
          "Ref": "CostGuardianAPID69A7606",
        },
      },
      "Type": "AWS::ApiGateway::Method",
    },
    "CostGuardianAPIapirecommendationsexecutePOSTApiPermissionMyTestStackCostGuardianAPIAE2E7CE0POSTapirecommendationsexecute60A3CD2B": {
      "Properties": {
        "Action": "lambda:InvokeFunction",
        "FunctionName": {
          "Fn::GetAtt": [
            "ApiHandler5E7490E8",
            "Arn",
          ],
        },
        "Principal": "apigateway.amazonaws.com",
        "SourceArn": {
          "Fn::Join": [
            "",
            [
              "arn:",
              {
                "Ref": "AWS::Partition",
              },
              ":execute-api:",
              {
                "Ref": "AWS::Region",
              },
              ":",
              {
                "Ref": "AWS::AccountId",
              },
              ":",
              {
                "Ref": "CostGuardianAPID69A7606",
              },
              "/",
              {
                "Ref": "CostGuardianAPIDeploymentStageprod2322FA4F",
              },
              "/POST/api/recommendations/execute",
            ],
          ],
        },
      },
      "Type": "AWS::Lambda::Permission",
    },
    "CostGuardianAPIapirecommendationsexecutePOSTApiPermissionTestMyTestStackCostGuardianAPIAE2E7CE0POSTapirecommendationsexecute2B955B06": {
      "Properties": {
        "Action": "lambda:InvokeFunction",
        "FunctionName": {
          "Fn::GetAtt": [
            "ApiHandler5E7490E8",
            "Arn",
          ],
        },
        "Principal": "apigateway.amazonaws.com",
        "SourceArn": {
          "Fn::Join": [
            "",
            [
              "arn:",
              {
                "Ref": "AWS::Partition",
              },
              ":execute-api:",
              {
                "Ref": "AWS::Region",
              },
              ":",
              {
                "Ref": "AWS::AccountId",
              },
              ":",
              {
                "Ref": "CostGuardianAPID69A7606",
              },
              "/test-invoke-stage/POST/api/recommendations/execute",
            ],
          ],
        },
      },
      "Type": "AWS::Lambda::Permission",
    },
    "CostGuardianAPIapisettings9F211713": {
      "Properties": {
        "ParentId": {
          "Ref": "CostGuardianAPIapi2A7FECEB",
        },
        "PathPart": "settings",
        "RestApiId": {
          "Ref": "CostGuardianAPID69A7606",
        },
      },
      "Type": "AWS::ApiGateway::Resource",
    },
    "CostGuardianAPIapisettingsOPTIONS07E5CF5E": {
      "Properties": {
        "ApiKeyRequired": false,
        "AuthorizationType": "NONE",
        "HttpMethod": "OPTIONS",
        "Integration": {
          "IntegrationResponses": [
            {
              "ResponseParameters": {
                "method.response.header.Access-Control-Allow-Headers": "'Content-Type,X-Amz-Date,Authorization,X-Api-Key,X-Amz-Security-Token,X-Amz-User-Agent'",
                "method.response.header.Access-Control-Allow-Methods": "'OPTIONS,GET,PUT,POST,DELETE,PATCH,HEAD'",
                "method.response.header.Access-Control-Allow-Origin": "'*'",
              },
              "StatusCode": "204",
            },
          ],
          "RequestTemplates": {
            "application/json": "{ statusCode: 200 }",
          },
          "Type": "MOCK",
        },
        "MethodResponses": [
          {
            "ResponseParameters": {
              "method.response.header.Access-Control-Allow-Headers": true,
              "method.response.header.Access-Control-Allow-Methods": true,
              "method.response.header.Access-Control-Allow-Origin": true,
            },
            "StatusCode": "204",
          },
        ],
        "ResourceId": {
          "Ref": "CostGuardianAPIapisettings9F211713",
        },
        "RestApiId": {
          "Ref": "CostGuardianAPID69A7606",
        },
      },
      "Type": "AWS::ApiGateway::Method",
    },
    "CostGuardianAPIapisettingsautomation35B5C7F3": {
      "Properties": {
        "ParentId": {
          "Ref": "CostGuardianAPIapisettings9F211713",
        },
        "PathPart": "automation",
        "RestApiId": {
          "Ref": "CostGuardianAPID69A7606",
        },
      },
      "Type": "AWS::ApiGateway::Resource",
    },
    "CostGuardianAPIapisettingsautomationGETA8235FA2": {
      "Properties": {
        "AuthorizationType": "COGNITO_USER_POOLS",
        "AuthorizerId": {
          "Ref": "CognitoAuth8E818E2A",
        },
        "HttpMethod": "GET",
        "Integration": {
          "IntegrationHttpMethod": "POST",
          "Type": "AWS_PROXY",
          "Uri": {
            "Fn::Join": [
              "",
              [
                "arn:",
                {
                  "Ref": "AWS::Partition",
                },
                ":apigateway:",
                {
                  "Ref": "AWS::Region",
                },
                ":lambda:path/2015-03-31/functions/",
                {
                  "Fn::GetAtt": [
                    "ApiHandler5E7490E8",
                    "Arn",
                  ],
                },
                "/invocations",
              ],
            ],
          },
        },
        "ResourceId": {
          "Ref": "CostGuardianAPIapisettingsautomation35B5C7F3",
        },
        "RestApiId": {
          "Ref": "CostGuardianAPID69A7606",
        },
      },
      "Type": "AWS::ApiGateway::Method",
    },
    "CostGuardianAPIapisettingsautomationGETApiPermissionMyTestStackCostGuardianAPIAE2E7CE0GETapisettingsautomation98031240": {
      "Properties": {
        "Action": "lambda:InvokeFunction",
        "FunctionName": {
          "Fn::GetAtt": [
            "ApiHandler5E7490E8",
            "Arn",
          ],
        },
        "Principal": "apigateway.amazonaws.com",
        "SourceArn": {
          "Fn::Join": [
            "",
            [
              "arn:",
              {
                "Ref": "AWS::Partition",
              },
              ":execute-api:",
              {
                "Ref": "AWS::Region",
              },
              ":",
              {
                "Ref": "AWS::AccountId",
              },
              ":",
              {
                "Ref": "CostGuardianAPID69A7606",
              },
              "/",
              {
                "Ref": "CostGuardianAPIDeploymentStageprod2322FA4F",
              },
              "/GET/api/settings/automation",
            ],
          ],
        },
      },
      "Type": "AWS::Lambda::Permission",
    },
    "CostGuardianAPIapisettingsautomationGETApiPermissionTestMyTestStackCostGuardianAPIAE2E7CE0GETapisettingsautomation033BEFD6": {
      "Properties": {
        "Action": "lambda:InvokeFunction",
        "FunctionName": {
          "Fn::GetAtt": [
            "ApiHandler5E7490E8",
            "Arn",
          ],
        },
        "Principal": "apigateway.amazonaws.com",
        "SourceArn": {
          "Fn::Join": [
            "",
            [
              "arn:",
              {
                "Ref": "AWS::Partition",
              },
              ":execute-api:",
              {
                "Ref": "AWS::Region",
              },
              ":",
              {
                "Ref": "AWS::AccountId",
              },
              ":",
              {
                "Ref": "CostGuardianAPID69A7606",
              },
              "/test-invoke-stage/GET/api/settings/automation",
            ],
          ],
        },
      },
      "Type": "AWS::Lambda::Permission",
    },
    "CostGuardianAPIapisettingsautomationOPTIONS73998BBF": {
      "Properties": {
        "ApiKeyRequired": false,
        "AuthorizationType": "NONE",
        "HttpMethod": "OPTIONS",
        "Integration": {
          "IntegrationResponses": [
            {
              "ResponseParameters": {
                "method.response.header.Access-Control-Allow-Headers": "'Content-Type,X-Amz-Date,Authorization,X-Api-Key,X-Amz-Security-Token,X-Amz-User-Agent'",
                "method.response.header.Access-Control-Allow-Methods": "'OPTIONS,GET,PUT,POST,DELETE,PATCH,HEAD'",
                "method.response.header.Access-Control-Allow-Origin": "'*'",
              },
              "StatusCode": "204",
            },
          ],
          "RequestTemplates": {
            "application/json": "{ statusCode: 200 }",
          },
          "Type": "MOCK",
        },
        "MethodResponses": [
          {
            "ResponseParameters": {
              "method.response.header.Access-Control-Allow-Headers": true,
              "method.response.header.Access-Control-Allow-Methods": true,
              "method.response.header.Access-Control-Allow-Origin": true,
            },
            "StatusCode": "204",
          },
        ],
        "ResourceId": {
          "Ref": "CostGuardianAPIapisettingsautomation35B5C7F3",
        },
        "RestApiId": {
          "Ref": "CostGuardianAPID69A7606",
        },
      },
      "Type": "AWS::ApiGateway::Method",
    },
    "CostGuardianAPIapisettingsautomationPOST3C334858": {
      "Properties": {
        "AuthorizationType": "COGNITO_USER_POOLS",
        "AuthorizerId": {
          "Ref": "CognitoAuth8E818E2A",
        },
        "HttpMethod": "POST",
        "Integration": {
          "IntegrationHttpMethod": "POST",
          "Type": "AWS_PROXY",
          "Uri": {
            "Fn::Join": [
              "",
              [
                "arn:",
                {
                  "Ref": "AWS::Partition",
                },
                ":apigateway:",
                {
                  "Ref": "AWS::Region",
                },
                ":lambda:path/2015-03-31/functions/",
                {
                  "Fn::GetAtt": [
                    "ApiHandler5E7490E8",
                    "Arn",
                  ],
                },
                "/invocations",
              ],
            ],
          },
        },
        "ResourceId": {
          "Ref": "CostGuardianAPIapisettingsautomation35B5C7F3",
        },
        "RestApiId": {
          "Ref": "CostGuardianAPID69A7606",
        },
      },
      "Type": "AWS::ApiGateway::Method",
    },
    "CostGuardianAPIapisettingsautomationPOSTApiPermissionMyTestStackCostGuardianAPIAE2E7CE0POSTapisettingsautomation72E70073": {
      "Properties": {
        "Action": "lambda:InvokeFunction",
        "FunctionName": {
          "Fn::GetAtt": [
            "ApiHandler5E7490E8",
            "Arn",
          ],
        },
        "Principal": "apigateway.amazonaws.com",
        "SourceArn": {
          "Fn::Join": [
            "",
            [
              "arn:",
              {
                "Ref": "AWS::Partition",
              },
              ":execute-api:",
              {
                "Ref": "AWS::Region",
              },
              ":",
              {
                "Ref": "AWS::AccountId",
              },
              ":",
              {
                "Ref": "CostGuardianAPID69A7606",
              },
              "/",
              {
                "Ref": "CostGuardianAPIDeploymentStageprod2322FA4F",
              },
              "/POST/api/settings/automation",
            ],
          ],
        },
      },
      "Type": "AWS::Lambda::Permission",
    },
    "CostGuardianAPIapisettingsautomationPOSTApiPermissionTestMyTestStackCostGuardianAPIAE2E7CE0POSTapisettingsautomationE81A4B29": {
      "Properties": {
        "Action": "lambda:InvokeFunction",
        "FunctionName": {
          "Fn::GetAtt": [
            "ApiHandler5E7490E8",
            "Arn",
          ],
        },
        "Principal": "apigateway.amazonaws.com",
        "SourceArn": {
          "Fn::Join": [
            "",
            [
              "arn:",
              {
                "Ref": "AWS::Partition",
              },
              ":execute-api:",
              {
                "Ref": "AWS::Region",
              },
              ":",
              {
                "Ref": "AWS::AccountId",
              },
              ":",
              {
                "Ref": "CostGuardianAPID69A7606",
              },
              "/test-invoke-stage/POST/api/settings/automation",
            ],
          ],
        },
      },
      "Type": "AWS::Lambda::Permission",
    },
    "CostGuardianAPIapislaclaims8BA01858": {
      "Properties": {
        "ParentId": {
          "Ref": "CostGuardianAPIapi2A7FECEB",
        },
        "PathPart": "sla-claims",
        "RestApiId": {
          "Ref": "CostGuardianAPID69A7606",
        },
      },
      "Type": "AWS::ApiGateway::Resource",
    },
    "CostGuardianAPIapislaclaimsGET866BA3BB": {
      "Properties": {
        "AuthorizationType": "COGNITO_USER_POOLS",
        "AuthorizerId": {
          "Ref": "CognitoAuth8E818E2A",
        },
        "HttpMethod": "GET",
        "Integration": {
          "IntegrationHttpMethod": "POST",
          "Type": "AWS_PROXY",
          "Uri": {
            "Fn::Join": [
              "",
              [
                "arn:",
                {
                  "Ref": "AWS::Partition",
                },
                ":apigateway:",
                {
                  "Ref": "AWS::Region",
                },
                ":lambda:path/2015-03-31/functions/",
                {
                  "Fn::GetAtt": [
                    "ApiHandler5E7490E8",
                    "Arn",
                  ],
                },
                "/invocations",
              ],
            ],
          },
        },
        "ResourceId": {
          "Ref": "CostGuardianAPIapislaclaims8BA01858",
        },
        "RestApiId": {
          "Ref": "CostGuardianAPID69A7606",
        },
      },
      "Type": "AWS::ApiGateway::Method",
    },
    "CostGuardianAPIapislaclaimsGETApiPermissionMyTestStackCostGuardianAPIAE2E7CE0GETapislaclaimsE47D89A1": {
      "Properties": {
        "Action": "lambda:InvokeFunction",
        "FunctionName": {
          "Fn::GetAtt": [
            "ApiHandler5E7490E8",
            "Arn",
          ],
        },
        "Principal": "apigateway.amazonaws.com",
        "SourceArn": {
          "Fn::Join": [
            "",
            [
              "arn:",
              {
                "Ref": "AWS::Partition",
              },
              ":execute-api:",
              {
                "Ref": "AWS::Region",
              },
              ":",
              {
                "Ref": "AWS::AccountId",
              },
              ":",
              {
                "Ref": "CostGuardianAPID69A7606",
              },
              "/",
              {
                "Ref": "CostGuardianAPIDeploymentStageprod2322FA4F",
              },
              "/GET/api/sla-claims",
            ],
          ],
        },
      },
      "Type": "AWS::Lambda::Permission",
    },
    "CostGuardianAPIapislaclaimsGETApiPermissionTestMyTestStackCostGuardianAPIAE2E7CE0GETapislaclaims9CD38CDE": {
      "Properties": {
        "Action": "lambda:InvokeFunction",
        "FunctionName": {
          "Fn::GetAtt": [
            "ApiHandler5E7490E8",
            "Arn",
          ],
        },
        "Principal": "apigateway.amazonaws.com",
        "SourceArn": {
          "Fn::Join": [
            "",
            [
              "arn:",
              {
                "Ref": "AWS::Partition",
              },
              ":execute-api:",
              {
                "Ref": "AWS::Region",
              },
              ":",
              {
                "Ref": "AWS::AccountId",
              },
              ":",
              {
                "Ref": "CostGuardianAPID69A7606",
              },
              "/test-invoke-stage/GET/api/sla-claims",
            ],
          ],
        },
      },
      "Type": "AWS::Lambda::Permission",
    },
    "CostGuardianAPIapislaclaimsOPTIONS813BF07E": {
      "Properties": {
        "ApiKeyRequired": false,
        "AuthorizationType": "NONE",
        "HttpMethod": "OPTIONS",
        "Integration": {
          "IntegrationResponses": [
            {
              "ResponseParameters": {
                "method.response.header.Access-Control-Allow-Headers": "'Content-Type,X-Amz-Date,Authorization,X-Api-Key,X-Amz-Security-Token,X-Amz-User-Agent'",
                "method.response.header.Access-Control-Allow-Methods": "'OPTIONS,GET,PUT,POST,DELETE,PATCH,HEAD'",
                "method.response.header.Access-Control-Allow-Origin": "'*'",
              },
              "StatusCode": "204",
            },
          ],
          "RequestTemplates": {
            "application/json": "{ statusCode: 200 }",
          },
          "Type": "MOCK",
        },
        "MethodResponses": [
          {
            "ResponseParameters": {
              "method.response.header.Access-Control-Allow-Headers": true,
              "method.response.header.Access-Control-Allow-Methods": true,
              "method.response.header.Access-Control-Allow-Origin": true,
            },
            "StatusCode": "204",
          },
        ],
        "ResourceId": {
          "Ref": "CostGuardianAPIapislaclaims8BA01858",
        },
        "RestApiId": {
          "Ref": "CostGuardianAPID69A7606",
        },
      },
      "Type": "AWS::ApiGateway::Method",
    },
    "CostGuardianAPIapislareports096EC275": {
      "Properties": {
        "ParentId": {
          "Ref": "CostGuardianAPIapi2A7FECEB",
        },
        "PathPart": "sla-reports",
        "RestApiId": {
          "Ref": "CostGuardianAPID69A7606",
        },
      },
      "Type": "AWS::ApiGateway::Resource",
    },
    "CostGuardianAPIapislareportsOPTIONS1A7A34D8": {
      "Properties": {
        "ApiKeyRequired": false,
        "AuthorizationType": "NONE",
        "HttpMethod": "OPTIONS",
        "Integration": {
          "IntegrationResponses": [
            {
              "ResponseParameters": {
                "method.response.header.Access-Control-Allow-Headers": "'Content-Type,X-Amz-Date,Authorization,X-Api-Key,X-Amz-Security-Token,X-Amz-User-Agent'",
                "method.response.header.Access-Control-Allow-Methods": "'OPTIONS,GET,PUT,POST,DELETE,PATCH,HEAD'",
                "method.response.header.Access-Control-Allow-Origin": "'*'",
              },
              "StatusCode": "204",
            },
          ],
          "RequestTemplates": {
            "application/json": "{ statusCode: 200 }",
          },
          "Type": "MOCK",
        },
        "MethodResponses": [
          {
            "ResponseParameters": {
              "method.response.header.Access-Control-Allow-Headers": true,
              "method.response.header.Access-Control-Allow-Methods": true,
              "method.response.header.Access-Control-Allow-Origin": true,
            },
            "StatusCode": "204",
          },
        ],
        "ResourceId": {
          "Ref": "CostGuardianAPIapislareports096EC275",
        },
        "RestApiId": {
          "Ref": "CostGuardianAPID69A7606",
        },
      },
      "Type": "AWS::ApiGateway::Method",
    },
    "CostGuardianAPIapislareportsclaimId495DD90F": {
      "Properties": {
        "ParentId": {
          "Ref": "CostGuardianAPIapislareports096EC275",
        },
        "PathPart": "{claimId}",
        "RestApiId": {
          "Ref": "CostGuardianAPID69A7606",
        },
      },
      "Type": "AWS::ApiGateway::Resource",
    },
    "CostGuardianAPIapislareportsclaimIdGET017FA1FD": {
      "Properties": {
        "AuthorizationType": "COGNITO_USER_POOLS",
        "AuthorizerId": {
          "Ref": "CognitoAuth8E818E2A",
        },
        "HttpMethod": "GET",
        "Integration": {
          "IntegrationHttpMethod": "POST",
          "Type": "AWS_PROXY",
          "Uri": {
            "Fn::Join": [
              "",
              [
                "arn:",
                {
                  "Ref": "AWS::Partition",
                },
                ":apigateway:",
                {
                  "Ref": "AWS::Region",
                },
                ":lambda:path/2015-03-31/functions/",
                {
                  "Fn::GetAtt": [
                    "ApiHandler5E7490E8",
                    "Arn",
                  ],
                },
                "/invocations",
              ],
            ],
          },
        },
        "ResourceId": {
          "Ref": "CostGuardianAPIapislareportsclaimId495DD90F",
        },
        "RestApiId": {
          "Ref": "CostGuardianAPID69A7606",
        },
      },
      "Type": "AWS::ApiGateway::Method",
    },
    "CostGuardianAPIapislareportsclaimIdGETApiPermissionMyTestStackCostGuardianAPIAE2E7CE0GETapislareportsclaimIdC1738AFA": {
      "Properties": {
        "Action": "lambda:InvokeFunction",
        "FunctionName": {
          "Fn::GetAtt": [
            "ApiHandler5E7490E8",
            "Arn",
          ],
        },
        "Principal": "apigateway.amazonaws.com",
        "SourceArn": {
          "Fn::Join": [
            "",
            [
              "arn:",
              {
                "Ref": "AWS::Partition",
              },
              ":execute-api:",
              {
                "Ref": "AWS::Region",
              },
              ":",
              {
                "Ref": "AWS::AccountId",
              },
              ":",
              {
                "Ref": "CostGuardianAPID69A7606",
              },
              "/",
              {
                "Ref": "CostGuardianAPIDeploymentStageprod2322FA4F",
              },
              "/GET/api/sla-reports/*",
            ],
          ],
        },
      },
      "Type": "AWS::Lambda::Permission",
    },
    "CostGuardianAPIapislareportsclaimIdGETApiPermissionTestMyTestStackCostGuardianAPIAE2E7CE0GETapislareportsclaimId440A4B34": {
      "Properties": {
        "Action": "lambda:InvokeFunction",
        "FunctionName": {
          "Fn::GetAtt": [
            "ApiHandler5E7490E8",
            "Arn",
          ],
        },
        "Principal": "apigateway.amazonaws.com",
        "SourceArn": {
          "Fn::Join": [
            "",
            [
              "arn:",
              {
                "Ref": "AWS::Partition",
              },
              ":execute-api:",
              {
                "Ref": "AWS::Region",
              },
              ":",
              {
                "Ref": "AWS::AccountId",
              },
              ":",
              {
                "Ref": "CostGuardianAPID69A7606",
              },
              "/test-invoke-stage/GET/api/sla-reports/*",
            ],
          ],
        },
      },
      "Type": "AWS::Lambda::Permission",
    },
    "CostGuardianAPIapislareportsclaimIdOPTIONS0DA99BCE": {
      "Properties": {
        "ApiKeyRequired": false,
        "AuthorizationType": "NONE",
        "HttpMethod": "OPTIONS",
        "Integration": {
          "IntegrationResponses": [
            {
              "ResponseParameters": {
                "method.response.header.Access-Control-Allow-Headers": "'Content-Type,X-Amz-Date,Authorization,X-Api-Key,X-Amz-Security-Token,X-Amz-User-Agent'",
                "method.response.header.Access-Control-Allow-Methods": "'OPTIONS,GET,PUT,POST,DELETE,PATCH,HEAD'",
                "method.response.header.Access-Control-Allow-Origin": "'*'",
              },
              "StatusCode": "204",
            },
          ],
          "RequestTemplates": {
            "application/json": "{ statusCode: 200 }",
          },
          "Type": "MOCK",
        },
        "MethodResponses": [
          {
            "ResponseParameters": {
              "method.response.header.Access-Control-Allow-Headers": true,
              "method.response.header.Access-Control-Allow-Methods": true,
              "method.response.header.Access-Control-Allow-Origin": true,
            },
            "StatusCode": "204",
          },
        ],
        "ResourceId": {
          "Ref": "CostGuardianAPIapislareportsclaimId495DD90F",
        },
        "RestApiId": {
          "Ref": "CostGuardianAPID69A7606",
        },
      },
      "Type": "AWS::ApiGateway::Method",
    },
    "CostGuardianAPIapistripeD59C59BC": {
      "Properties": {
        "ParentId": {
          "Ref": "CostGuardianAPIapi2A7FECEB",
        },
        "PathPart": "stripe",
        "RestApiId": {
          "Ref": "CostGuardianAPID69A7606",
        },
      },
      "Type": "AWS::ApiGateway::Resource",
    },
    "CostGuardianAPIapistripeOPTIONSBF604CA1": {
      "Properties": {
        "ApiKeyRequired": false,
        "AuthorizationType": "NONE",
        "HttpMethod": "OPTIONS",
        "Integration": {
          "IntegrationResponses": [
            {
              "ResponseParameters": {
                "method.response.header.Access-Control-Allow-Headers": "'Content-Type,X-Amz-Date,Authorization,X-Api-Key,X-Amz-Security-Token,X-Amz-User-Agent'",
                "method.response.header.Access-Control-Allow-Methods": "'OPTIONS,GET,PUT,POST,DELETE,PATCH,HEAD'",
                "method.response.header.Access-Control-Allow-Origin": "'*'",
              },
              "StatusCode": "204",
            },
          ],
          "RequestTemplates": {
            "application/json": "{ statusCode: 200 }",
          },
          "Type": "MOCK",
        },
        "MethodResponses": [
          {
            "ResponseParameters": {
              "method.response.header.Access-Control-Allow-Headers": true,
              "method.response.header.Access-Control-Allow-Methods": true,
              "method.response.header.Access-Control-Allow-Origin": true,
            },
            "StatusCode": "204",
          },
        ],
        "ResourceId": {
          "Ref": "CostGuardianAPIapistripeD59C59BC",
        },
        "RestApiId": {
          "Ref": "CostGuardianAPID69A7606",
        },
      },
      "Type": "AWS::ApiGateway::Method",
    },
    "CostGuardianAPIapistripewebhook31251436": {
      "Properties": {
        "ParentId": {
          "Ref": "CostGuardianAPIapistripeD59C59BC",
        },
        "PathPart": "webhook",
        "RestApiId": {
          "Ref": "CostGuardianAPID69A7606",
        },
      },
      "Type": "AWS::ApiGateway::Resource",
    },
    "CostGuardianAPIapistripewebhookOPTIONS2AA35D74": {
      "Properties": {
        "ApiKeyRequired": false,
        "AuthorizationType": "NONE",
        "HttpMethod": "OPTIONS",
        "Integration": {
          "IntegrationResponses": [
            {
              "ResponseParameters": {
                "method.response.header.Access-Control-Allow-Headers": "'Content-Type,X-Amz-Date,Authorization,X-Api-Key,X-Amz-Security-Token,X-Amz-User-Agent'",
                "method.response.header.Access-Control-Allow-Methods": "'OPTIONS,GET,PUT,POST,DELETE,PATCH,HEAD'",
                "method.response.header.Access-Control-Allow-Origin": "'*'",
              },
              "StatusCode": "204",
            },
          ],
          "RequestTemplates": {
            "application/json": "{ statusCode: 200 }",
          },
          "Type": "MOCK",
        },
        "MethodResponses": [
          {
            "ResponseParameters": {
              "method.response.header.Access-Control-Allow-Headers": true,
              "method.response.header.Access-Control-Allow-Methods": true,
              "method.response.header.Access-Control-Allow-Origin": true,
            },
            "StatusCode": "204",
          },
        ],
        "ResourceId": {
          "Ref": "CostGuardianAPIapistripewebhook31251436",
        },
        "RestApiId": {
          "Ref": "CostGuardianAPID69A7606",
        },
      },
      "Type": "AWS::ApiGateway::Method",
    },
    "CostGuardianAPIapistripewebhookPOST1744F96C": {
      "Properties": {
        "AuthorizationType": "NONE",
        "HttpMethod": "POST",
        "Integration": {
          "IntegrationHttpMethod": "POST",
          "Type": "AWS_PROXY",
          "Uri": {
            "Fn::Join": [
              "",
              [
                "arn:",
                {
                  "Ref": "AWS::Partition",
                },
                ":apigateway:",
                {
                  "Ref": "AWS::Region",
                },
                ":lambda:path/2015-03-31/functions/",
                {
                  "Fn::GetAtt": [
                    "ApiHandler5E7490E8",
                    "Arn",
                  ],
                },
                "/invocations",
              ],
            ],
          },
        },
        "ResourceId": {
          "Ref": "CostGuardianAPIapistripewebhook31251436",
        },
        "RestApiId": {
          "Ref": "CostGuardianAPID69A7606",
        },
      },
      "Type": "AWS::ApiGateway::Method",
    },
    "CostGuardianAPIapistripewebhookPOSTApiPermissionMyTestStackCostGuardianAPIAE2E7CE0POSTapistripewebhook6EAF376B": {
      "Properties": {
        "Action": "lambda:InvokeFunction",
        "FunctionName": {
          "Fn::GetAtt": [
            "ApiHandler5E7490E8",
            "Arn",
          ],
        },
        "Principal": "apigateway.amazonaws.com",
        "SourceArn": {
          "Fn::Join": [
            "",
            [
              "arn:",
              {
                "Ref": "AWS::Partition",
              },
              ":execute-api:",
              {
                "Ref": "AWS::Region",
              },
              ":",
              {
                "Ref": "AWS::AccountId",
              },
              ":",
              {
                "Ref": "CostGuardianAPID69A7606",
              },
              "/",
              {
                "Ref": "CostGuardianAPIDeploymentStageprod2322FA4F",
              },
              "/POST/api/stripe/webhook",
            ],
          ],
        },
      },
      "Type": "AWS::Lambda::Permission",
    },
    "CostGuardianAPIapistripewebhookPOSTApiPermissionTestMyTestStackCostGuardianAPIAE2E7CE0POSTapistripewebhookCBD066CA": {
      "Properties": {
        "Action": "lambda:InvokeFunction",
        "FunctionName": {
          "Fn::GetAtt": [
            "ApiHandler5E7490E8",
            "Arn",
          ],
        },
        "Principal": "apigateway.amazonaws.com",
        "SourceArn": {
          "Fn::Join": [
            "",
            [
              "arn:",
              {
                "Ref": "AWS::Partition",
              },
              ":execute-api:",
              {
                "Ref": "AWS::Region",
              },
              ":",
              {
                "Ref": "AWS::AccountId",
              },
              ":",
              {
                "Ref": "CostGuardianAPID69A7606",
              },
              "/test-invoke-stage/POST/api/stripe/webhook",
            ],
          ],
        },
      },
      "Type": "AWS::Lambda::Permission",
    },
    "CostGuardianAPIapiupgrade1D7FAC45": {
      "Properties": {
        "ParentId": {
          "Ref": "CostGuardianAPIapi2A7FECEB",
        },
        "PathPart": "upgrade",
        "RestApiId": {
          "Ref": "CostGuardianAPID69A7606",
        },
      },
      "Type": "AWS::ApiGateway::Resource",
    },
    "CostGuardianAPIapiupgradeOPTIONS52102A0D": {
      "Properties": {
        "ApiKeyRequired": false,
        "AuthorizationType": "NONE",
        "HttpMethod": "OPTIONS",
        "Integration": {
          "IntegrationResponses": [
            {
              "ResponseParameters": {
                "method.response.header.Access-Control-Allow-Headers": "'Content-Type,X-Amz-Date,Authorization,X-Api-Key,X-Amz-Security-Token,X-Amz-User-Agent'",
                "method.response.header.Access-Control-Allow-Methods": "'OPTIONS,GET,PUT,POST,DELETE,PATCH,HEAD'",
                "method.response.header.Access-Control-Allow-Origin": "'*'",
              },
              "StatusCode": "204",
            },
          ],
          "RequestTemplates": {
            "application/json": "{ statusCode: 200 }",
          },
          "Type": "MOCK",
        },
        "MethodResponses": [
          {
            "ResponseParameters": {
              "method.response.header.Access-Control-Allow-Headers": true,
              "method.response.header.Access-Control-Allow-Methods": true,
              "method.response.header.Access-Control-Allow-Origin": true,
            },
            "StatusCode": "204",
          },
        ],
        "ResourceId": {
          "Ref": "CostGuardianAPIapiupgrade1D7FAC45",
        },
        "RestApiId": {
          "Ref": "CostGuardianAPID69A7606",
        },
      },
      "Type": "AWS::ApiGateway::Method",
    },
    "CostGuardianAPIapiupgradePOST26DBB04B": {
      "Properties": {
        "AuthorizationType": "COGNITO_USER_POOLS",
        "AuthorizerId": {
          "Ref": "CognitoAuth8E818E2A",
        },
        "HttpMethod": "POST",
        "Integration": {
          "IntegrationHttpMethod": "POST",
          "Type": "AWS_PROXY",
          "Uri": {
            "Fn::Join": [
              "",
              [
                "arn:",
                {
                  "Ref": "AWS::Partition",
                },
                ":apigateway:",
                {
                  "Ref": "AWS::Region",
                },
                ":lambda:path/2015-03-31/functions/",
                {
                  "Fn::GetAtt": [
                    "ApiHandler5E7490E8",
                    "Arn",
                  ],
                },
                "/invocations",
              ],
            ],
          },
        },
        "ResourceId": {
          "Ref": "CostGuardianAPIapiupgrade1D7FAC45",
        },
        "RestApiId": {
          "Ref": "CostGuardianAPID69A7606",
        },
      },
      "Type": "AWS::ApiGateway::Method",
    },
    "CostGuardianAPIapiupgradePOSTApiPermissionMyTestStackCostGuardianAPIAE2E7CE0POSTapiupgrade30B653E5": {
      "Properties": {
        "Action": "lambda:InvokeFunction",
        "FunctionName": {
          "Fn::GetAtt": [
            "ApiHandler5E7490E8",
            "Arn",
          ],
        },
        "Principal": "apigateway.amazonaws.com",
        "SourceArn": {
          "Fn::Join": [
            "",
            [
              "arn:",
              {
                "Ref": "AWS::Partition",
              },
              ":execute-api:",
              {
                "Ref": "AWS::Region",
              },
              ":",
              {
                "Ref": "AWS::AccountId",
              },
              ":",
              {
                "Ref": "CostGuardianAPID69A7606",
              },
              "/",
              {
                "Ref": "CostGuardianAPIDeploymentStageprod2322FA4F",
              },
              "/POST/api/upgrade",
            ],
          ],
        },
      },
      "Type": "AWS::Lambda::Permission",
    },
    "CostGuardianAPIapiupgradePOSTApiPermissionTestMyTestStackCostGuardianAPIAE2E7CE0POSTapiupgrade5D7054E0": {
      "Properties": {
        "Action": "lambda:InvokeFunction",
        "FunctionName": {
          "Fn::GetAtt": [
            "ApiHandler5E7490E8",
            "Arn",
          ],
        },
        "Principal": "apigateway.amazonaws.com",
        "SourceArn": {
          "Fn::Join": [
            "",
            [
              "arn:",
              {
                "Ref": "AWS::Partition",
              },
              ":execute-api:",
              {
                "Ref": "AWS::Region",
              },
              ":",
              {
                "Ref": "AWS::AccountId",
              },
              ":",
              {
                "Ref": "CostGuardianAPID69A7606",
              },
              "/test-invoke-stage/POST/api/upgrade",
            ],
          ],
        },
      },
      "Type": "AWS::Lambda::Permission",
    },
    "CostGuardianFrontend9C277927": {
      "Properties": {
        "BasicAuthConfig": {
          "EnableBasicAuth": false,
        },
        "BuildSpec": {
          "Fn::Join": [
            "",
            [
              "version: "1.0"
frontend:
  phases:
    preBuild:
      commands:
        - cd frontend
        - npm ci
    build:
      commands:
        - echo "NEXT_PUBLIC_AWS_REGION=",
              {
                "Ref": "AWS::Region",
              },
              "" >> .env.production
        - echo "NEXT_PUBLIC_API_URL=https://",
              {
                "Ref": "CostGuardianAPID69A7606",
              },
              ".execute-api.",
              {
                "Ref": "AWS::Region",
              },
              ".",
              {
                "Ref": "AWS::URLSuffix",
              },
              "/",
              {
                "Ref": "CostGuardianAPIDeploymentStageprod2322FA4F",
              },
              "/" >> .env.production
        - echo "NEXT_PUBLIC_COGNITO_USER_POOL_ID=",
              {
                "Ref": "CostGuardianPoolF8005E80",
              },
              "" >> .env.production
        - echo "NEXT_PUBLIC_COGNITO_USER_POOL_CLIENT_ID=",
              {
                "Ref": "CostGuardianUserPoolClient13CE29CE",
              },
              "" >> .env.production
        - echo "NEXT_PUBLIC_COGNITO_IDENTITY_POOL_ID=",
              {
                "Ref": "CostGuardianIdentityPool",
              },
              "" >> .env.production
        - echo "NEXT_PUBLIC_CFN_TEMPLATE_URL=",
              {
                "Fn::GetAtt": [
                  "CfnTemplateBucket4840C65E",
                  "WebsiteURL",
                ],
              },
              "/template.yaml" >> .env.production
        - npm run build
  artifacts:
    baseDirectory: frontend/.next
    files:
      - "**/*"
  cache:
    paths:
      - frontend/node_modules/**/*
",
            ],
          ],
        },
        "EnvironmentVariables": [
          {
            "Name": "_LIVE_UPDATES",
            "Value": "[{"pkg":"@aws-amplify/cli","type":"npm","version":"latest"}]",
          },
          {
            "Name": "AMPLIFY_NODE_VERSION",
            "Value": "18",
          },
        ],
        "IAMServiceRole": {
          "Fn::GetAtt": [
            "CostGuardianFrontendRole3C415262",
            "Arn",
          ],
        },
        "Name": "CostGuardianApp",
        "OauthToken": "{{resolve:secretsmanager:dummy-secret:SecretString:github-token::}}",
        "Platform": "WEB",
        "Repository": "https://github.com/test/repo",
      },
      "Type": "AWS::Amplify::App",
    },
    "CostGuardianFrontendRole3C415262": {
      "Properties": {
        "AssumeRolePolicyDocument": {
          "Statement": [
            {
              "Action": "sts:AssumeRole",
              "Effect": "Allow",
              "Principal": {
                "Service": "amplify.amazonaws.com",
              },
            },
          ],
          "Version": "2012-10-17",
        },
      },
      "Type": "AWS::IAM::Role",
    },
    "CostGuardianFrontendmain353DA911": {
      "Properties": {
        "AppId": {
          "Fn::GetAtt": [
            "CostGuardianFrontend9C277927",
            "AppId",
          ],
        },
        "BranchName": "main",
        "EnableAutoBuild": true,
        "EnablePullRequestPreview": true,
        "Stage": "PRODUCTION",
      },
      "Type": "AWS::Amplify::Branch",
    },
    "CostGuardianFrontendtestexamplecomD20722AE": {
      "Properties": {
        "AppId": {
          "Fn::GetAtt": [
            "CostGuardianFrontend9C277927",
            "AppId",
          ],
        },
        "AutoSubDomainCreationPatterns": [
          "*",
          "pr*",
        ],
        "AutoSubDomainIAMRole": {
          "Fn::GetAtt": [
            "CostGuardianFrontendRole3C415262",
            "Arn",
          ],
        },
        "DomainName": "test.example.com",
        "EnableAutoSubDomain": true,
        "SubDomainSettings": [
          {
            "BranchName": {
              "Fn::GetAtt": [
                "CostGuardianFrontendmain353DA911",
                "BranchName",
              ],
            },
            "Prefix": "www",
          },
          {
            "BranchName": {
              "Fn::GetAtt": [
                "CostGuardianFrontendmain353DA911",
                "BranchName",
              ],
            },
            "Prefix": "",
          },
        ],
      },
      "Type": "AWS::Amplify::Domain",
    },
    "CostGuardianIdentityPool": {
      "Properties": {
        "AllowUnauthenticatedIdentities": false,
        "CognitoIdentityProviders": [
          {
            "ClientId": {
              "Ref": "CostGuardianUserPoolClient13CE29CE",
            },
            "ProviderName": {
              "Fn::GetAtt": [
                "CostGuardianPoolF8005E80",
                "ProviderName",
              ],
            },
          },
        ],
      },
      "Type": "AWS::Cognito::IdentityPool",
    },
    "CostGuardianPoolF8005E80": {
      "DeletionPolicy": "Retain",
      "Properties": {
        "AccountRecoverySetting": {
          "RecoveryMechanisms": [
            {
              "Name": "verified_phone_number",
              "Priority": 1,
            },
            {
              "Name": "verified_email",
              "Priority": 2,
            },
          ],
        },
        "AdminCreateUserConfig": {
          "AllowAdminCreateUserOnly": false,
        },
        "AutoVerifiedAttributes": [
          "email",
        ],
        "EmailVerificationMessage": "The verification code to your new account is {####}",
        "EmailVerificationSubject": "Verify your new account",
        "SmsVerificationMessage": "The verification code to your new account is {####}",
        "UsernameAttributes": [
          "email",
        ],
        "VerificationMessageTemplate": {
          "DefaultEmailOption": "CONFIRM_WITH_CODE",
          "EmailMessage": "The verification code to your new account is {####}",
          "EmailSubject": "Verify your new account",
          "SmsMessage": "The verification code to your new account is {####}",
        },
      },
      "Type": "AWS::Cognito::UserPool",
      "UpdateReplacePolicy": "Retain",
    },
    "CostGuardianTable970FEF22": {
      "DeletionPolicy": "Delete",
      "Properties": {
        "AttributeDefinitions": [
          {
            "AttributeName": "id",
            "AttributeType": "S",
          },
          {
            "AttributeName": "sk",
            "AttributeType": "S",
          },
          {
            "AttributeName": "awsAccountId",
            "AttributeType": "S",
          },
          {
            "AttributeName": "status",
            "AttributeType": "S",
          },
          {
            "AttributeName": "externalId",
            "AttributeType": "S",
          },
          {
            "AttributeName": "entityType",
            "AttributeType": "S",
          },
          {
            "AttributeName": "createdAt",
            "AttributeType": "S",
          },
          {
            "AttributeName": "marketplaceCustomerId",
            "AttributeType": "S",
          },
        ],
        "BillingMode": "PAY_PER_REQUEST",
        "GlobalSecondaryIndexes": [
          {
            "IndexName": "AwsAccountIndex",
            "KeySchema": [
              {
                "AttributeName": "awsAccountId",
                "KeyType": "HASH",
              },
            ],
            "Projection": {
              "NonKeyAttributes": [
                "id",
              ],
              "ProjectionType": "INCLUDE",
            },
          },
          {
            "IndexName": "ActiveCustomerIndex",
            "KeySchema": [
              {
                "AttributeName": "sk",
                "KeyType": "HASH",
              },
              {
                "AttributeName": "status",
                "KeyType": "RANGE",
              },
            ],
            "Projection": {
              "NonKeyAttributes": [
                "id",
                "roleArn",
                "automationSettings",
                "subscriptionStatus",
                "supportLevel",
                "exclusionTags",
              ],
              "ProjectionType": "INCLUDE",
            },
          },
          {
            "IndexName": "ExternalIdIndex",
            "KeySchema": [
              {
                "AttributeName": "externalId",
                "KeyType": "HASH",
              },
            ],
            "Projection": {
              "NonKeyAttributes": [
                "id",
                "status",
              ],
              "ProjectionType": "INCLUDE",
            },
          },
          {
            "IndexName": "StatusIndex",
            "KeySchema": [
              {
                "AttributeName": "status",
                "KeyType": "HASH",
              },
              {
                "AttributeName": "id",
                "KeyType": "RANGE",
              },
            ],
            "Projection": {
              "NonKeyAttributes": [
                "sk",
                "roleArn",
                "automation",
              ],
              "ProjectionType": "INCLUDE",
            },
          },
          {
            "IndexName": "CustomerDataIndex",
            "KeySchema": [
              {
                "AttributeName": "id",
                "KeyType": "HASH",
              },
              {
                "AttributeName": "sk",
                "KeyType": "RANGE",
              },
            ],
            "Projection": {
              "ProjectionType": "ALL",
            },
          },
          {
            "IndexName": "AdminViewIndex",
            "KeySchema": [
              {
                "AttributeName": "entityType",
                "KeyType": "HASH",
              },
              {
                "AttributeName": "createdAt",
                "KeyType": "RANGE",
              },
            ],
            "Projection": {
              "NonKeyAttributes": [
                "status",
                "creditAmount",
                "reportUrl",
                "incidentId",
                "awsAccountId",
                "stripeInvoiceId",
                "caseId",
                "submissionError",
                "reportError",
                "commissionAmount",
              ],
              "ProjectionType": "INCLUDE",
            },
          },
          {
            "IndexName": "MarketplaceCustomerIndex",
            "KeySchema": [
              {
                "AttributeName": "marketplaceCustomerId",
                "KeyType": "HASH",
              },
            ],
            "Projection": {
              "NonKeyAttributes": [
                "id",
              ],
              "ProjectionType": "INCLUDE",
            },
          },
          {
            "IndexName": "RecommendationsIndex",
            "KeySchema": [
              {
                "AttributeName": "id",
                "KeyType": "HASH",
              },
              {
                "AttributeName": "sk",
                "KeyType": "RANGE",
              },
            ],
            "Projection": {
              "ProjectionType": "ALL",
            },
          },
        ],
        "KeySchema": [
          {
            "AttributeName": "id",
            "KeyType": "HASH",
          },
          {
            "AttributeName": "sk",
            "KeyType": "RANGE",
          },
        ],
        "StreamSpecification": {
          "StreamViewType": "NEW_AND_OLD_IMAGES",
        },
      },
      "Type": "AWS::DynamoDB::Table",
      "UpdateReplacePolicy": "Delete",
    },
    "CostGuardianUserPoolClient13CE29CE": {
      "Properties": {
        "AllowedOAuthFlows": [
          "implicit",
          "code",
        ],
        "AllowedOAuthFlowsUserPoolClient": true,
        "AllowedOAuthScopes": [
          "profile",
          "phone",
          "email",
          "openid",
          "aws.cognito.signin.user.admin",
        ],
        "CallbackURLs": [
          "https://example.com",
        ],
        "GenerateSecret": false,
        "SupportedIdentityProviders": [
          "COGNITO",
        ],
        "UserPoolId": {
          "Ref": "CostGuardianPoolF8005E80",
        },
      },
      "Type": "AWS::Cognito::UserPoolClient",
    },
    "CostIngestor0963D669": {
      "DependsOn": [
        "CostIngestorRoleDefaultPolicy26EC9573",
        "CostIngestorRole3830D4D6",
      ],
      "Properties": {
        "Code": {
          "S3Bucket": {
            "Fn::Sub": "cdk-hnb659fds-assets-\${AWS::AccountId}-\${AWS::Region}",
          },
          "S3Key": "495c6132680d9c271c2aa7e8d7248ac47ee8c4e81f6645e32cca6e139cd931d3.zip",
        },
        "Environment": {
          "Variables": {
            "AWS_NODEJS_CONNECTION_REUSE_ENABLED": "1",
            "DYNAMODB_TABLE": {
              "Ref": "CostGuardianTable970FEF22",
            },
            "SNS_TOPIC_ARN": {
              "Ref": "AnomalyAlertsTopic5676DBF5",
            },
          },
        },
        "Handler": "index.handler",
        "Role": {
          "Fn::GetAtt": [
            "CostIngestorRole3830D4D6",
            "Arn",
          ],
        },
        "Runtime": "nodejs18.x",
        "Timeout": 300,
      },
      "Type": "AWS::Lambda::Function",
    },
    "CostIngestorRole3830D4D6": {
      "Properties": {
        "AssumeRolePolicyDocument": {
          "Statement": [
            {
              "Action": "sts:AssumeRole",
              "Effect": "Allow",
              "Principal": {
                "Service": "lambda.amazonaws.com",
              },
            },
          ],
          "Version": "2012-10-17",
        },
        "ManagedPolicyArns": [
          {
            "Fn::Join": [
              "",
              [
                "arn:",
                {
                  "Ref": "AWS::Partition",
                },
                ":iam::aws:policy/service-role/AWSLambdaBasicExecutionRole",
              ],
            ],
          },
        ],
        "Policies": [
          {
            "PolicyDocument": {
              "Statement": [
                {
                  "Action": "dynamodb:Scan",
                  "Effect": "Allow",
                  "Resource": [
                    {
                      "Fn::GetAtt": [
                        "CostGuardianTable970FEF22",
                        "Arn",
                      ],
                    },
                    {
                      "Fn::Join": [
                        "",
                        [
                          {
                            "Fn::GetAtt": [
                              "CostGuardianTable970FEF22",
                              "Arn",
                            ],
                          },
                          "/index/*",
                        ],
                      ],
                    },
                  ],
                },
                {
                  "Action": "sts:AssumeRole",
                  "Effect": "Allow",
                  "Resource": "arn:aws:iam::*:role/CostGuardianDelegatedRole",
                },
              ],
              "Version": "2012-10-17",
            },
            "PolicyName": "DynamoAndAssumePolicy",
          },
        ],
      },
      "Type": "AWS::IAM::Role",
    },
    "CostIngestorRoleDefaultPolicy26EC9573": {
      "Properties": {
        "PolicyDocument": {
          "Statement": [
            {
              "Action": [
                "dynamodb:BatchGetItem",
                "dynamodb:GetRecords",
                "dynamodb:GetShardIterator",
                "dynamodb:Query",
                "dynamodb:GetItem",
                "dynamodb:Scan",
                "dynamodb:ConditionCheckItem",
                "dynamodb:DescribeTable",
              ],
              "Effect": "Allow",
              "Resource": [
                {
                  "Fn::GetAtt": [
                    "CostGuardianTable970FEF22",
                    "Arn",
                  ],
                },
                {
                  "Fn::Join": [
                    "",
                    [
                      {
                        "Fn::GetAtt": [
                          "CostGuardianTable970FEF22",
                          "Arn",
                        ],
                      },
                      "/index/*",
                    ],
                  ],
                },
              ],
            },
            {
              "Action": "sns:Publish",
              "Effect": "Allow",
              "Resource": {
                "Ref": "AnomalyAlertsTopic5676DBF5",
              },
            },
          ],
          "Version": "2012-10-17",
        },
        "PolicyName": "CostIngestorRoleDefaultPolicy26EC9573",
        "Roles": [
          {
            "Ref": "CostIngestorRole3830D4D6",
          },
        ],
      },
      "Type": "AWS::IAM::Policy",
    },
    "CustomS3AutoDeleteObjectsCustomResourceProviderHandler9D90184F": {
      "DependsOn": [
        "CustomS3AutoDeleteObjectsCustomResourceProviderRole3B1BD092",
      ],
      "Properties": {
        "Code": {
          "S3Bucket": {
            "Fn::Sub": "cdk-hnb659fds-assets-\${AWS::AccountId}-\${AWS::Region}",
          },
          "S3Key": "b7f33614a69548d6bafe224d751a7ef238cde19097415e553fe8b63a4c8fd8a6.zip",
        },
        "Description": {
          "Fn::Join": [
            "",
            [
              "Lambda function for auto-deleting objects in ",
              {
                "Ref": "CfnTemplateBucket4840C65E",
              },
              " S3 bucket.",
            ],
          ],
        },
        "Handler": "index.handler",
        "MemorySize": 128,
        "Role": {
          "Fn::GetAtt": [
            "CustomS3AutoDeleteObjectsCustomResourceProviderRole3B1BD092",
            "Arn",
          ],
        },
        "Runtime": "nodejs18.x",
        "Timeout": 900,
      },
      "Type": "AWS::Lambda::Function",
    },
    "CustomS3AutoDeleteObjectsCustomResourceProviderRole3B1BD092": {
      "Properties": {
        "AssumeRolePolicyDocument": {
          "Statement": [
            {
              "Action": "sts:AssumeRole",
              "Effect": "Allow",
              "Principal": {
                "Service": "lambda.amazonaws.com",
              },
            },
          ],
          "Version": "2012-10-17",
        },
        "ManagedPolicyArns": [
          {
            "Fn::Sub": "arn:\${AWS::Partition}:iam::aws:policy/service-role/AWSLambdaBasicExecutionRole",
          },
        ],
      },
      "Type": "AWS::IAM::Role",
    },
    "DailyCostIngestionRule42566126": {
      "Properties": {
        "ScheduleExpression": "cron(0 5 * * ? *)",
        "State": "ENABLED",
        "Targets": [
          {
            "Arn": {
              "Fn::GetAtt": [
                "CostIngestor0963D669",
                "Arn",
              ],
            },
            "Id": "Target0",
          },
        ],
      },
      "Type": "AWS::Events::Rule",
    },
    "DailyCostIngestionRuleAllowEventRuleMyTestStackCostIngestor405C8FDA4E803183": {
      "Properties": {
        "Action": "lambda:InvokeFunction",
        "FunctionName": {
          "Fn::GetAtt": [
            "CostIngestor0963D669",
            "Arn",
          ],
        },
        "Principal": "events.amazonaws.com",
        "SourceArn": {
          "Fn::GetAtt": [
            "DailyCostIngestionRule42566126",
            "Arn",
          ],
        },
      },
      "Type": "AWS::Lambda::Permission",
    },
    "DeleteEbsRole476B95CD": {
      "Properties": {
        "AssumeRolePolicyDocument": {
          "Statement": [
            {
              "Action": "sts:AssumeRole",
              "Effect": "Allow",
              "Principal": {
                "Service": "lambda.amazonaws.com",
              },
            },
          ],
          "Version": "2012-10-17",
        },
        "ManagedPolicyArns": [
          {
            "Fn::Join": [
              "",
              [
                "arn:",
                {
                  "Ref": "AWS::Partition",
                },
                ":iam::aws:policy/service-role/AWSLambdaBasicExecutionRole",
              ],
            ],
          },
        ],
        "Policies": [
          {
            "PolicyDocument": {
              "Statement": [
                {
                  "Action": [
                    "dynamodb:Query",
                    "dynamodb:Scan",
                    "dynamodb:GetItem",
                  ],
                  "Effect": "Allow",
                  "Resource": [
                    {
                      "Fn::GetAtt": [
                        "CostGuardianTable970FEF22",
                        "Arn",
                      ],
                    },
                    {
                      "Fn::Join": [
                        "",
                        [
                          {
                            "Fn::GetAtt": [
                              "CostGuardianTable970FEF22",
                              "Arn",
                            ],
                          },
                          "/index/*",
                        ],
                      ],
                    },
                  ],
                },
                {
                  "Action": "sts:AssumeRole",
                  "Effect": "Allow",
                  "Resource": "arn:aws:iam::*:role/CostGuardianDelegatedRole",
                },
              ],
              "Version": "2012-10-17",
            },
            "PolicyName": "DynamoPolicy",
          },
        ],
      },
      "Type": "AWS::IAM::Role",
    },
    "DeleteEbsRoleDefaultPolicyBE30F538": {
      "Properties": {
        "PolicyDocument": {
          "Statement": [
            {
              "Action": [
                "dynamodb:BatchGetItem",
                "dynamodb:GetRecords",
                "dynamodb:GetShardIterator",
                "dynamodb:Query",
                "dynamodb:GetItem",
                "dynamodb:Scan",
                "dynamodb:ConditionCheckItem",
                "dynamodb:DescribeTable",
              ],
              "Effect": "Allow",
              "Resource": [
                {
                  "Fn::GetAtt": [
                    "CostGuardianTable970FEF22",
                    "Arn",
                  ],
                },
                {
                  "Fn::Join": [
                    "",
                    [
                      {
                        "Fn::GetAtt": [
                          "CostGuardianTable970FEF22",
                          "Arn",
                        ],
                      },
                      "/index/*",
                    ],
                  ],
                },
              ],
            },
          ],
          "Version": "2012-10-17",
        },
        "PolicyName": "DeleteEbsRoleDefaultPolicyBE30F538",
        "Roles": [
          {
            "Ref": "DeleteEbsRole476B95CD",
          },
        ],
      },
      "Type": "AWS::IAM::Policy",
    },
    "DeleteUnusedEbs3A5FAC7B": {
      "DependsOn": [
        "DeleteEbsRoleDefaultPolicyBE30F538",
        "DeleteEbsRole476B95CD",
      ],
      "Properties": {
        "Code": {
          "S3Bucket": {
            "Fn::Sub": "cdk-hnb659fds-assets-\${AWS::AccountId}-\${AWS::Region}",
          },
          "S3Key": "2d24da6d4634f0ee3393a13cc05cbcda7708351ef54660e24b17168618687f7a.zip",
        },
        "Environment": {
          "Variables": {
            "AWS_NODEJS_CONNECTION_REUSE_ENABLED": "1",
            "DYNAMODB_TABLE": {
              "Ref": "CostGuardianTable970FEF22",
            },
          },
        },
        "Handler": "index.handler",
        "Role": {
          "Fn::GetAtt": [
            "DeleteEbsRole476B95CD",
            "Arn",
          ],
        },
        "Runtime": "nodejs18.x",
        "Timeout": 300,
      },
      "Type": "AWS::Lambda::Function",
    },
    "EventBusPolicy": {
      "Properties": {
        "Action": "events:PutEvents",
        "Condition": {
          "Key": "aws:PrincipalArn",
          "Type": "StringEquals",
          "Value": "arn:aws:iam::*:role/EventBusRole",
        },
        "EventBusName": "default",
        "Principal": "*",
        "StatementId": "AllowClientHealthEvents",
      },
      "Type": "AWS::Events::EventBusPolicy",
    },
    "ExecuteRecommendation661572F9": {
      "DependsOn": [
        "ExecuteRecommendationServiceRoleDefaultPolicy3123CFC9",
        "ExecuteRecommendationServiceRoleBA12FBD4",
      ],
      "Properties": {
        "Code": {
          "S3Bucket": {
            "Fn::Sub": "cdk-hnb659fds-assets-\${AWS::AccountId}-\${AWS::Region}",
          },
          "S3Key": "658c6a8101e806bdcc10436405f7a5120b036fbb4cc3f93e2f60559465c9fd79.zip",
        },
        "Environment": {
          "Variables": {
            "AWS_NODEJS_CONNECTION_REUSE_ENABLED": "1",
            "DYNAMODB_TABLE": {
              "Ref": "CostGuardianTable970FEF22",
            },
          },
        },
        "Handler": "index.handler",
        "MemorySize": 256,
        "Role": {
          "Fn::GetAtt": [
            "ExecuteRecommendationServiceRoleBA12FBD4",
            "Arn",
          ],
        },
        "Runtime": "nodejs18.x",
        "Timeout": 300,
      },
      "Type": "AWS::Lambda::Function",
    },
    "ExecuteRecommendationServiceRoleBA12FBD4": {
      "Properties": {
        "AssumeRolePolicyDocument": {
          "Statement": [
            {
              "Action": "sts:AssumeRole",
              "Effect": "Allow",
              "Principal": {
                "Service": "lambda.amazonaws.com",
              },
            },
          ],
          "Version": "2012-10-17",
        },
        "ManagedPolicyArns": [
          {
            "Fn::Join": [
              "",
              [
                "arn:",
                {
                  "Ref": "AWS::Partition",
                },
                ":iam::aws:policy/service-role/AWSLambdaBasicExecutionRole",
              ],
            ],
          },
        ],
      },
      "Type": "AWS::IAM::Role",
    },
    "ExecuteRecommendationServiceRoleDefaultPolicy3123CFC9": {
      "Properties": {
        "PolicyDocument": {
          "Statement": [
            {
              "Action": [
                "dynamodb:BatchGetItem",
                "dynamodb:GetRecords",
                "dynamodb:GetShardIterator",
                "dynamodb:Query",
                "dynamodb:GetItem",
                "dynamodb:Scan",
                "dynamodb:ConditionCheckItem",
                "dynamodb:BatchWriteItem",
                "dynamodb:PutItem",
                "dynamodb:UpdateItem",
                "dynamodb:DeleteItem",
                "dynamodb:DescribeTable",
              ],
              "Effect": "Allow",
              "Resource": [
                {
                  "Fn::GetAtt": [
                    "CostGuardianTable970FEF22",
                    "Arn",
                  ],
                },
                {
                  "Fn::Join": [
                    "",
                    [
                      {
                        "Fn::GetAtt": [
                          "CostGuardianTable970FEF22",
                          "Arn",
                        ],
                      },
                      "/index/*",
                    ],
                  ],
                },
              ],
            },
            {
              "Action": "sts:AssumeRole",
              "Effect": "Allow",
              "Resource": "*",
            },
          ],
          "Version": "2012-10-17",
        },
        "PolicyName": "ExecuteRecommendationServiceRoleDefaultPolicy3123CFC9",
        "Roles": [
          {
            "Ref": "ExecuteRecommendationServiceRoleBA12FBD4",
          },
        ],
      },
      "Type": "AWS::IAM::Policy",
    },
    "HealthEventHandler419E37F7": {
      "DependsOn": [
        "HealthEventHandlerServiceRoleDefaultPolicy9FC42B89",
        "HealthEventHandlerServiceRole360AB706",
      ],
      "Properties": {
        "Code": {
          "S3Bucket": {
            "Fn::Sub": "cdk-hnb659fds-assets-\${AWS::AccountId}-\${AWS::Region}",
          },
          "S3Key": "ef3e82062b47ff911a5b8dc3e991f9976a46f76a4975fbc00d9909e6b436290b.zip",
        },
        "Environment": {
          "Variables": {
            "AWS_NODEJS_CONNECTION_REUSE_ENABLED": "1",
            "DYNAMODB_TABLE": {
              "Ref": "CostGuardianTable970FEF22",
            },
            "SFN_ARN": {
              "Ref": "SLAWorkflow733FFDD9",
            },
          },
        },
        "Handler": "index.handler",
        "Role": {
          "Fn::GetAtt": [
            "HealthEventHandlerServiceRole360AB706",
            "Arn",
          ],
        },
        "Runtime": "nodejs18.x",
      },
      "Type": "AWS::Lambda::Function",
    },
    "HealthEventHandlerServiceRole360AB706": {
      "Properties": {
        "AssumeRolePolicyDocument": {
          "Statement": [
            {
              "Action": "sts:AssumeRole",
              "Effect": "Allow",
              "Principal": {
                "Service": "lambda.amazonaws.com",
              },
            },
          ],
          "Version": "2012-10-17",
        },
        "ManagedPolicyArns": [
          {
            "Fn::Join": [
              "",
              [
                "arn:",
                {
                  "Ref": "AWS::Partition",
                },
                ":iam::aws:policy/service-role/AWSLambdaBasicExecutionRole",
              ],
            ],
          },
        ],
      },
      "Type": "AWS::IAM::Role",
    },
    "HealthEventHandlerServiceRoleDefaultPolicy9FC42B89": {
      "Properties": {
        "PolicyDocument": {
          "Statement": [
            {
              "Action": [
                "dynamodb:BatchGetItem",
                "dynamodb:GetRecords",
                "dynamodb:GetShardIterator",
                "dynamodb:Query",
                "dynamodb:GetItem",
                "dynamodb:Scan",
                "dynamodb:ConditionCheckItem",
                "dynamodb:BatchWriteItem",
                "dynamodb:PutItem",
                "dynamodb:UpdateItem",
                "dynamodb:DeleteItem",
                "dynamodb:DescribeTable",
              ],
              "Effect": "Allow",
              "Resource": [
                {
                  "Fn::GetAtt": [
                    "CostGuardianTable970FEF22",
                    "Arn",
                  ],
                },
                {
                  "Fn::Join": [
                    "",
                    [
                      {
                        "Fn::GetAtt": [
                          "CostGuardianTable970FEF22",
                          "Arn",
                        ],
                      },
                      "/index/*",
                    ],
                  ],
                },
              ],
            },
            {
              "Action": "states:StartExecution",
              "Effect": "Allow",
              "Resource": {
                "Ref": "SLAWorkflow733FFDD9",
              },
            },
          ],
          "Version": "2012-10-17",
        },
        "PolicyName": "HealthEventHandlerServiceRoleDefaultPolicy9FC42B89",
        "Roles": [
          {
            "Ref": "HealthEventHandlerServiceRole360AB706",
          },
        ],
      },
      "Type": "AWS::IAM::Policy",
    },
    "HealthEventRule81982272": {
      "Properties": {
        "EventBusName": "default",
        "EventPattern": {
          "detail-type": [
            "AWS Health Event",
          ],
          "source": [
            "aws.health",
          ],
        },
        "State": "ENABLED",
        "Targets": [
          {
            "Arn": {
              "Fn::GetAtt": [
                "HealthEventHandler419E37F7",
                "Arn",
              ],
            },
            "Id": "Target0",
          },
        ],
      },
      "Type": "AWS::Events::Rule",
    },
    "HealthEventRuleAllowEventRuleMyTestStackHealthEventHandler3F5BACBB6130D9CF": {
      "Properties": {
        "Action": "lambda:InvokeFunction",
        "FunctionName": {
          "Fn::GetAtt": [
            "HealthEventHandler419E37F7",
            "Arn",
          ],
        },
        "Principal": "events.amazonaws.com",
        "SourceArn": {
          "Fn::GetAtt": [
            "HealthEventRule81982272",
            "Arn",
          ],
        },
      },
      "Type": "AWS::Lambda::Permission",
    },
    "HourlyMeteringRule421AFCCF": {
      "Properties": {
        "ScheduleExpression": "rate(1 hour)",
        "State": "ENABLED",
        "Targets": [
          {
            "Arn": {
              "Fn::GetAtt": [
                "MarketplaceMetering92C6E105",
                "Arn",
              ],
            },
            "Id": "Target0",
          },
        ],
      },
      "Type": "AWS::Events::Rule",
    },
    "HourlyMeteringRuleAllowEventRuleMyTestStackMarketplaceMetering0D0A08065870FC32": {
      "Properties": {
        "Action": "lambda:InvokeFunction",
        "FunctionName": {
          "Fn::GetAtt": [
            "MarketplaceMetering92C6E105",
            "Arn",
          ],
        },
        "Principal": "events.amazonaws.com",
        "SourceArn": {
          "Fn::GetAtt": [
            "HourlyMeteringRule421AFCCF",
            "Arn",
          ],
        },
      },
      "Type": "AWS::Lambda::Permission",
    },
    "MarketplaceMetering92C6E105": {
      "DependsOn": [
        "MarketplaceMeteringServiceRoleDefaultPolicyD9FC6E35",
        "MarketplaceMeteringServiceRoleA701C5CE",
      ],
      "Properties": {
        "Code": {
          "S3Bucket": {
            "Fn::Sub": "cdk-hnb659fds-assets-\${AWS::AccountId}-\${AWS::Region}",
          },
          "S3Key": "02058e8a38123c15bfed92c89ae1b1049ca7c98379d3fb01e7c4f6adde01b537.zip",
        },
        "Environment": {
          "Variables": {
            "AWS_NODEJS_CONNECTION_REUSE_ENABLED": "1",
            "DYNAMODB_TABLE": {
              "Ref": "CostGuardianTable970FEF22",
            },
            "PRODUCT_CODE": "your-product-code",
          },
        },
        "Handler": "index.handler",
        "Role": {
          "Fn::GetAtt": [
            "MarketplaceMeteringServiceRoleA701C5CE",
            "Arn",
          ],
        },
        "Runtime": "nodejs18.x",
      },
      "Type": "AWS::Lambda::Function",
    },
    "MarketplaceMeteringServiceRoleA701C5CE": {
      "Properties": {
        "AssumeRolePolicyDocument": {
          "Statement": [
            {
              "Action": "sts:AssumeRole",
              "Effect": "Allow",
              "Principal": {
                "Service": "lambda.amazonaws.com",
              },
            },
          ],
          "Version": "2012-10-17",
        },
        "ManagedPolicyArns": [
          {
            "Fn::Join": [
              "",
              [
                "arn:",
                {
                  "Ref": "AWS::Partition",
                },
                ":iam::aws:policy/service-role/AWSLambdaBasicExecutionRole",
              ],
            ],
          },
        ],
      },
      "Type": "AWS::IAM::Role",
    },
    "MarketplaceMeteringServiceRoleDefaultPolicyD9FC6E35": {
      "Properties": {
        "PolicyDocument": {
          "Statement": [
            {
              "Action": [
                "dynamodb:BatchGetItem",
                "dynamodb:GetRecords",
                "dynamodb:GetShardIterator",
                "dynamodb:Query",
                "dynamodb:GetItem",
                "dynamodb:Scan",
                "dynamodb:ConditionCheckItem",
                "dynamodb:BatchWriteItem",
                "dynamodb:PutItem",
                "dynamodb:UpdateItem",
                "dynamodb:DeleteItem",
                "dynamodb:DescribeTable",
              ],
              "Effect": "Allow",
              "Resource": [
                {
                  "Fn::GetAtt": [
                    "CostGuardianTable970FEF22",
                    "Arn",
                  ],
                },
                {
                  "Fn::Join": [
                    "",
                    [
                      {
                        "Fn::GetAtt": [
                          "CostGuardianTable970FEF22",
                          "Arn",
                        ],
                      },
                      "/index/*",
                    ],
                  ],
                },
              ],
            },
          ],
          "Version": "2012-10-17",
        },
        "PolicyName": "MarketplaceMeteringServiceRoleDefaultPolicyD9FC6E35",
        "Roles": [
          {
            "Ref": "MarketplaceMeteringServiceRoleA701C5CE",
          },
        ],
      },
      "Type": "AWS::IAM::Policy",
    },
    "RecommendRdsIdle878468E8": {
      "DependsOn": [
        "RecommendRdsRoleDefaultPolicy3C979140",
        "RecommendRdsRole185A1A88",
      ],
      "Properties": {
        "Code": {
          "S3Bucket": {
            "Fn::Sub": "cdk-hnb659fds-assets-\${AWS::AccountId}-\${AWS::Region}",
          },
          "S3Key": "eb8b9d416285d8c2994a0ac3ce82508f401e2b49155323765fd8b8a20e6c8e1c.zip",
        },
        "Environment": {
          "Variables": {
            "AWS_NODEJS_CONNECTION_REUSE_ENABLED": "1",
            "DYNAMODB_TABLE": {
              "Ref": "CostGuardianTable970FEF22",
            },
          },
        },
        "Handler": "index.handler",
        "Role": {
          "Fn::GetAtt": [
            "RecommendRdsRole185A1A88",
            "Arn",
          ],
        },
        "Runtime": "nodejs18.x",
        "Timeout": 300,
      },
      "Type": "AWS::Lambda::Function",
    },
    "RecommendRdsRole185A1A88": {
      "Properties": {
        "AssumeRolePolicyDocument": {
          "Statement": [
            {
              "Action": "sts:AssumeRole",
              "Effect": "Allow",
              "Principal": {
                "Service": "lambda.amazonaws.com",
              },
            },
          ],
          "Version": "2012-10-17",
        },
        "ManagedPolicyArns": [
          {
            "Fn::Join": [
              "",
              [
                "arn:",
                {
                  "Ref": "AWS::Partition",
                },
                ":iam::aws:policy/service-role/AWSLambdaBasicExecutionRole",
              ],
            ],
          },
        ],
        "Policies": [
          {
            "PolicyDocument": {
              "Statement": [
                {
                  "Action": [
                    "dynamodb:Query",
                    "dynamodb:Scan",
                    "dynamodb:GetItem",
                    "dynamodb:PutItem",
                  ],
                  "Effect": "Allow",
                  "Resource": [
                    {
                      "Fn::GetAtt": [
                        "CostGuardianTable970FEF22",
                        "Arn",
                      ],
                    },
                    {
                      "Fn::Join": [
                        "",
                        [
                          {
                            "Fn::GetAtt": [
                              "CostGuardianTable970FEF22",
                              "Arn",
                            ],
                          },
                          "/index/*",
                        ],
                      ],
                    },
                  ],
                },
                {
                  "Action": "sts:AssumeRole",
                  "Effect": "Allow",
                  "Resource": "arn:aws:iam::*:role/CostGuardianDelegatedRole",
                },
                {
                  "Action": "rds:DescribeDBInstances",
                  "Effect": "Allow",
                  "Resource": "*",
                },
                {
                  "Action": "cloudwatch:GetMetricStatistics",
                  "Effect": "Allow",
                  "Resource": "*",
                },
              ],
              "Version": "2012-10-17",
            },
            "PolicyName": "DynamoPolicy",
          },
        ],
      },
      "Type": "AWS::IAM::Role",
    },
    "RecommendRdsRoleDefaultPolicy3C979140": {
      "Properties": {
        "PolicyDocument": {
          "Statement": [
            {
              "Action": [
                "dynamodb:BatchGetItem",
                "dynamodb:GetRecords",
                "dynamodb:GetShardIterator",
                "dynamodb:Query",
                "dynamodb:GetItem",
                "dynamodb:Scan",
                "dynamodb:ConditionCheckItem",
                "dynamodb:BatchWriteItem",
                "dynamodb:PutItem",
                "dynamodb:UpdateItem",
                "dynamodb:DeleteItem",
                "dynamodb:DescribeTable",
              ],
              "Effect": "Allow",
              "Resource": [
                {
                  "Fn::GetAtt": [
                    "CostGuardianTable970FEF22",
                    "Arn",
                  ],
                },
                {
                  "Fn::Join": [
                    "",
                    [
                      {
                        "Fn::GetAtt": [
                          "CostGuardianTable970FEF22",
                          "Arn",
                        ],
                      },
                      "/index/*",
                    ],
                  ],
                },
              ],
            },
          ],
          "Version": "2012-10-17",
        },
        "PolicyName": "RecommendRdsRoleDefaultPolicy3C979140",
        "Roles": [
          {
            "Ref": "RecommendRdsRole185A1A88",
          },
        ],
      },
      "Type": "AWS::IAM::Policy",
    },
    "ReportsBucket4E7C5994": {
      "DeletionPolicy": "Delete",
      "Properties": {
        "PublicAccessBlockConfiguration": {
          "BlockPublicAcls": true,
          "BlockPublicPolicy": true,
          "IgnorePublicAcls": true,
          "RestrictPublicBuckets": true,
        },
        "Tags": [
          {
            "Key": "aws-cdk:auto-delete-objects",
            "Value": "true",
          },
        ],
      },
      "Type": "AWS::S3::Bucket",
      "UpdateReplacePolicy": "Delete",
    },
    "ReportsBucketAutoDeleteObjectsCustomResource98FB8A10": {
      "DeletionPolicy": "Delete",
      "DependsOn": [
        "ReportsBucketPolicy11C4A507",
      ],
      "Properties": {
        "BucketName": {
          "Ref": "ReportsBucket4E7C5994",
        },
        "ServiceToken": {
          "Fn::GetAtt": [
            "CustomS3AutoDeleteObjectsCustomResourceProviderHandler9D90184F",
            "Arn",
          ],
        },
      },
      "Type": "Custom::S3AutoDeleteObjects",
      "UpdateReplacePolicy": "Delete",
    },
    "ReportsBucketPolicy11C4A507": {
      "Properties": {
        "Bucket": {
          "Ref": "ReportsBucket4E7C5994",
        },
        "PolicyDocument": {
          "Statement": [
            {
              "Action": [
                "s3:PutBucketPolicy",
                "s3:GetBucket*",
                "s3:List*",
                "s3:DeleteObject*",
              ],
              "Effect": "Allow",
              "Principal": {
                "AWS": {
                  "Fn::GetAtt": [
                    "CustomS3AutoDeleteObjectsCustomResourceProviderRole3B1BD092",
                    "Arn",
                  ],
                },
              },
              "Resource": [
                {
                  "Fn::GetAtt": [
                    "ReportsBucket4E7C5994",
                    "Arn",
                  ],
                },
                {
                  "Fn::Join": [
                    "",
                    [
                      {
                        "Fn::GetAtt": [
                          "ReportsBucket4E7C5994",
                          "Arn",
                        ],
                      },
                      "/*",
                    ],
                  ],
                },
              ],
            },
          ],
          "Version": "2012-10-17",
        },
      },
      "Type": "AWS::S3::BucketPolicy",
    },
    "SLAWorkflow733FFDD9": {
      "DeletionPolicy": "Delete",
      "DependsOn": [
        "SLAWorkflowRoleDefaultPolicy5C830C26",
        "SLAWorkflowRole524ABF89",
      ],
      "Properties": {
        "DefinitionString": {
          "Fn::Join": [
            "",
            [
              "{"StartAt":"CalculateImpact","States":{"CalculateImpact":{"Next":"CheckSLA","Retry":[{"ErrorEquals":["Lambda.ClientExecutionTimeoutException","Lambda.ServiceException","Lambda.AWSLambdaException","Lambda.SdkClientException"],"IntervalSeconds":2,"MaxAttempts":6,"BackoffRate":2}],"Type":"Task","OutputPath":"$.Payload","Resource":"arn:",
              {
                "Ref": "AWS::Partition",
              },
              ":states:::lambda:invoke","Parameters":{"FunctionName":"",
              {
                "Fn::GetAtt": [
                  "SlaCalculateImpactC2938DC8",
                  "Arn",
                ],
              },
              "","Payload.$":"$"}},"CheckSLA":{"Next":"GenerateReport","Retry":[{"ErrorEquals":["Lambda.ClientExecutionTimeoutException","Lambda.ServiceException","Lambda.AWSLambdaException","Lambda.SdkClientException"],"IntervalSeconds":2,"MaxAttempts":6,"BackoffRate":2}],"Type":"Task","OutputPath":"$.Payload","Resource":"arn:",
              {
                "Ref": "AWS::Partition",
              },
              ":states:::lambda:invoke","Parameters":{"FunctionName":"",
              {
                "Fn::GetAtt": [
                  "SlaCheck0D07D369",
                  "Arn",
                ],
              },
              "","Payload.$":"$"}},"GenerateReport":{"Next":"IsClaimGenerated?","Retry":[{"ErrorEquals":["Lambda.ClientExecutionTimeoutException","Lambda.ServiceException","Lambda.AWSLambdaException","Lambda.SdkClientException"],"IntervalSeconds":2,"MaxAttempts":6,"BackoffRate":2}],"Type":"Task","OutputPath":"$.Payload","Resource":"arn:",
              {
                "Ref": "AWS::Partition",
              },
              ":states:::lambda:invoke","Parameters":{"FunctionName":"",
              {
                "Fn::GetAtt": [
                  "SlaGenerateReport41ABA1B6",
                  "Arn",
                ],
              },
              "","Payload.$":"$"}},"IsClaimGenerated?":{"Type":"Choice","Choices":[{"Variable":"$.status","StringEquals":"generated","Next":"SubmitTicket"}],"Default":"NoClaimGenerated"},"NoClaimGenerated":{"Type":"Succeed"},"SubmitTicket":{"End":true,"Retry":[{"ErrorEquals":["Lambda.ClientExecutionTimeoutException","Lambda.ServiceException","Lambda.AWSLambdaException","Lambda.SdkClientException"],"IntervalSeconds":2,"MaxAttempts":6,"BackoffRate":2}],"Type":"Task","OutputPath":"$.Payload","Resource":"arn:",
              {
                "Ref": "AWS::Partition",
              },
              ":states:::lambda:invoke","Parameters":{"FunctionName":"",
              {
                "Fn::GetAtt": [
                  "SlaSubmitTicketEB4E0769",
                  "Arn",
                ],
              },
              "","Payload.$":"$"}}}}",
            ],
          ],
        },
        "RoleArn": {
          "Fn::GetAtt": [
            "SLAWorkflowRole524ABF89",
            "Arn",
          ],
        },
      },
      "Type": "AWS::StepFunctions::StateMachine",
      "UpdateReplacePolicy": "Delete",
    },
    "SLAWorkflowRole524ABF89": {
      "Properties": {
        "AssumeRolePolicyDocument": {
          "Statement": [
            {
              "Action": "sts:AssumeRole",
              "Effect": "Allow",
              "Principal": {
                "Service": {
                  "Fn::FindInMap": [
                    "ServiceprincipalMap",
                    {
                      "Ref": "AWS::Region",
                    },
                    "states",
                  ],
                },
              },
            },
          ],
          "Version": "2012-10-17",
        },
      },
      "Type": "AWS::IAM::Role",
    },
    "SLAWorkflowRoleDefaultPolicy5C830C26": {
      "Properties": {
        "PolicyDocument": {
          "Statement": [
            {
              "Action": "lambda:InvokeFunction",
              "Effect": "Allow",
              "Resource": [
                {
                  "Fn::GetAtt": [
                    "SlaCalculateImpactC2938DC8",
                    "Arn",
                  ],
                },
                {
                  "Fn::Join": [
                    "",
                    [
                      {
                        "Fn::GetAtt": [
                          "SlaCalculateImpactC2938DC8",
                          "Arn",
                        ],
                      },
                      ":*",
                    ],
                  ],
                },
              ],
            },
            {
              "Action": "lambda:InvokeFunction",
              "Effect": "Allow",
              "Resource": [
                {
                  "Fn::GetAtt": [
                    "SlaCheck0D07D369",
                    "Arn",
                  ],
                },
                {
                  "Fn::Join": [
                    "",
                    [
                      {
                        "Fn::GetAtt": [
                          "SlaCheck0D07D369",
                          "Arn",
                        ],
                      },
                      ":*",
                    ],
                  ],
                },
              ],
            },
            {
              "Action": "lambda:InvokeFunction",
              "Effect": "Allow",
              "Resource": [
                {
                  "Fn::GetAtt": [
                    "SlaGenerateReport41ABA1B6",
                    "Arn",
                  ],
                },
                {
                  "Fn::Join": [
                    "",
                    [
                      {
                        "Fn::GetAtt": [
                          "SlaGenerateReport41ABA1B6",
                          "Arn",
                        ],
                      },
                      ":*",
                    ],
                  ],
                },
              ],
            },
            {
              "Action": "lambda:InvokeFunction",
              "Effect": "Allow",
              "Resource": [
                {
                  "Fn::GetAtt": [
                    "SlaSubmitTicketEB4E0769",
                    "Arn",
                  ],
                },
                {
                  "Fn::Join": [
                    "",
                    [
                      {
                        "Fn::GetAtt": [
                          "SlaSubmitTicketEB4E0769",
                          "Arn",
                        ],
                      },
                      ":*",
                    ],
                  ],
                },
              ],
            },
          ],
          "Version": "2012-10-17",
        },
        "PolicyName": "SLAWorkflowRoleDefaultPolicy5C830C26",
        "Roles": [
          {
            "Ref": "SLAWorkflowRole524ABF89",
          },
        ],
      },
      "Type": "AWS::IAM::Policy",
    },
    "SlaCalcRole17A883B1": {
      "Properties": {
        "AssumeRolePolicyDocument": {
          "Statement": [
            {
              "Action": "sts:AssumeRole",
              "Effect": "Allow",
              "Principal": {
                "Service": "lambda.amazonaws.com",
              },
            },
          ],
          "Version": "2012-10-17",
        },
        "ManagedPolicyArns": [
          {
            "Fn::Join": [
              "",
              [
                "arn:",
                {
                  "Ref": "AWS::Partition",
                },
                ":iam::aws:policy/service-role/AWSLambdaBasicExecutionRole",
              ],
            ],
          },
        ],
        "Policies": [
          {
            "PolicyDocument": {
              "Statement": [
                {
                  "Action": "sts:AssumeRole",
                  "Effect": "Allow",
                  "Resource": "arn:aws:iam::*:role/CostGuardianDelegatedRole",
                },
              ],
              "Version": "2012-10-17",
            },
            "PolicyName": "AssumeCustomerRolePolicy",
          },
        ],
      },
      "Type": "AWS::IAM::Role",
    },
    "SlaCalcRoleDefaultPolicy3A025536": {
      "Properties": {
        "PolicyDocument": {
          "Statement": [
            {
              "Action": [
                "dynamodb:BatchGetItem",
                "dynamodb:GetRecords",
                "dynamodb:GetShardIterator",
                "dynamodb:Query",
                "dynamodb:GetItem",
                "dynamodb:Scan",
                "dynamodb:ConditionCheckItem",
                "dynamodb:BatchWriteItem",
                "dynamodb:PutItem",
                "dynamodb:UpdateItem",
                "dynamodb:DeleteItem",
                "dynamodb:DescribeTable",
              ],
              "Effect": "Allow",
              "Resource": [
                {
                  "Fn::GetAtt": [
                    "CostGuardianTable970FEF22",
                    "Arn",
                  ],
                },
                {
                  "Fn::Join": [
                    "",
                    [
                      {
                        "Fn::GetAtt": [
                          "CostGuardianTable970FEF22",
                          "Arn",
                        ],
                      },
                      "/index/*",
                    ],
                  ],
                },
              ],
            },
          ],
          "Version": "2012-10-17",
        },
        "PolicyName": "SlaCalcRoleDefaultPolicy3A025536",
        "Roles": [
          {
            "Ref": "SlaCalcRole17A883B1",
          },
        ],
      },
      "Type": "AWS::IAM::Policy",
    },
    "SlaCalculateImpactC2938DC8": {
      "DependsOn": [
        "SlaCalcRoleDefaultPolicy3A025536",
        "SlaCalcRole17A883B1",
      ],
      "Properties": {
        "Code": {
          "S3Bucket": {
            "Fn::Sub": "cdk-hnb659fds-assets-\${AWS::AccountId}-\${AWS::Region}",
          },
          "S3Key": "09f99ad6a8b96c1eb5c32b2b56a40dacad87d3d56185f858d5789b70a8cbb5dc.zip",
        },
        "Environment": {
          "Variables": {
            "AWS_NODEJS_CONNECTION_REUSE_ENABLED": "1",
            "DYNAMODB_TABLE": {
              "Ref": "CostGuardianTable970FEF22",
            },
          },
        },
        "Handler": "index.calculateImpact",
        "Role": {
          "Fn::GetAtt": [
            "SlaCalcRole17A883B1",
            "Arn",
          ],
        },
        "Runtime": "nodejs18.x",
      },
      "Type": "AWS::Lambda::Function",
    },
    "SlaCheck0D07D369": {
      "DependsOn": [
        "SlaCheckServiceRole14562FCF",
      ],
      "Properties": {
        "Code": {
          "S3Bucket": {
            "Fn::Sub": "cdk-hnb659fds-assets-\${AWS::AccountId}-\${AWS::Region}",
          },
          "S3Key": "09f99ad6a8b96c1eb5c32b2b56a40dacad87d3d56185f858d5789b70a8cbb5dc.zip",
        },
        "Environment": {
          "Variables": {
            "AWS_NODEJS_CONNECTION_REUSE_ENABLED": "1",
            "DYNAMODB_TABLE": {
              "Ref": "CostGuardianTable970FEF22",
            },
          },
        },
        "Handler": "index.checkSLA",
        "Role": {
          "Fn::GetAtt": [
            "SlaCheckServiceRole14562FCF",
            "Arn",
          ],
        },
        "Runtime": "nodejs18.x",
      },
      "Type": "AWS::Lambda::Function",
    },
    "SlaCheckServiceRole14562FCF": {
      "Properties": {
        "AssumeRolePolicyDocument": {
          "Statement": [
            {
              "Action": "sts:AssumeRole",
              "Effect": "Allow",
              "Principal": {
                "Service": "lambda.amazonaws.com",
              },
            },
          ],
          "Version": "2012-10-17",
        },
        "ManagedPolicyArns": [
          {
            "Fn::Join": [
              "",
              [
                "arn:",
                {
                  "Ref": "AWS::Partition",
                },
                ":iam::aws:policy/service-role/AWSLambdaBasicExecutionRole",
              ],
            ],
          },
        ],
      },
      "Type": "AWS::IAM::Role",
    },
    "SlaGenerateReport41ABA1B6": {
      "DependsOn": [
        "SlaGenerateReportServiceRoleDefaultPolicy6350B957",
        "SlaGenerateReportServiceRole0E4981AB",
      ],
      "Properties": {
        "Code": {
          "S3Bucket": {
            "Fn::Sub": "cdk-hnb659fds-assets-\${AWS::AccountId}-\${AWS::Region}",
          },
          "S3Key": "09f99ad6a8b96c1eb5c32b2b56a40dacad87d3d56185f858d5789b70a8cbb5dc.zip",
        },
        "Environment": {
          "Variables": {
            "AWS_NODEJS_CONNECTION_REUSE_ENABLED": "1",
            "DYNAMODB_TABLE": {
              "Ref": "CostGuardianTable970FEF22",
            },
            "REPORTS_BUCKET_NAME": {
              "Ref": "ReportsBucket4E7C5994",
            },
            "STRIPE_SECRET_ARN": {
              "Ref": "StripeSecret80A38A68",
            },
          },
        },
        "Handler": "index.generateReport",
        "Role": {
          "Fn::GetAtt": [
            "SlaGenerateReportServiceRole0E4981AB",
            "Arn",
          ],
        },
        "Runtime": "nodejs18.x",
      },
      "Type": "AWS::Lambda::Function",
    },
    "SlaGenerateReportServiceRole0E4981AB": {
      "Properties": {
        "AssumeRolePolicyDocument": {
          "Statement": [
            {
              "Action": "sts:AssumeRole",
              "Effect": "Allow",
              "Principal": {
                "Service": "lambda.amazonaws.com",
              },
            },
          ],
          "Version": "2012-10-17",
        },
        "ManagedPolicyArns": [
          {
            "Fn::Join": [
              "",
              [
                "arn:",
                {
                  "Ref": "AWS::Partition",
                },
                ":iam::aws:policy/service-role/AWSLambdaBasicExecutionRole",
              ],
            ],
          },
        ],
      },
      "Type": "AWS::IAM::Role",
    },
    "SlaGenerateReportServiceRoleDefaultPolicy6350B957": {
      "Properties": {
        "PolicyDocument": {
          "Statement": [
            {
              "Action": [
                "dynamodb:BatchGetItem",
                "dynamodb:GetRecords",
                "dynamodb:GetShardIterator",
                "dynamodb:Query",
                "dynamodb:GetItem",
                "dynamodb:Scan",
                "dynamodb:ConditionCheckItem",
                "dynamodb:BatchWriteItem",
                "dynamodb:PutItem",
                "dynamodb:UpdateItem",
                "dynamodb:DeleteItem",
                "dynamodb:DescribeTable",
              ],
              "Effect": "Allow",
              "Resource": [
                {
                  "Fn::GetAtt": [
                    "CostGuardianTable970FEF22",
                    "Arn",
                  ],
                },
                {
                  "Fn::Join": [
                    "",
                    [
                      {
                        "Fn::GetAtt": [
                          "CostGuardianTable970FEF22",
                          "Arn",
                        ],
                      },
                      "/index/*",
                    ],
                  ],
                },
              ],
            },
            {
              "Action": [
                "secretsmanager:GetSecretValue",
                "secretsmanager:DescribeSecret",
              ],
              "Effect": "Allow",
              "Resource": {
                "Ref": "StripeSecret80A38A68",
              },
            },
            {
              "Action": [
                "secretsmanager:GetSecretValue",
                "secretsmanager:DescribeSecret",
              ],
              "Effect": "Allow",
              "Resource": {
                "Ref": "StripeWebhookSecretFCDDBC6A",
              },
            },
            {
              "Action": [
                "s3:PutObject",
                "s3:PutObjectLegalHold",
                "s3:PutObjectRetention",
                "s3:PutObjectTagging",
                "s3:PutObjectVersionTagging",
                "s3:Abort*",
              ],
              "Effect": "Allow",
              "Resource": {
                "Fn::Join": [
                  "",
                  [
                    {
                      "Fn::GetAtt": [
                        "ReportsBucket4E7C5994",
                        "Arn",
                      ],
                    },
                    "/*",
                  ],
                ],
              },
            },
          ],
          "Version": "2012-10-17",
        },
        "PolicyName": "SlaGenerateReportServiceRoleDefaultPolicy6350B957",
        "Roles": [
          {
            "Ref": "SlaGenerateReportServiceRole0E4981AB",
          },
        ],
      },
      "Type": "AWS::IAM::Policy",
    },
    "SlaSubmitRole89597960": {
      "Properties": {
        "AssumeRolePolicyDocument": {
          "Statement": [
            {
              "Action": "sts:AssumeRole",
              "Effect": "Allow",
              "Principal": {
                "Service": "lambda.amazonaws.com",
              },
            },
          ],
          "Version": "2012-10-17",
        },
        "ManagedPolicyArns": [
          {
            "Fn::Join": [
              "",
              [
                "arn:",
                {
                  "Ref": "AWS::Partition",
                },
                ":iam::aws:policy/service-role/AWSLambdaBasicExecutionRole",
              ],
            ],
          },
        ],
        "Policies": [
          {
            "PolicyDocument": {
              "Statement": [
                {
                  "Action": "sts:AssumeRole",
                  "Effect": "Allow",
                  "Resource": "arn:aws:iam::*:role/CostGuardianDelegatedRole",
                },
              ],
              "Version": "2012-10-17",
            },
            "PolicyName": "AssumeCustomerRolePolicy",
          },
        ],
      },
      "Type": "AWS::IAM::Role",
    },
    "SlaSubmitRoleDefaultPolicyA0FD4538": {
      "Properties": {
        "PolicyDocument": {
          "Statement": [
            {
              "Action": [
                "dynamodb:BatchGetItem",
                "dynamodb:GetRecords",
                "dynamodb:GetShardIterator",
                "dynamodb:Query",
                "dynamodb:GetItem",
                "dynamodb:Scan",
                "dynamodb:ConditionCheckItem",
                "dynamodb:BatchWriteItem",
                "dynamodb:PutItem",
                "dynamodb:UpdateItem",
                "dynamodb:DeleteItem",
                "dynamodb:DescribeTable",
              ],
              "Effect": "Allow",
              "Resource": [
                {
                  "Fn::GetAtt": [
                    "CostGuardianTable970FEF22",
                    "Arn",
                  ],
                },
                {
                  "Fn::Join": [
                    "",
                    [
                      {
                        "Fn::GetAtt": [
                          "CostGuardianTable970FEF22",
                          "Arn",
                        ],
                      },
                      "/index/*",
                    ],
                  ],
                },
              ],
            },
          ],
          "Version": "2012-10-17",
        },
        "PolicyName": "SlaSubmitRoleDefaultPolicyA0FD4538",
        "Roles": [
          {
            "Ref": "SlaSubmitRole89597960",
          },
        ],
      },
      "Type": "AWS::IAM::Policy",
    },
    "SlaSubmitTicketEB4E0769": {
      "DependsOn": [
        "SlaSubmitRoleDefaultPolicyA0FD4538",
        "SlaSubmitRole89597960",
      ],
      "Properties": {
        "Code": {
          "S3Bucket": {
            "Fn::Sub": "cdk-hnb659fds-assets-\${AWS::AccountId}-\${AWS::Region}",
          },
          "S3Key": "09f99ad6a8b96c1eb5c32b2b56a40dacad87d3d56185f858d5789b70a8cbb5dc.zip",
        },
        "Environment": {
          "Variables": {
            "AWS_NODEJS_CONNECTION_REUSE_ENABLED": "1",
            "DYNAMODB_TABLE": {
              "Ref": "CostGuardianTable970FEF22",
            },
          },
        },
        "Handler": "index.submitSupportTicket",
        "Role": {
          "Fn::GetAtt": [
            "SlaSubmitRole89597960",
            "Arn",
          ],
        },
        "Runtime": "nodejs18.x",
      },
      "Type": "AWS::Lambda::Function",
    },
    "SslCertificateB048BE20": {
      "Properties": {
        "DomainName": "test.example.com",
        "DomainValidationOptions": [
          {
            "DomainName": "test.example.com",
            "HostedZoneId": "Z123456789",
          },
          {
            "DomainName": "www.test.example.com",
            "HostedZoneId": "Z123456789",
          },
        ],
        "SubjectAlternativeNames": [
          "www.test.example.com",
        ],
        "Tags": [
          {
            "Key": "Name",
            "Value": "MyTestStack/SslCertificate",
          },
        ],
        "ValidationMethod": "DNS",
      },
      "Type": "AWS::CertificateManager::Certificate",
    },
    "StopIdleInstancesF236D216": {
      "DependsOn": [
        "StopIdleRoleDefaultPolicyC8A04B04",
        "StopIdleRole742E5D8A",
      ],
      "Properties": {
        "Code": {
          "S3Bucket": {
            "Fn::Sub": "cdk-hnb659fds-assets-\${AWS::AccountId}-\${AWS::Region}",
          },
          "S3Key": "fc74ab8669bf1cfe0aa39f64684622129273f93f24d1f71624c5c470ee007930.zip",
        },
        "Environment": {
          "Variables": {
            "AWS_NODEJS_CONNECTION_REUSE_ENABLED": "1",
            "DYNAMODB_TABLE": {
              "Ref": "CostGuardianTable970FEF22",
            },
          },
        },
        "Handler": "index.handler",
        "Role": {
          "Fn::GetAtt": [
            "StopIdleRole742E5D8A",
            "Arn",
          ],
        },
        "Runtime": "nodejs18.x",
        "Timeout": 300,
      },
      "Type": "AWS::Lambda::Function",
    },
    "StopIdleRole742E5D8A": {
      "Properties": {
        "AssumeRolePolicyDocument": {
          "Statement": [
            {
              "Action": "sts:AssumeRole",
              "Effect": "Allow",
              "Principal": {
                "Service": "lambda.amazonaws.com",
              },
            },
          ],
          "Version": "2012-10-17",
        },
        "ManagedPolicyArns": [
          {
            "Fn::Join": [
              "",
              [
                "arn:",
                {
                  "Ref": "AWS::Partition",
                },
                ":iam::aws:policy/service-role/AWSLambdaBasicExecutionRole",
              ],
            ],
          },
        ],
        "Policies": [
          {
            "PolicyDocument": {
              "Statement": [
                {
                  "Action": [
                    "dynamodb:Query",
                    "dynamodb:Scan",
                    "dynamodb:GetItem",
                    "dynamodb:PutItem",
                  ],
                  "Effect": "Allow",
                  "Resource": [
                    {
                      "Fn::GetAtt": [
                        "CostGuardianTable970FEF22",
                        "Arn",
                      ],
                    },
                    {
                      "Fn::Join": [
                        "",
                        [
                          {
                            "Fn::GetAtt": [
                              "CostGuardianTable970FEF22",
                              "Arn",
                            ],
                          },
                          "/index/*",
                        ],
                      ],
                    },
                  ],
                },
                {
                  "Action": "sts:AssumeRole",
                  "Effect": "Allow",
                  "Resource": "arn:aws:iam::*:role/CostGuardianDelegatedRole",
                },
              ],
              "Version": "2012-10-17",
            },
            "PolicyName": "DynamoPolicy",
          },
        ],
      },
      "Type": "AWS::IAM::Role",
    },
    "StopIdleRoleDefaultPolicyC8A04B04": {
      "Properties": {
        "PolicyDocument": {
          "Statement": [
            {
              "Action": [
                "dynamodb:BatchGetItem",
                "dynamodb:GetRecords",
                "dynamodb:GetShardIterator",
                "dynamodb:Query",
                "dynamodb:GetItem",
                "dynamodb:Scan",
                "dynamodb:ConditionCheckItem",
                "dynamodb:BatchWriteItem",
                "dynamodb:PutItem",
                "dynamodb:UpdateItem",
                "dynamodb:DeleteItem",
                "dynamodb:DescribeTable",
              ],
              "Effect": "Allow",
              "Resource": [
                {
                  "Fn::GetAtt": [
                    "CostGuardianTable970FEF22",
                    "Arn",
                  ],
                },
                {
                  "Fn::Join": [
                    "",
                    [
                      {
                        "Fn::GetAtt": [
                          "CostGuardianTable970FEF22",
                          "Arn",
                        ],
                      },
                      "/index/*",
                    ],
                  ],
                },
              ],
            },
          ],
          "Version": "2012-10-17",
        },
        "PolicyName": "StopIdleRoleDefaultPolicyC8A04B04",
        "Roles": [
          {
            "Ref": "StopIdleRole742E5D8A",
          },
        ],
      },
      "Type": "AWS::IAM::Policy",
    },
    "StripeSecret80A38A68": {
      "DeletionPolicy": "Delete",
      "Properties": {
        "GenerateSecretString": {
          "GenerateStringKey": "key",
          "SecretStringTemplate": "{"key":""}",
        },
      },
      "Type": "AWS::SecretsManager::Secret",
      "UpdateReplacePolicy": "Delete",
    },
    "StripeWebhookSecretFCDDBC6A": {
      "DeletionPolicy": "Delete",
      "Properties": {
        "Description": "Stripe webhook signing secret for platform webhooks",
        "GenerateSecretString": {
          "GenerateStringKey": "webhook",
          "SecretStringTemplate": "{"webhook":""}",
        },
      },
      "Type": "AWS::SecretsManager::Secret",
      "UpdateReplacePolicy": "Delete",
    },
    "WeeklyAutomationRule5514088E": {
      "Properties": {
        "ScheduleExpression": "cron(0 3 ? * SUN *)",
        "State": "ENABLED",
        "Targets": [
          {
            "Arn": {
              "Ref": "AutomationWorkflow31EDE987",
            },
            "Id": "Target0",
            "RoleArn": {
              "Fn::GetAtt": [
                "AutomationWorkflowEventsRole4334F553",
                "Arn",
              ],
            },
          },
        ],
      },
      "Type": "AWS::Events::Rule",
    },
  },
  "Rules": {
    "CheckBootstrapVersion": {
      "Assertions": [
        {
          "Assert": {
            "Fn::Not": [
              {
                "Fn::Contains": [
                  [
                    "1",
                    "2",
                    "3",
                    "4",
                    "5",
                  ],
                  {
                    "Ref": "BootstrapVersion",
                  },
                ],
              },
            ],
          },
          "AssertDescription": "CDK bootstrap stack version 6 required. Please run 'cdk bootstrap' with a recent version of the CDK CLI.",
        },
      ],
    },
  },
}
`;
